!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=21)}([function(e,t){e.exports=React},function(e,t){e.exports=ReactBootstrap},function(e,t){e.exports=ReactRouterDOM},function(e,t){e.exports=PropTypes},function(e,t){e.exports=Sentry},function(e,t){e.exports=Recharts},function(e,t){e.exports=ReactDOM},function(e,t){e.exports=LogRocket},function(e,t,n){"use strict";t.__esModule=!0,t.LinkContainer=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(0),i=l(a),c=l(n(3)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},d=t.LinkContainer=function(e){function t(){var n,r;s(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){var t=r.props,n=t.children,o=t.onClick;if(n.props.onClick&&n.props.onClick(e),o&&o(e),!e.defaultPrevented&&0===e.button&&!p(e)){e.preventDefault();var a=r.props,i=a.replace,c=a.to,u=a.history;i?u.replace(c):u.push(c)}},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.history,a=(t.location,t.match,t.staticContext,t.children),c=(t.replace,t.to),l=t.exact,s=t.strict,f=t.activeClassName,p=t.className,d=t.activeStyle,m=t.style,y=t.isActive,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["history","location","match","staticContext","children","replace","to","exact","strict","activeClassName","className","activeStyle","style","isActive"]),v=n.createHref("string"==typeof c?{pathname:c}:c),b=i.default.Children.only(a);return i.default.createElement(u.Route,{path:"object"===(void 0===c?"undefined":o(c))?c.pathname:c,exact:l,strict:s,children:function(t){var n=t.location,o=t.match,a=!!(y?y(o,n):o);return i.default.cloneElement(b,r({},h,{className:[p,b.props.className,a?f:null].join(" ").trim(),style:a?r({},m,d):m,href:v,onClick:e.handleClick}))}})},t}(a.Component);d.propTypes={history:c.default.shape({push:c.default.func.isRequired,replace:c.default.func.isRequired,createHref:c.default.func.isRequired}).isRequired,location:c.default.object,match:c.default.object,staticContext:c.default.object,children:c.default.element.isRequired,onClick:c.default.func,replace:c.default.bool,to:c.default.oneOfType([c.default.string,c.default.object]).isRequired,exact:c.default.bool,strict:c.default.bool,className:c.default.string,activeClassName:c.default.string,style:c.default.object,activeStyle:c.default.object,isActive:c.default.func},d.defaultProps={replace:!1,exact:!1,strict:!1,activeClassName:"active"},t.default=(0,u.withRouter)(d)},function(e,t){e.exports=Sentry.Integrations},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){o({ResponderEventPlugin:{extractEvents:function(e,t,n,r){try{if("click"!==e||!n||!r)return;for(var o=n,a=[];o;){var i="function"==typeof o.elementType&&o.elementType.displayName;i&&a.push(i),o=o.return}r.__lrName=a}catch(e){console.error("logrocket-react caught an error while hooking into React. Please make sure you are using the correct version of logrocket-react for your version of react-dom.")}}}})};var r=n(6),o=void 0,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;o=a&&a.Events&&a.Events[3]?a.Events[3]:function(){console.warn("logrocket-react does not work with this version of React")},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.LinkContainer=t.IndexLinkContainer=void 0;var r=a(n(17)),o=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}t.IndexLinkContainer=r.default,t.LinkContainer=o.default},function(e,t,n){"use strict";var r=n(19),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function u(e){return r.isMemo(e)?i:c[e.$$typeof]||o}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[r.Memo]=i;var l=Object.defineProperty,s=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var o=d(n);o&&o!==m&&e(t,o,r)}var i=s(n);f&&(i=i.concat(f(n)));for(var c=u(t),y=u(n),h=0;h<i.length;++h){var v=i[h];if(!(a[v]||r&&r[v]||y&&y[v]||c&&c[v])){var b=p(n,v);try{l(t,v,b)}catch(e){}}}}return t}},,function(e,t,n){var r=n(15),o=n(16);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function c(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],o=0;o<e.length;o++){var a=e[o],u=t.base?a[0]+t.base:a[0],l=n[u]||0,s="".concat(u," ").concat(l);n[u]=l+1;var f=c(s),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:s,updater:h(p,t),references:1}),r.push(s)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var s,f=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function p(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function d(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var m=null,y=0;function h(e,t){var n,r,o;if(t.singleton){var a=y++;n=m||(m=l(t)),r=p.bind(null,n,a,!1),o=p.bind(null,n,a,!0)}else n=l(t),r=d.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=c(n[r]);i[o].references--}for(var a=u(e,t),l=0;l<n.length;l++){var s=c(n[l]);0===i[s].references&&(i[s].updater(),i.splice(s,1))}n=a}}}},function(e,t,n){},function(e,t,n){"use strict";t.__esModule=!0,t.IndexLinkContainer=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(0)),a=n(2),i=c(n(8));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=t.IndexLinkContainer=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement(i.default,r({},this.props,{exact:!0}))},t}(o.default.Component);t.default=(0,a.withRouter)(s)},function(e,t){e.exports=ml5},function(e,t,n){"use strict";e.exports=n(20)},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,s=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,S=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function O(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case i:case u:case c:case m:return e;default:switch(e=e&&e.$$typeof){case s:case d:case v:case h:case l:return e;default:return t}}case a:return t}}}function j(e){return O(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=s,t.ContextProvider=l,t.Element=o,t.ForwardRef=d,t.Fragment=i,t.Lazy=v,t.Memo=h,t.Portal=a,t.Profiler=u,t.StrictMode=c,t.Suspense=m,t.isAsyncMode=function(e){return j(e)||O(e)===f},t.isConcurrentMode=j,t.isContextConsumer=function(e){return O(e)===s},t.isContextProvider=function(e){return O(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return O(e)===d},t.isFragment=function(e){return O(e)===i},t.isLazy=function(e){return O(e)===v},t.isMemo=function(e){return O(e)===h},t.isPortal=function(e){return O(e)===a},t.isProfiler=function(e){return O(e)===u},t.isStrictMode=function(e){return O(e)===c},t.isSuspense=function(e){return O(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===u||e===c||e===m||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===l||e.$$typeof===s||e.$$typeof===d||e.$$typeof===g||e.$$typeof===S||e.$$typeof===w||e.$$typeof===b)},t.typeOf=O},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(6),i=n(4),c=n(9),u=n(7),l=n.n(u),s=n(10),f=n.n(s),p=n(2);n(14);function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var m=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r},y=function(){return console};function h(){return console}var v=n(1),b=function(e){var t=e.next;return h().info("[Widget] Hello"),o.a.createElement(p.Link,{to:t},o.a.createElement(v.Button,{variant:"outline-primary",size:"lg"},"start"))},g=n(11),S=n.p+"3941a1eab40276243332df676e06a013.ogg";function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=y(),E=function(){j.info("[Widget] Player");var e=w(Object(r.useState)(!1),2),t=e[0],n=e[1];Object(r.useEffect)((function(){j.info("Changed playing: %s",t)}),[t]);var a=t?"playing...":"play reference";return o.a.createElement(v.Button,{variant:"outline-primary",size:"lg",disabled:t,onClick:function(){var e,t;n(!0),e=function(){n(!1)},(t=new Audio(S)).onended=e,t.play()}},a)},x=function(e){var t=e.next;return o.a.createElement(v.ButtonGroup,null,o.a.createElement(E,null),o.a.createElement(g.LinkContainer,{to:t},o.a.createElement(v.Button,{variant:"outline-primary",size:"lg"},"start")))},C=n(3),_=n.n(C);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var P=Object(r.forwardRef)((function(e,t){var n=e.color,r=e.size,a=A(e,["color","size"]);return o.a.createElement("svg",T({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},a),o.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"}))}));P.propTypes={color:_.a.string,size:_.a.oneOfType([_.a.string,_.a.number])},P.defaultProps={color:"currentColor",size:"1em"};var k=P;function M(){return(M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function R(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var N=Object(r.forwardRef)((function(e,t){var n=e.color,r=e.size,a=R(e,["color","size"]);return o.a.createElement("svg",M({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},a),o.a.createElement("path",{fillRule:"evenodd",d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"}))}));N.propTypes={color:_.a.string,size:_.a.oneOfType([_.a.string,_.a.number])},N.defaultProps={color:"currentColor",size:"1em"};var $=N,I=n(5);function L(e){for(var t=e.no,n=e.of,r=[],a=0;a<n;a+=1)r.push(a<=t?o.a.createElement(k,{key:a}):o.a.createElement($,{key:a}));return o.a.createElement("div",{className:m("text-primary","display-3")},r)}var z=function(e,t){return e+t},D=function(e){var t,n=e.recording,r=e.reference,a=n.filter((function(e){return!!e})),i=a.map((function(e){return e.frequency-r.frequency})).reduce(z,0)/a.length,c=a.map((function(e){return Math.abs(e.note-r.note)})).reduce(z,0)/a.length;return t=c<=.5?5:c<=1?4:c<=2?3:c<=4?2:c<=7?1:0,o.a.createElement(v.Container,null,o.a.createElement(v.Row,null,o.a.createElement(v.Col,{className:"pb-3"},o.a.createElement(L,{no:t,of:5}))),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{className:m("col-md-6","offset-md-3")},o.a.createElement(I.ResponsiveContainer,{width:"100%",height:100},o.a.createElement(I.LineChart,{height:100,width:400,data:a},o.a.createElement(I.CartesianGrid,{strokeDasharray:"3 3"}),o.a.createElement(I.ReferenceLine,{y:r.note,stroke:"red",strokeDasharray:"3 3"}),o.a.createElement(I.Line,{type:"monotone",dataKey:"note",stroke:"#8884d8",strokeWidth:2,dot:!1}))))),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{className:m("col-md-6","offset-md-3")},o.a.createElement(v.Alert,{variant:"success"},"Received ",a.length," sample(s) averaging to ",i," from C",o.a.createElement("sub",null,"4"),"."))))},B=function(){var e=Object(p.useLocation)().state;return o.a.createElement(D,{recording:e.recording,reference:e.reference})},q=function(e,t){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function F(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}n(12);var U={id:"Tracing"},W=null;!function(e){function t(t){var n=e.call(this,t)||this;n._mountActivity=null,n._mountSpan=void 0;var r=n.props,o=r.name,a=r.disabled;if(void 0!==a&&a)return n;if(W||(W=Object(i.getCurrentHub)().getIntegration(U)))n._mountActivity=function(e,t){return null===W?null:W.constructor.pushActivity(e,{description:"<"+e+">",op:"react."+t})}(o,"mount");else{var c=H();c&&(n._mountSpan=c.startChild({description:"<"+o+">",op:"react.mount"}))}return n}(function(e,t){function n(){this.constructor=e}q(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.componentDidMount=function(){var e;this._mountSpan?this._mountSpan.finish():(this._mountSpan=function(e){if(null!==e&&null!==W)return W.constructor.getActivitySpan(e)}(this._mountActivity),null!==(e=this._mountActivity)&&null!==W&&W.constructor.popActivity(e),this._mountActivity=null)},t.prototype.componentDidUpdate=function(e){var t=this,n=e.updateProps,r=e.includeUpdates;if((void 0===r||r)&&this._mountSpan&&n!==this.props.updateProps){var o=Object.keys(n).filter((function(e){return n[e]!==t.props.updateProps[e]}));if(o.length>0){var a=Object(i.timestampWithMs)();this._mountSpan.startChild({data:{changedProps:o},description:"<"+this.props.name+">",endTimestamp:a,op:"react.update",startTimestamp:a})}}},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.name,n=e.includeRender,r=void 0===n||n;this._mountSpan&&r&&this._mountSpan.startChild({description:"<"+t+">",endTimestamp:Object(i.timestampWithMs)(),op:"react.render",startTimestamp:this._mountSpan.endTimestamp})},t.prototype.render=function(){return this.props.children},t.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}(r.Component);function H(e){if(void 0===e&&(e=Object(i.getCurrentHub)()),e){var t=e.getScope();if(t)return t.getTransaction()}}n(18);var G=["A","B♭","B","C","C♯","D","D♯","E","F","F♯","G","G♯"],K=function(e){return 440*Math.pow((e-69)/12,2)},J=function(e){return 69+12*Math.log2(e/440)},V=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._freq=t,this.note=Math.round(J(t)),this.frequency=K(this.note),this.name=function(e){return G[(e-21)%12]}(this.note),this.octave=function(e){return Math.floor(e/12-1)}(this.note)},Y=function(e){if(null==e)return null;var t,n,r=new V(e);return{frequency:e,target:r,note:J(e),diff:(t=r.frequency,n=e,1200*Math.log2(n/t))}},Q=function(e){return this instanceof Q?(this.v=e,this):new Q(e)},X=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||c(e,t)}))})}function c(e,t){try{(n=o[e](t)).value instanceof Q?Promise.resolve(n.value.v).then(u,l):s(a[0][2],n)}catch(e){s(a[0][3],e)}var n}function u(e){c("next",e)}function l(e){c("throw",e)}function s(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}},Z=y(),ee="https://cdn.jsdelivr.net/gh/ml5js/ml5-data-and-models/models/pitch-detection/crepe/";function te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var re=function(e){var t=te(Object(r.useState)(!1),2),n=t[0],o=t[1],a=te(Object(r.useState)(),2),i=a[0],c=a[1];return Object(r.useEffect)((function(){var t=!0;return e.generator.next().then((function(e){!e.done&&t&&(c(e.value||void 0),o(!n))})),function(){t=!1}}),[n]),Object(r.useEffect)((function(){e.onTick&&i&&e.onTick(i)}),[i]),"function"==typeof e.children?e.children(i):e.children};function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=y();function ce(e){var t=e.pitchGenerator,n=e.timeoutMs,a=e.onFinish,i=oe(Object(r.useState)([]),2),c=i[0],u=i[1],l=oe(Object(r.useState)(!1),2),s=l[0],f=l[1],p=oe(Object(r.useState)(!1),2),d=p[0],m=p[1],y=oe(Object(r.useState)(0),2),h=y[0],b=y[1];Object(r.useEffect)((function(){if(!s)return function(){};ie.info("Setting up the timeout.");var e=setTimeout((function(){m(!0),f(!1)}),n);return ie.info("Set up timer %d for %d ms.",e,n),function(){ie.info("Clearing out the timeout %d.",e),clearTimeout(e)}}),[s]),Object(r.useEffect)((function(){if(!s)return function(){};b(n/1e3),ie.info("Setting the interval with countdown %d.",n);var e=setInterval((function(){return b((function(e){return e-1}))}),1e3);return function(){ie.info("Clearing out the interval %d.",e),clearInterval(e)}}),[s]),Object(r.useEffect)((function(){d&&(ie.info("Finishing recording."),a(c))}),[d,c]);var g=s?o.a.createElement(v.Button,{variant:"outline-primary",disabled:!0},o.a.createElement(v.Spinner,{as:"span",animation:"grow",role:"status","aria-hidden":"true",size:"sm",className:"mr-2",variant:"danger"}),h,"..."):o.a.createElement("h3",{className:"text-info"},"start singing!");return t?o.a.createElement(re,{generator:t,onTick:function(e){var t=c.concat([e]);u(t),s||f(!0)}},g):o.a.createElement(v.Spinner,{animation:"border",variant:"primary"})}function ue(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return le(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var se=y();var fe=function(e){var t=e.next;se.info("[Widget] Recorder"),function(e,t){void 0===t&&(t={disabled:!1,hasRenderSpan:!0});var n=F(r.useState((function(){if(!t||!t.disabled){var n=H();return n?n.startChild({description:"<"+e+">",op:"react.mount"}):void 0}})),1)[0];r.useEffect((function(){return n&&n.finish(),function(){n&&t.hasRenderSpan&&n.startChild({description:"<"+e+">",endTimestamp:Object(i.timestampWithMs)(),op:"react.render",startTimestamp:n.endTimestamp})}}),[])}("PitchDetection");var n=window.AudioContext||window.webkitAudioContext,a=ue(Object(r.useState)(new n),1)[0],c=ue(Object(r.useState)(),2),u=c[0],l=c[1],s=ue(Object(r.useState)(),2),f=s[0],d=s[1],m=function(){var e=ue(Object(r.useState)(),2),t=e[0],n=e[1],o=h();return Object(r.useEffect)((function(){o.info("Acquiring microphone."),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(e){o.debug("Microphone initialized with stream: %j, active?, %s, state: %s.",e,e.active,e.getAudioTracks()[0].readyState),e.getAudioTracks()[0].stop(),n(e)}))}),[]),t}();if(Object(r.useEffect)((function(){if(void 0===m)return function(){};se.info("Setting up the context in state %j and stream %j",a.state,m.id);var e=a.createMediaStreamSource(m);return se.info("Media stream source created.",e),l(function(e,t){return X(this,arguments,regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Q(ml5.pitchDetection(ee,e,t));case 2:return r=n.sent,n.next=5,Q(r.ready);case 5:if(!t.active||"running"!==e.state){n.next=19;break}return n.next=8,Q(r.getPitch());case 8:if(null!==(o=n.sent)){n.next=13;break}Z.debug("No pitch detected."),n.next=17;break;case 13:return n.next=15,Q(Y(o));case 15:return n.next=17,n.sent;case 17:n.next=5;break;case 19:case"end":return n.stop()}}),n)})))}(a,m)),a.resume(),function(){se.info("Cleanup the audio settings"),se.debug("Stop all tracks in the stream %j.",m),null==m||m.getTracks().forEach((function(e){return e.stop()})),se.debug("Suspend audio context %j.",a),a.suspend()}}),[m]),void 0!==f){var y=Y(K(60));return o.a.createElement(p.Redirect,{to:{pathname:t,state:{recording:f,reference:y}}})}return u?(se.info(u),o.a.createElement(ce,{onFinish:function(e){d(e)},pitchGenerator:u,timeoutMs:5e3})):o.a.createElement(v.Spinner,{animation:"border",variant:"primary"})},pe=y(),de=function(){return pe.info("Starting app."),o.a.createElement(v.Container,null,o.a.createElement(p.BrowserRouter,null,o.a.createElement("header",{className:m("text-center","mt-5")},o.a.createElement(p.Link,{to:"/",className:m("title","navbar-brand")},o.a.createElement("h1",{className:m("display-1","text-primary","title")},"vocally")),o.a.createElement("p",{className:"text-secondary lead"},"how clean can you sing?")),o.a.createElement("main",{className:m("text-center","py-5"),role:"main"},o.a.createElement(p.Switch,null,o.a.createElement(p.Route,{path:"/preview"},o.a.createElement(x,{next:"/record"})),o.a.createElement(p.Route,{path:"/record"},o.a.createElement(fe,{next:"/summary"})),o.a.createElement(p.Route,{path:"/summary"},o.a.createElement(B,null)),o.a.createElement(p.Route,{path:"/"},o.a.createElement(b,{next:"/preview"})))),o.a.createElement("footer",{className:m("py-3","border-top","text-muted")},o.a.createElement(v.Container,null,o.a.createElement("p",null,"vocally.app 2020")))))};i.init({dsn:"https://ffe439ac65b84889a37518037a23a7b1@o433557.ingest.sentry.io/5388917",release:"testing",environment:"testing",integrations:[new c.CaptureConsole({levels:["info"]}),new i.Integrations.BrowserTracing]}),l.a.init("6ayqi7/vocallytest",{release:"testing"}),f()(l.a),a.render(r.createElement(de,null),document.getElementById("app"))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdEJvb3RzdHJhcFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0Um91dGVyRE9NXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUHJvcFR5cGVzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiU2VudHJ5XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVjaGFydHNcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdERPTVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIkxvZ1JvY2tldFwiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItYm9vdHN0cmFwL2xpYi9MaW5rQ29udGFpbmVyLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIlNlbnRyeS5JbnRlZ3JhdGlvbnNcIiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9ncm9ja2V0LXJlYWN0L2Rpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1ib290c3RyYXAvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy9kaXN0L2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzLmNqcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvQXBwLmNzcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LXJvdXRlci1ib290c3RyYXAvbGliL0luZGV4TGlua0NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJtbDVcIiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2Nqcy9yZWFjdC1pcy5wcm9kdWN0aW9uLm1pbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY2xzeC9kaXN0L2Nsc3gubS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9nLnRlc3RpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL0hlbGxvLnRzeCIsIndlYnBhY2s6Ly8vLi9hc3NldHMvYXVkaW8vYzQub2dnIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1BsYXllci50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL1ByZXZpZXcudHN4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1ib290c3RyYXAtaWNvbnMvZGlzdC9pY29ucy9zdGFyLWZpbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJvb3RzdHJhcC1pY29ucy9kaXN0L2ljb25zL3N0YXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvc3VtbWFyeS9TdW1tYXJ5LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvUmVzdWx0LnRzeCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9yZWFjdC9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3JlYWN0L2VzbS9wcm9maWxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGl0Y2gvbm90ZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BpdGNoL3BpdGNoLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0dlbmVyYXRvckNvbXBvbmVudC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUGl0Y2hSZWNvcmRlci50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL0RldGVjdGlvbi50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2luaXQudGVzdGluZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHN4Il0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVhY3QiLCJSZWFjdEJvb3RzdHJhcCIsIlJlYWN0Um91dGVyRE9NIiwiUHJvcFR5cGVzIiwiU2VudHJ5IiwiUmVjaGFydHMiLCJSZWFjdERPTSIsIkxvZ1JvY2tldCIsIkxpbmtDb250YWluZXIiLCJ1bmRlZmluZWQiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInRhcmdldCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsIl90eXBlb2YiLCJpdGVyYXRvciIsIm9iaiIsImNvbnN0cnVjdG9yIiwiX3JlYWN0IiwiX3JlYWN0MiIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJfcHJvcFR5cGVzMiIsIl9yZWFjdFJvdXRlckRvbSIsImRlZmF1bHQiLCJfY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJpc01vZGlmaWVkRXZlbnQiLCJldmVudCIsIm1ldGFLZXkiLCJhbHRLZXkiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJfQ29tcG9uZW50IiwiX3RlbXAiLCJfdGhpcyIsInRoaXMiLCJfbGVuIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImFwcGx5IiwiY29uY2F0IiwiaGFuZGxlQ2xpY2siLCJfdGhpcyRwcm9wcyIsInByb3BzIiwiY2hpbGRyZW4iLCJvbkNsaWNrIiwiZGVmYXVsdFByZXZlbnRlZCIsImJ1dHRvbiIsInByZXZlbnREZWZhdWx0IiwiX3RoaXMkcHJvcHMyIiwicmVwbGFjZSIsInRvIiwiaGlzdG9yeSIsInB1c2giLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiX2luaGVyaXRzIiwicmVuZGVyIiwiX3RoaXMyIiwiX3Byb3BzIiwibG9jYXRpb24iLCJtYXRjaCIsInN0YXRpY0NvbnRleHQiLCJleGFjdCIsInN0cmljdCIsImFjdGl2ZUNsYXNzTmFtZSIsImNsYXNzTmFtZSIsImFjdGl2ZVN0eWxlIiwic3R5bGUiLCJnZXRJc0FjdGl2ZSIsImlzQWN0aXZlIiwia2V5cyIsImluZGV4T2YiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMiLCJocmVmIiwiY3JlYXRlSHJlZiIsInBhdGhuYW1lIiwiY2hpbGQiLCJDaGlsZHJlbiIsIm9ubHkiLCJjcmVhdGVFbGVtZW50IiwiUm91dGUiLCJwYXRoIiwiX3JlZiIsImNsb25lRWxlbWVudCIsImpvaW4iLCJ0cmltIiwiQ29tcG9uZW50IiwicHJvcFR5cGVzIiwic2hhcGUiLCJmdW5jIiwiaXNSZXF1aXJlZCIsImVsZW1lbnQiLCJib29sIiwib25lT2ZUeXBlIiwic3RyaW5nIiwiZGVmYXVsdFByb3BzIiwid2l0aFJvdXRlciIsIkludGVncmF0aW9ucyIsImluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSIsIlJlc3BvbmRlckV2ZW50UGx1Z2luIiwiZXh0cmFjdEV2ZW50cyIsInRvcExldmVsVHlwZSIsInRhcmdldEluc3QiLCJmaWJlck5vZGUiLCJuYXRpdmVFdmVudCIsImN1cnJlbnRFbGVtZW50IiwibmFtZXMiLCJlbGVtZW50VHlwZSIsImRpc3BsYXlOYW1lIiwicmV0dXJuIiwiX19sck5hbWUiLCJlcnJvciIsImNvbnNvbGUiLCJfcmVhY3REb20iLCJzZWNyZXQiLCJfX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCIsIkV2ZW50cyIsIndhcm4iLCJJbmRleExpbmtDb250YWluZXIiLCJfSW5kZXhMaW5rQ29udGFpbmVyMyIsIl9MaW5rQ29udGFpbmVyMyIsInJlYWN0SXMiLCJSRUFDVF9TVEFUSUNTIiwiY2hpbGRDb250ZXh0VHlwZXMiLCJjb250ZXh0VHlwZSIsImNvbnRleHRUeXBlcyIsImdldERlZmF1bHRQcm9wcyIsImdldERlcml2ZWRTdGF0ZUZyb21FcnJvciIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsIm1peGlucyIsInR5cGUiLCJLTk9XTl9TVEFUSUNTIiwiY2FsbGVyIiwiY2FsbGVlIiwiYXJpdHkiLCJNRU1PX1NUQVRJQ1MiLCJjb21wYXJlIiwiVFlQRV9TVEFUSUNTIiwiZ2V0U3RhdGljcyIsImNvbXBvbmVudCIsImlzTWVtbyIsIkZvcndhcmRSZWYiLCJNZW1vIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldFByb3RvdHlwZU9mIiwib2JqZWN0UHJvdG90eXBlIiwiaG9pc3ROb25SZWFjdFN0YXRpY3MiLCJ0YXJnZXRDb21wb25lbnQiLCJzb3VyY2VDb21wb25lbnQiLCJibGFja2xpc3QiLCJpbmhlcml0ZWRDb21wb25lbnQiLCJ0YXJnZXRTdGF0aWNzIiwic291cmNlU3RhdGljcyIsImRlc2NyaXB0b3IiLCJlIiwiYXBpIiwiY29udGVudCIsIm9wdGlvbnMiLCJsb2NhbHMiLCJtZW1vIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJ3aW5kb3ciLCJkb2N1bWVudCIsImFsbCIsImF0b2IiLCJnZXRUYXJnZXQiLCJzdHlsZVRhcmdldCIsInF1ZXJ5U2VsZWN0b3IiLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJzdHlsZXNJbkRvbSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsImxpc3QiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJpdGVtIiwiaWQiLCJiYXNlIiwiY291bnQiLCJpbmRleCIsImNzcyIsIm1lZGlhIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRTdHlsZSIsImluc2VydFN0eWxlRWxlbWVudCIsImF0dHJpYnV0ZXMiLCJub25jZSIsImZvckVhY2giLCJzZXRBdHRyaWJ1dGUiLCJpbnNlcnQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwidGV4dFN0b3JlIiwicmVwbGFjZVRleHQiLCJyZXBsYWNlbWVudCIsImZpbHRlciIsImFwcGx5VG9TaW5nbGV0b25UYWciLCJyZW1vdmUiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImNzc05vZGUiLCJjcmVhdGVUZXh0Tm9kZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsImluc2VydEJlZm9yZSIsImFwcGx5VG9UYWciLCJyZW1vdmVBdHRyaWJ1dGUiLCJidG9hIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZmlyc3RDaGlsZCIsInNpbmdsZXRvbiIsInNpbmdsZXRvbkNvdW50ZXIiLCJ1cGRhdGUiLCJzdHlsZUluZGV4IiwicGFyZW50Tm9kZSIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJ0b1N0cmluZyIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4Iiwic3BsaWNlIiwiX0xpbmtDb250YWluZXIyIiwiX1JlYWN0JENvbXBvbmVudCIsIm1sNSIsImIiLCJmb3IiLCJmIiwiZyIsImgiLCJrIiwicSIsInYiLCJ3IiwieCIsInkiLCJ6IiwiYSIsInUiLCIkJHR5cGVvZiIsIkEiLCJBc3luY01vZGUiLCJDb25jdXJyZW50TW9kZSIsIkNvbnRleHRDb25zdW1lciIsIkNvbnRleHRQcm92aWRlciIsIkVsZW1lbnQiLCJGcmFnbWVudCIsIkxhenkiLCJQb3J0YWwiLCJQcm9maWxlciIsIlN0cmljdE1vZGUiLCJTdXNwZW5zZSIsImlzQXN5bmNNb2RlIiwiaXNDb25jdXJyZW50TW9kZSIsImlzQ29udGV4dENvbnN1bWVyIiwiaXNDb250ZXh0UHJvdmlkZXIiLCJpc0VsZW1lbnQiLCJpc0ZvcndhcmRSZWYiLCJpc0ZyYWdtZW50IiwiaXNMYXp5IiwiaXNQb3J0YWwiLCJpc1Byb2ZpbGVyIiwiaXNTdHJpY3RNb2RlIiwiaXNTdXNwZW5zZSIsImlzVmFsaWRFbGVtZW50VHlwZSIsInR5cGVPZiIsInRvVmFsIiwibWl4Iiwic3RyIiwiaXNBcnJheSIsInRtcCIsInVzZUxvZ2dlciIsIm5leHQiLCJpbmZvIiwidmFyaWFudCIsInNpemUiLCJpc1BsYXlpbmciLCJzZXRJc1BsYXlpbmciLCJtZXNzYWdlIiwiZGlzYWJsZWQiLCJvbkVuZCIsImF1ZGlvIiwiQXVkaW8iLCJvbmVuZGVkIiwicGxheSIsImV4Y2x1ZGVkIiwic291cmNlS2V5cyIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlIiwic291cmNlU3ltYm9sS2V5cyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiU3RhckZpbGwiLCJyZWYiLCJjb2xvciIsInJlc3QiLCJ4bWxucyIsInZpZXdCb3giLCJ3aWR0aCIsImhlaWdodCIsImZpbGwiLCJudW1iZXIiLCJTdGFyIiwiZmlsbFJ1bGUiLCJSYXRpbmciLCJubyIsIm9mIiwic3RhcnMiLCJzdW0iLCJzdGFyQ291bnQiLCJyZWNvcmRpbmciLCJyZWZlcmVuY2UiLCJub25FbXB0eSIsImZyZXFSZXN1bHQiLCJtYXAiLCJmcmVxdWVuY3kiLCJyZWR1Y2UiLCJtaWRpUmVzdWx0IiwiTWF0aCIsImFicyIsIm5vdGUiLCJkYXRhIiwic3Ryb2tlRGFzaGFycmF5Iiwic3Ryb2tlIiwiZGF0YUtleSIsInN0cm9rZVdpZHRoIiwiZG90Iiwic3RhdGUiLCJTdW1tYXJ5IiwiZXh0ZW5kU3RhdGljcyIsIl9fcmVhZCIsImFyIiwiZG9uZSIsIlRSQUNJTkdfR0VUVEVSIiwiZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uIiwiX3N1cGVyIiwiX21vdW50QWN0aXZpdHkiLCJfbW91bnRTcGFuIiwiX2EiLCJfYiIsImdldEludGVncmF0aW9uIiwib3AiLCJwdXNoQWN0aXZpdHkiLCJkZXNjcmlwdGlvbiIsImFjdGl2ZVRyYW5zYWN0aW9uIiwiZ2V0QWN0aXZlVHJhbnNhY3Rpb24iLCJzdGFydENoaWxkIiwiX18iLCJfX2V4dGVuZHMiLCJjb21wb25lbnREaWRNb3VudCIsImFjdGl2aXR5IiwiZmluaXNoIiwiZ2V0QWN0aXZpdHlTcGFuIiwicG9wQWN0aXZpdHkiLCJjb21wb25lbnREaWRVcGRhdGUiLCJ1cGRhdGVQcm9wcyIsImluY2x1ZGVVcGRhdGVzIiwiY2hhbmdlZFByb3BzIiwibm93IiwiZW5kVGltZXN0YW1wIiwic3RhcnRUaW1lc3RhbXAiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImluY2x1ZGVSZW5kZXIiLCJodWIiLCJzY29wZSIsImdldFNjb3BlIiwiZ2V0VHJhbnNhY3Rpb24iLCJub3RlcyIsIm5vdGVUb0ZyZXEiLCJmcmVxVG9Ob3RlIiwiZnJlcSIsImxvZzIiLCJOb3RlIiwiX2ZyZXEiLCJyb3VuZCIsIm9jdGF2ZSIsImZsb29yIiwiZGlmZiIsIk1PREVMX1VSTCIsImZsYWciLCJzZXRGbGFnIiwiY3VycmVudFZhbHVlIiwic2V0Q3VycmVudFZhbHVlIiwibW91bnRlZCIsImdlbmVyYXRvciIsInRoZW4iLCJvblRpY2siLCJQaXRjaFJlY29yZGVyIiwicGl0Y2hHZW5lcmF0b3IiLCJ0aW1lb3V0TXMiLCJvbkZpbmlzaCIsInNldFJlY29yZGluZyIsInN0YXJ0ZWQiLCJzZXRTdGFydGVkIiwiZmluaXNoZWQiLCJzZXRGaW5pc2hlZCIsImNvdW50ZG93biIsInNldENvdW50ZG93biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwicHJldiIsImNsZWFySW50ZXJ2YWwiLCJsYWJlbCIsImFzIiwiYW5pbWF0aW9uIiwicm9sZSIsIm5ld1JlY29yZGluZyIsImhhc1JlbmRlclNwYW4iLCJtb3VudFNwYW4iLCJBdWRpb0N0eCIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsImF1ZGlvQ29udGV4dCIsInBpdGNoRGV0ZWN0aW9uR2VuZXJhdG9yIiwic2V0UGl0Y2hEZXRlY3Rpb25HZW5lcmF0b3IiLCJzdHJlYW0iLCJzZXRTdHJlYW0iLCJsb2dnZXIiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJ2aWRlbyIsIm5ld1N0cmVhbSIsImRlYnVnIiwiYWN0aXZlIiwiZ2V0QXVkaW9UcmFja3MiLCJyZWFkeVN0YXRlIiwic3RvcCIsInVzZU1pY3JvcGhvbmUiLCJub2RlIiwiY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UiLCJjdHgiLCJwaXRjaERldGVjdGlvbiIsInJlYWR5IiwiZ2V0UGl0Y2giLCJwaXRjaCIsIm1sNVBpdGNoRGV0ZWN0aW9uIiwicmVzdW1lIiwiZ2V0VHJhY2tzIiwic3VzcGVuZCIsInJlZmVyZW5jZVBpdGNoIiwiUHJldmlldyIsIlJlc3VsdCIsImRzbiIsInJlbGVhc2UiLCJlbnZpcm9ubWVudCIsImludGVncmF0aW9ucyIsImxldmVscyIsIkJyb3dzZXJUcmFjaW5nIiwiaW5pdCIsImdldEVsZW1lbnRCeUlkIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElB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VUFBVyxFQUFLLFlBQWEsZUFBZ0IsVUFBUSxZQUkzRCx1QkFBR0EsVUFBVSx1QkFBcUIsNEJBR3BDLDBCQUFNQSxVQUFXLEVBQUssY0FBZSxRQUFTa1csS0FBSyxRQUNqRCxrQkFBQyxTQUFNLEtBQ0wsa0JBQUMsUUFBSyxDQUFDbFYsS0FBSyxZQUNWLGtCQUFDc1gsRUFBTyxDQUFDekssS0FBSyxhQUVoQixrQkFBQyxRQUFLLENBQUM3TSxLQUFLLFdBQ1Ysa0JBQUMsR0FBUyxDQUFDNk0sS0FBSyxjQUVsQixrQkFBQyxRQUFLLENBQUM3TSxLQUFLLFlBQ1Ysa0JBQUN1WCxFQUFNLE9BRVQsa0JBQUMsUUFBSyxDQUFDdlgsS0FBSyxLQUNWLGtCQUFDLEVBQUssQ0FBQzZNLEtBQUssZ0JBS2xCLDRCQUFRN04sVUFBVyxFQUFLLE9BQVEsYUFBYyxlQUM1QyxrQkFBQyxZQUFTLEtBQ1Isb0RDdENWLE9BQVksQ0FDVndZLElBQ0UsNEVBQ0ZDLFFBQVMsVUFDVEMsWUFBYSxVQUNiQyxhQUFjLENBQ1osSUFBSSxpQkFBNEIsQ0FDOUJDLE9BQVEsQ0FBQyxVQUVYLElBQUksZUFBb0JDLGtCQUk1QixJQUFVQyxLQUFLLHFCQUFzQixDQUNuQ0wsUUFBUyxZQUVYLElBQW9CLEtDbEJ0QixTQUFnQixnQkFBQyxHQUFHLE1BQUtyUyxTQUFTMlMsZUFBZSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDIxKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdEJvb3RzdHJhcDsiLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0Um91dGVyRE9NOyIsIm1vZHVsZS5leHBvcnRzID0gUHJvcFR5cGVzOyIsIm1vZHVsZS5leHBvcnRzID0gU2VudHJ5OyIsIm1vZHVsZS5leHBvcnRzID0gUmVjaGFydHM7IiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTTsiLCJtb2R1bGUuZXhwb3J0cyA9IExvZ1JvY2tldDsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkxpbmtDb250YWluZXIgPSB1bmRlZmluZWQ7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3Byb3BUeXBlcyA9IHJlcXVpcmUoJ3Byb3AtdHlwZXMnKTtcblxudmFyIF9wcm9wVHlwZXMyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcHJvcFR5cGVzKTtcblxudmFyIF9yZWFjdFJvdXRlckRvbSA9IHJlcXVpcmUoJ3JlYWN0LXJvdXRlci1kb20nKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG9iaiwga2V5cykgeyB2YXIgdGFyZ2V0ID0ge307IGZvciAodmFyIGkgaW4gb2JqKSB7IGlmIChrZXlzLmluZGV4T2YoaSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgaSkpIGNvbnRpbnVlOyB0YXJnZXRbaV0gPSBvYmpbaV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbnZhciBpc01vZGlmaWVkRXZlbnQgPSBmdW5jdGlvbiBpc01vZGlmaWVkRXZlbnQoZXZlbnQpIHtcbiAgcmV0dXJuICEhKGV2ZW50Lm1ldGFLZXkgfHwgZXZlbnQuYWx0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQuc2hpZnRLZXkpO1xufTtcblxudmFyIExpbmtDb250YWluZXIgPSBleHBvcnRzLkxpbmtDb250YWluZXIgPSBmdW5jdGlvbiAoX0NvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoTGlua0NvbnRhaW5lciwgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gTGlua0NvbnRhaW5lcigpIHtcbiAgICB2YXIgX3RlbXAsIF90aGlzLCBfcmV0O1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIExpbmtDb250YWluZXIpO1xuXG4gICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIF9yZXQgPSAoX3RlbXAgPSAoX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmNhbGwuYXBwbHkoX0NvbXBvbmVudCwgW3RoaXNdLmNvbmNhdChhcmdzKSkpLCBfdGhpcyksIF90aGlzLmhhbmRsZUNsaWNrID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgX3RoaXMkcHJvcHMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBjaGlsZHJlbiA9IF90aGlzJHByb3BzLmNoaWxkcmVuLFxuICAgICAgICAgIG9uQ2xpY2sgPSBfdGhpcyRwcm9wcy5vbkNsaWNrO1xuXG5cbiAgICAgIGlmIChjaGlsZHJlbi5wcm9wcy5vbkNsaWNrKSB7XG4gICAgICAgIGNoaWxkcmVuLnByb3BzLm9uQ2xpY2soZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAob25DbGljaykge1xuICAgICAgICBvbkNsaWNrKGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkICYmIC8vIG9uQ2xpY2sgcHJldmVudGVkIGRlZmF1bHRcbiAgICAgIGV2ZW50LmJ1dHRvbiA9PT0gMCAmJiAvLyBpZ25vcmUgcmlnaHQgY2xpY2tzXG4gICAgICAhaXNNb2RpZmllZEV2ZW50KGV2ZW50KSAvLyBpZ25vcmUgY2xpY2tzIHdpdGggbW9kaWZpZXIga2V5c1xuICAgICAgKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIHZhciBfdGhpcyRwcm9wczIgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgcmVwbGFjZSA9IF90aGlzJHByb3BzMi5yZXBsYWNlLFxuICAgICAgICAgICAgICB0byA9IF90aGlzJHByb3BzMi50byxcbiAgICAgICAgICAgICAgaGlzdG9yeSA9IF90aGlzJHByb3BzMi5oaXN0b3J5O1xuXG5cbiAgICAgICAgICBpZiAocmVwbGFjZSkge1xuICAgICAgICAgICAgaGlzdG9yeS5yZXBsYWNlKHRvKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaGlzdG9yeS5wdXNoKHRvKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCBfdGVtcCksIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKF90aGlzLCBfcmV0KTtcbiAgfVxuXG4gIExpbmtDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBoaXN0b3J5ID0gX3Byb3BzLmhpc3RvcnksXG4gICAgICAgIF9sb2NhdGlvbiA9IF9wcm9wcy5sb2NhdGlvbixcbiAgICAgICAgX21hdGNoID0gX3Byb3BzLm1hdGNoLFxuICAgICAgICBfc3RhdGljQ29udGV4dCA9IF9wcm9wcy5zdGF0aWNDb250ZXh0LFxuICAgICAgICBjaGlsZHJlbiA9IF9wcm9wcy5jaGlsZHJlbixcbiAgICAgICAgcmVwbGFjZSA9IF9wcm9wcy5yZXBsYWNlLFxuICAgICAgICB0byA9IF9wcm9wcy50byxcbiAgICAgICAgZXhhY3QgPSBfcHJvcHMuZXhhY3QsXG4gICAgICAgIHN0cmljdCA9IF9wcm9wcy5zdHJpY3QsXG4gICAgICAgIGFjdGl2ZUNsYXNzTmFtZSA9IF9wcm9wcy5hY3RpdmVDbGFzc05hbWUsXG4gICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIGFjdGl2ZVN0eWxlID0gX3Byb3BzLmFjdGl2ZVN0eWxlLFxuICAgICAgICBzdHlsZSA9IF9wcm9wcy5zdHlsZSxcbiAgICAgICAgZ2V0SXNBY3RpdmUgPSBfcHJvcHMuaXNBY3RpdmUsXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wcywgWydoaXN0b3J5JywgJ2xvY2F0aW9uJywgJ21hdGNoJywgJ3N0YXRpY0NvbnRleHQnLCAnY2hpbGRyZW4nLCAncmVwbGFjZScsICd0bycsICdleGFjdCcsICdzdHJpY3QnLCAnYWN0aXZlQ2xhc3NOYW1lJywgJ2NsYXNzTmFtZScsICdhY3RpdmVTdHlsZScsICdzdHlsZScsICdpc0FjdGl2ZSddKTtcblxuICAgIHZhciBocmVmID0gaGlzdG9yeS5jcmVhdGVIcmVmKHR5cGVvZiB0byA9PT0gJ3N0cmluZycgPyB7IHBhdGhuYW1lOiB0byB9IDogdG8pO1xuXG4gICAgdmFyIGNoaWxkID0gX3JlYWN0Mi5kZWZhdWx0LkNoaWxkcmVuLm9ubHkoY2hpbGRyZW4pO1xuXG4gICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jcmVhdGVFbGVtZW50KF9yZWFjdFJvdXRlckRvbS5Sb3V0ZSwge1xuICAgICAgcGF0aDogKHR5cGVvZiB0byA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodG8pKSA9PT0gJ29iamVjdCcgPyB0by5wYXRobmFtZSA6IHRvLFxuICAgICAgZXhhY3Q6IGV4YWN0LFxuICAgICAgc3RyaWN0OiBzdHJpY3QsXG4gICAgICBjaGlsZHJlbjogZnVuY3Rpb24gY2hpbGRyZW4oX3JlZikge1xuICAgICAgICB2YXIgbG9jYXRpb24gPSBfcmVmLmxvY2F0aW9uLFxuICAgICAgICAgICAgbWF0Y2ggPSBfcmVmLm1hdGNoO1xuXG4gICAgICAgIHZhciBpc0FjdGl2ZSA9ICEhKGdldElzQWN0aXZlID8gZ2V0SXNBY3RpdmUobWF0Y2gsIGxvY2F0aW9uKSA6IG1hdGNoKTtcblxuICAgICAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNsb25lRWxlbWVudChjaGlsZCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBbY2xhc3NOYW1lLCBjaGlsZC5wcm9wcy5jbGFzc05hbWUsIGlzQWN0aXZlID8gYWN0aXZlQ2xhc3NOYW1lIDogbnVsbF0uam9pbignICcpLnRyaW0oKSxcbiAgICAgICAgICBzdHlsZTogaXNBY3RpdmUgPyBfZXh0ZW5kcyh7fSwgc3R5bGUsIGFjdGl2ZVN0eWxlKSA6IHN0eWxlLFxuICAgICAgICAgIGhyZWY6IGhyZWYsXG4gICAgICAgICAgb25DbGljazogX3RoaXMyLmhhbmRsZUNsaWNrXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gTGlua0NvbnRhaW5lcjtcbn0oX3JlYWN0LkNvbXBvbmVudCk7XG5cbkxpbmtDb250YWluZXIucHJvcFR5cGVzID0ge1xuICBoaXN0b3J5OiBfcHJvcFR5cGVzMi5kZWZhdWx0LnNoYXBlKHtcbiAgICBwdXNoOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgICByZXBsYWNlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZCxcbiAgICBjcmVhdGVIcmVmOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMuaXNSZXF1aXJlZFxuICB9KS5pc1JlcXVpcmVkLFxuICBsb2NhdGlvbjogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIG1hdGNoOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgc3RhdGljQ29udGV4dDogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGNoaWxkcmVuOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmVsZW1lbnQuaXNSZXF1aXJlZCxcbiAgb25DbGljazogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLFxuICByZXBsYWNlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHRvOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9uZU9mVHlwZShbX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsIF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0XSkuaXNSZXF1aXJlZCxcbiAgZXhhY3Q6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgc3RyaWN0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIGNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIGFjdGl2ZUNsYXNzTmFtZTogX3Byb3BUeXBlczIuZGVmYXVsdC5zdHJpbmcsXG4gIHN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgYWN0aXZlU3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBpc0FjdGl2ZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jXG59O1xuTGlua0NvbnRhaW5lci5kZWZhdWx0UHJvcHMgPSB7XG4gIHJlcGxhY2U6IGZhbHNlLFxuICBleGFjdDogZmFsc2UsXG4gIHN0cmljdDogZmFsc2UsXG4gIGFjdGl2ZUNsYXNzTmFtZTogJ2FjdGl2ZSdcbn07XG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0Um91dGVyRG9tLndpdGhSb3V0ZXIpKExpbmtDb250YWluZXIpOyIsIm1vZHVsZS5leHBvcnRzID0gU2VudHJ5LkludGVncmF0aW9uczsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICB2YWx1ZTogdHJ1ZVxufSk7XG5leHBvcnRzLmRlZmF1bHQgPSBzZXR1cFJlYWN0O1xuXG52YXIgX3JlYWN0RG9tID0gcmVxdWlyZSgncmVhY3QtZG9tJyk7XG5cbnZhciBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUgPSB2b2lkIDA7XG4vLyBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9ibG9iL3YxNi41LjEvcGFja2FnZXMvcmVhY3QtZG9tL3NyYy9jbGllbnQvUmVhY3RET00uanMjTDc1MFxudmFyIHNlY3JldCA9IF9yZWFjdERvbS5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRDtcbmlmIChzZWNyZXQgJiYgc2VjcmV0LkV2ZW50cyAmJiBzZWNyZXQuRXZlbnRzWzNdKSB7XG4gIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSA9IHNlY3JldC5FdmVudHNbM107XG59IGVsc2Uge1xuICBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUgPSBmdW5jdGlvbiBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoKSB7XG4gICAgY29uc29sZS53YXJuKCdsb2dyb2NrZXQtcmVhY3QgZG9lcyBub3Qgd29yayB3aXRoIHRoaXMgdmVyc2lvbiBvZiBSZWFjdCcpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBzZXR1cFJlYWN0KCkge1xuICBpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUoe1xuICAgIFJlc3BvbmRlckV2ZW50UGx1Z2luOiB7XG4gICAgICBleHRyYWN0RXZlbnRzOiBmdW5jdGlvbiBsb2dSb2NrZXRSZWFjdEV2ZW50SG9vayh0b3BMZXZlbFR5cGUsIHRhcmdldEluc3QsIGZpYmVyTm9kZSwgbmF0aXZlRXZlbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAodG9wTGV2ZWxUeXBlICE9PSAnY2xpY2snIHx8ICFmaWJlck5vZGUgfHwgIW5hdGl2ZUV2ZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGN1cnJlbnRFbGVtZW50ID0gZmliZXJOb2RlO1xuXG4gICAgICAgICAgdmFyIG5hbWVzID0gW107XG4gICAgICAgICAgd2hpbGUgKGN1cnJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICB2YXIgbmFtZSA9IHR5cGVvZiBjdXJyZW50RWxlbWVudC5lbGVtZW50VHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiBjdXJyZW50RWxlbWVudC5lbGVtZW50VHlwZS5kaXNwbGF5TmFtZTtcbiAgICAgICAgICAgIGlmIChuYW1lKSB7XG4gICAgICAgICAgICAgIG5hbWVzLnB1c2gobmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IGN1cnJlbnRFbGVtZW50LnJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXG4gICAgICAgICAgbmF0aXZlRXZlbnQuX19sck5hbWUgPSBuYW1lcztcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdsb2dyb2NrZXQtcmVhY3QgY2F1Z2h0IGFuIGVycm9yIHdoaWxlIGhvb2tpbmcgaW50byBSZWFjdC4gUGxlYXNlIG1ha2Ugc3VyZSB5b3UgYXJlIHVzaW5nIHRoZSBjb3JyZWN0IHZlcnNpb24gb2YgbG9ncm9ja2V0LXJlYWN0IGZvciB5b3VyIHZlcnNpb24gb2YgcmVhY3QtZG9tLicpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0c1snZGVmYXVsdCddOyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuTGlua0NvbnRhaW5lciA9IGV4cG9ydHMuSW5kZXhMaW5rQ29udGFpbmVyID0gdW5kZWZpbmVkO1xuXG52YXIgX0luZGV4TGlua0NvbnRhaW5lcjIgPSByZXF1aXJlKCcuL0luZGV4TGlua0NvbnRhaW5lcicpO1xuXG52YXIgX0luZGV4TGlua0NvbnRhaW5lcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9JbmRleExpbmtDb250YWluZXIyKTtcblxudmFyIF9MaW5rQ29udGFpbmVyMiA9IHJlcXVpcmUoJy4vTGlua0NvbnRhaW5lcicpO1xuXG52YXIgX0xpbmtDb250YWluZXIzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlua0NvbnRhaW5lcjIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLkluZGV4TGlua0NvbnRhaW5lciA9IF9JbmRleExpbmtDb250YWluZXIzLmRlZmF1bHQ7XG5leHBvcnRzLkxpbmtDb250YWluZXIgPSBfTGlua0NvbnRhaW5lcjMuZGVmYXVsdDsiLCIndXNlIHN0cmljdCc7XG5cbnZhciByZWFjdElzID0gcmVxdWlyZSgncmVhY3QtaXMnKTtcblxuLyoqXG4gKiBDb3B5cmlnaHQgMjAxNSwgWWFob28hIEluYy5cbiAqIENvcHlyaWdodHMgbGljZW5zZWQgdW5kZXIgdGhlIE5ldyBCU0QgTGljZW5zZS4gU2VlIHRoZSBhY2NvbXBhbnlpbmcgTElDRU5TRSBmaWxlIGZvciB0ZXJtcy5cbiAqL1xudmFyIFJFQUNUX1NUQVRJQ1MgPSB7XG4gIGNoaWxkQ29udGV4dFR5cGVzOiB0cnVlLFxuICBjb250ZXh0VHlwZTogdHJ1ZSxcbiAgY29udGV4dFR5cGVzOiB0cnVlLFxuICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gIGRpc3BsYXlOYW1lOiB0cnVlLFxuICBnZXREZWZhdWx0UHJvcHM6IHRydWUsXG4gIGdldERlcml2ZWRTdGF0ZUZyb21FcnJvcjogdHJ1ZSxcbiAgZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzOiB0cnVlLFxuICBtaXhpbnM6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZSxcbiAgdHlwZTogdHJ1ZVxufTtcbnZhciBLTk9XTl9TVEFUSUNTID0ge1xuICBuYW1lOiB0cnVlLFxuICBsZW5ndGg6IHRydWUsXG4gIHByb3RvdHlwZTogdHJ1ZSxcbiAgY2FsbGVyOiB0cnVlLFxuICBjYWxsZWU6IHRydWUsXG4gIGFyZ3VtZW50czogdHJ1ZSxcbiAgYXJpdHk6IHRydWVcbn07XG52YXIgRk9SV0FSRF9SRUZfU1RBVElDUyA9IHtcbiAgJyQkdHlwZW9mJzogdHJ1ZSxcbiAgcmVuZGVyOiB0cnVlLFxuICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gIGRpc3BsYXlOYW1lOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWVcbn07XG52YXIgTUVNT19TVEFUSUNTID0ge1xuICAnJCR0eXBlb2YnOiB0cnVlLFxuICBjb21wYXJlOiB0cnVlLFxuICBkZWZhdWx0UHJvcHM6IHRydWUsXG4gIGRpc3BsYXlOYW1lOiB0cnVlLFxuICBwcm9wVHlwZXM6IHRydWUsXG4gIHR5cGU6IHRydWVcbn07XG52YXIgVFlQRV9TVEFUSUNTID0ge307XG5UWVBFX1NUQVRJQ1NbcmVhY3RJcy5Gb3J3YXJkUmVmXSA9IEZPUldBUkRfUkVGX1NUQVRJQ1M7XG5UWVBFX1NUQVRJQ1NbcmVhY3RJcy5NZW1vXSA9IE1FTU9fU1RBVElDUztcblxuZnVuY3Rpb24gZ2V0U3RhdGljcyhjb21wb25lbnQpIHtcbiAgLy8gUmVhY3QgdjE2LjExIGFuZCBiZWxvd1xuICBpZiAocmVhY3RJcy5pc01lbW8oY29tcG9uZW50KSkge1xuICAgIHJldHVybiBNRU1PX1NUQVRJQ1M7XG4gIH0gLy8gUmVhY3QgdjE2LjEyIGFuZCBhYm92ZVxuXG5cbiAgcmV0dXJuIFRZUEVfU1RBVElDU1tjb21wb25lbnRbJyQkdHlwZW9mJ11dIHx8IFJFQUNUX1NUQVRJQ1M7XG59XG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBnZXRPd25Qcm9wZXJ0eU5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scztcbnZhciBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xudmFyIGdldFByb3RvdHlwZU9mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xudmFyIG9iamVjdFByb3RvdHlwZSA9IE9iamVjdC5wcm90b3R5cGU7XG5mdW5jdGlvbiBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIHNvdXJjZUNvbXBvbmVudCwgYmxhY2tsaXN0KSB7XG4gIGlmICh0eXBlb2Ygc291cmNlQ29tcG9uZW50ICE9PSAnc3RyaW5nJykge1xuICAgIC8vIGRvbid0IGhvaXN0IG92ZXIgc3RyaW5nIChodG1sKSBjb21wb25lbnRzXG4gICAgaWYgKG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgdmFyIGluaGVyaXRlZENvbXBvbmVudCA9IGdldFByb3RvdHlwZU9mKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICAgIGlmIChpbmhlcml0ZWRDb21wb25lbnQgJiYgaW5oZXJpdGVkQ29tcG9uZW50ICE9PSBvYmplY3RQcm90b3R5cGUpIHtcbiAgICAgICAgaG9pc3ROb25SZWFjdFN0YXRpY3ModGFyZ2V0Q29tcG9uZW50LCBpbmhlcml0ZWRDb21wb25lbnQsIGJsYWNrbGlzdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIGtleXMgPSBnZXRPd25Qcm9wZXJ0eU5hbWVzKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICBpZiAoZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgICBrZXlzID0ga2V5cy5jb25jYXQoZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZUNvbXBvbmVudCkpO1xuICAgIH1cblxuICAgIHZhciB0YXJnZXRTdGF0aWNzID0gZ2V0U3RhdGljcyh0YXJnZXRDb21wb25lbnQpO1xuICAgIHZhciBzb3VyY2VTdGF0aWNzID0gZ2V0U3RhdGljcyhzb3VyY2VDb21wb25lbnQpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFLTk9XTl9TVEFUSUNTW2tleV0gJiYgIShibGFja2xpc3QgJiYgYmxhY2tsaXN0W2tleV0pICYmICEoc291cmNlU3RhdGljcyAmJiBzb3VyY2VTdGF0aWNzW2tleV0pICYmICEodGFyZ2V0U3RhdGljcyAmJiB0YXJnZXRTdGF0aWNzW2tleV0pKSB7XG4gICAgICAgIHZhciBkZXNjcmlwdG9yID0gZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZUNvbXBvbmVudCwga2V5KTtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIEF2b2lkIGZhaWx1cmVzIGZyb20gcmVhZC1vbmx5IHByb3BlcnRpZXNcbiAgICAgICAgICBkZWZpbmVQcm9wZXJ0eSh0YXJnZXRDb21wb25lbnQsIGtleSwgZGVzY3JpcHRvcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldENvbXBvbmVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBob2lzdE5vblJlYWN0U3RhdGljcztcbiIsInZhciBhcGkgPSByZXF1aXJlKFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiKTtcbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gcmVxdWlyZShcIiEhLi4vbm9kZV9tb2R1bGVzL21pbmktY3NzLWV4dHJhY3QtcGx1Z2luL2Rpc3QvbG9hZGVyLmpzIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vQXBwLmNzc1wiKTtcblxuICAgICAgICAgICAgY29udGVudCA9IGNvbnRlbnQuX19lc01vZHVsZSA/IGNvbnRlbnQuZGVmYXVsdCA6IGNvbnRlbnQ7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuICAgICAgICAgICAgfVxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLmluc2VydCA9IFwiaGVhZFwiO1xub3B0aW9ucy5zaW5nbGV0b24gPSBmYWxzZTtcblxudmFyIHVwZGF0ZSA9IGFwaShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbm1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHMgfHwge307IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBpc09sZElFID0gZnVuY3Rpb24gaXNPbGRJRSgpIHtcbiAgdmFyIG1lbW87XG4gIHJldHVybiBmdW5jdGlvbiBtZW1vcml6ZSgpIHtcbiAgICBpZiAodHlwZW9mIG1lbW8gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBUZXN0IGZvciBJRSA8PSA5IGFzIHByb3Bvc2VkIGJ5IEJyb3dzZXJoYWNrc1xuICAgICAgLy8gQHNlZSBodHRwOi8vYnJvd3NlcmhhY2tzLmNvbS8jaGFjay1lNzFkODY5MmY2NTMzNDE3M2ZlZTcxNWMyMjJjYjgwNVxuICAgICAgLy8gVGVzdHMgZm9yIGV4aXN0ZW5jZSBvZiBzdGFuZGFyZCBnbG9iYWxzIGlzIHRvIGFsbG93IHN0eWxlLWxvYWRlclxuICAgICAgLy8gdG8gb3BlcmF0ZSBjb3JyZWN0bHkgaW50byBub24tc3RhbmRhcmQgZW52aXJvbm1lbnRzXG4gICAgICAvLyBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrLWNvbnRyaWIvc3R5bGUtbG9hZGVyL2lzc3Vlcy8xNzdcbiAgICAgIG1lbW8gPSBCb29sZWFuKHdpbmRvdyAmJiBkb2N1bWVudCAmJiBkb2N1bWVudC5hbGwgJiYgIXdpbmRvdy5hdG9iKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtbztcbiAgfTtcbn0oKTtcblxudmFyIGdldFRhcmdldCA9IGZ1bmN0aW9uIGdldFRhcmdldCgpIHtcbiAgdmFyIG1lbW8gPSB7fTtcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKHRhcmdldCkge1xuICAgIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgICB9XG5cbiAgICByZXR1cm4gbWVtb1t0YXJnZXRdO1xuICB9O1xufSgpO1xuXG52YXIgc3R5bGVzSW5Eb20gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRvbS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRvbVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdXG4gICAgfTtcblxuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZXNJbkRvbS5wdXNoKHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogYWRkU3R5bGUob2JqLCBvcHRpb25zKSxcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgdmFyIGF0dHJpYnV0ZXMgPSBvcHRpb25zLmF0dHJpYnV0ZXMgfHwge307XG5cbiAgaWYgKHR5cGVvZiBhdHRyaWJ1dGVzLm5vbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gJ3VuZGVmaW5lZCcgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgICBpZiAobm9uY2UpIHtcbiAgICAgIGF0dHJpYnV0ZXMubm9uY2UgPSBub25jZTtcbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoa2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICB9KTtcblxuICBpZiAodHlwZW9mIG9wdGlvbnMuaW5zZXJ0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucy5pbnNlcnQoc3R5bGUpO1xuICB9IGVsc2Uge1xuICAgIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQob3B0aW9ucy5pbnNlcnQgfHwgJ2hlYWQnKTtcblxuICAgIGlmICghdGFyZ2V0KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICAgIH1cblxuICAgIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG4gIH1cblxuICByZXR1cm4gc3R5bGU7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlLnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlKTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbnZhciByZXBsYWNlVGV4dCA9IGZ1bmN0aW9uIHJlcGxhY2VUZXh0KCkge1xuICB2YXIgdGV4dFN0b3JlID0gW107XG4gIHJldHVybiBmdW5jdGlvbiByZXBsYWNlKGluZGV4LCByZXBsYWNlbWVudCkge1xuICAgIHRleHRTdG9yZVtpbmRleF0gPSByZXBsYWNlbWVudDtcbiAgICByZXR1cm4gdGV4dFN0b3JlLmZpbHRlcihCb29sZWFuKS5qb2luKCdcXG4nKTtcbiAgfTtcbn0oKTtcblxuZnVuY3Rpb24gYXBwbHlUb1NpbmdsZXRvblRhZyhzdHlsZSwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG4gIHZhciBjc3MgPSByZW1vdmUgPyAnJyA6IG9iai5tZWRpYSA/IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIikuY29uY2F0KG9iai5jc3MsIFwifVwiKSA6IG9iai5jc3M7IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSByZXBsYWNlVGV4dChpbmRleCwgY3NzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgY3NzTm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcyk7XG4gICAgdmFyIGNoaWxkTm9kZXMgPSBzdHlsZS5jaGlsZE5vZGVzO1xuXG4gICAgaWYgKGNoaWxkTm9kZXNbaW5kZXhdKSB7XG4gICAgICBzdHlsZS5yZW1vdmVDaGlsZChjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfVxuXG4gICAgaWYgKGNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICBzdHlsZS5pbnNlcnRCZWZvcmUoY3NzTm9kZSwgY2hpbGROb2Rlc1tpbmRleF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHlsZS5hcHBlbmRDaGlsZChjc3NOb2RlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZSwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBvYmouY3NzO1xuICB2YXIgbWVkaWEgPSBvYmoubWVkaWE7XG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChtZWRpYSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCBtZWRpYSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUucmVtb3ZlQXR0cmlidXRlKCdtZWRpYScpO1xuICB9XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgaWYgKHN0eWxlLnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZS5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKHN0eWxlLmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbnZhciBzaW5nbGV0b24gPSBudWxsO1xudmFyIHNpbmdsZXRvbkNvdW50ZXIgPSAwO1xuXG5mdW5jdGlvbiBhZGRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlO1xuICB2YXIgdXBkYXRlO1xuICB2YXIgcmVtb3ZlO1xuXG4gIGlmIChvcHRpb25zLnNpbmdsZXRvbikge1xuICAgIHZhciBzdHlsZUluZGV4ID0gc2luZ2xldG9uQ291bnRlcisrO1xuICAgIHN0eWxlID0gc2luZ2xldG9uIHx8IChzaW5nbGV0b24gPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykpO1xuICAgIHVwZGF0ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgZmFsc2UpO1xuICAgIHJlbW92ZSA9IGFwcGx5VG9TaW5nbGV0b25UYWcuYmluZChudWxsLCBzdHlsZSwgc3R5bGVJbmRleCwgdHJ1ZSk7XG4gIH0gZWxzZSB7XG4gICAgc3R5bGUgPSBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlLCBvcHRpb25zKTtcblxuICAgIHJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZSk7XG4gICAgfTtcbiAgfVxuXG4gIHVwZGF0ZShvYmopO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlU3R5bGUobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICByZW1vdmUoKTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307IC8vIEZvcmNlIHNpbmdsZS10YWcgc29sdXRpb24gb24gSUU2LTksIHdoaWNoIGhhcyBhIGhhcmQgbGltaXQgb24gdGhlICMgb2YgPHN0eWxlPlxuICAvLyB0YWdzIGl0IHdpbGwgYWxsb3cgb24gYSBwYWdlXG5cbiAgaWYgKCFvcHRpb25zLnNpbmdsZXRvbiAmJiB0eXBlb2Ygb3B0aW9ucy5zaW5nbGV0b24gIT09ICdib29sZWFuJykge1xuICAgIG9wdGlvbnMuc2luZ2xldG9uID0gaXNPbGRJRSgpO1xuICB9XG5cbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChuZXdMaXN0KSAhPT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRvbVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5Eb21bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5Eb20uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLkluZGV4TGlua0NvbnRhaW5lciA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF9yZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG5cbnZhciBfcmVhY3QyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfcmVhY3QpO1xuXG52YXIgX3JlYWN0Um91dGVyRG9tID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyLWRvbScpO1xuXG52YXIgX0xpbmtDb250YWluZXIgPSByZXF1aXJlKCcuL0xpbmtDb250YWluZXInKTtcblxudmFyIF9MaW5rQ29udGFpbmVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0xpbmtDb250YWluZXIpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihzZWxmLCBjYWxsKSB7IGlmICghc2VsZikgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIGNhbGwgJiYgKHR5cGVvZiBjYWxsID09PSBcIm9iamVjdFwiIHx8IHR5cGVvZiBjYWxsID09PSBcImZ1bmN0aW9uXCIpID8gY2FsbCA6IHNlbGY7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uLCBub3QgXCIgKyB0eXBlb2Ygc3VwZXJDbGFzcyk7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgZW51bWVyYWJsZTogZmFsc2UsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcykgOiBzdWJDbGFzcy5fX3Byb3RvX18gPSBzdXBlckNsYXNzOyB9XG5cbi8vIERvbid0IHVzZSBhIHN0YXRlbGVzcyBmdW5jdGlvbiwgdG8gYWxsb3cgdXNlcnMgdG8gc2V0IGEgcmVmLlxuLyogZXNsaW50LWRpc2FibGUgcmVhY3QvcHJlZmVyLXN0YXRlbGVzcy1mdW5jdGlvbiAqL1xudmFyIEluZGV4TGlua0NvbnRhaW5lciA9IGV4cG9ydHMuSW5kZXhMaW5rQ29udGFpbmVyID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKEluZGV4TGlua0NvbnRhaW5lciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gSW5kZXhMaW5rQ29udGFpbmVyKCkge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJbmRleExpbmtDb250YWluZXIpO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBJbmRleExpbmtDb250YWluZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX0xpbmtDb250YWluZXIyLmRlZmF1bHQsIF9leHRlbmRzKHt9LCB0aGlzLnByb3BzLCB7IGV4YWN0OiB0cnVlIH0pKTtcbiAgfTtcblxuICByZXR1cm4gSW5kZXhMaW5rQ29udGFpbmVyO1xufShfcmVhY3QyLmRlZmF1bHQuQ29tcG9uZW50KTtcbi8qIGVzbGludC1lbmFibGUgcmVhY3QvcHJlZmVyLXN0YXRlbGVzcy1mdW5jdGlvbiAqL1xuXG5leHBvcnRzLmRlZmF1bHQgPSAoMCwgX3JlYWN0Um91dGVyRG9tLndpdGhSb3V0ZXIpKEluZGV4TGlua0NvbnRhaW5lcik7IiwibW9kdWxlLmV4cG9ydHMgPSBtbDU7IiwiJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09ICdwcm9kdWN0aW9uJykge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWlzLnByb2R1Y3Rpb24ubWluLmpzJyk7XG59IGVsc2Uge1xuICBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vY2pzL3JlYWN0LWlzLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCIvKiogQGxpY2Vuc2UgUmVhY3QgdjE2LjEzLjFcbiAqIHJlYWN0LWlzLnByb2R1Y3Rpb24ubWluLmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO3ZhciBiPVwiZnVuY3Rpb25cIj09PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5mb3IsYz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5lbGVtZW50XCIpOjYwMTAzLGQ9Yj9TeW1ib2wuZm9yKFwicmVhY3QucG9ydGFsXCIpOjYwMTA2LGU9Yj9TeW1ib2wuZm9yKFwicmVhY3QuZnJhZ21lbnRcIik6NjAxMDcsZj1iP1N5bWJvbC5mb3IoXCJyZWFjdC5zdHJpY3RfbW9kZVwiKTo2MDEwOCxnPWI/U3ltYm9sLmZvcihcInJlYWN0LnByb2ZpbGVyXCIpOjYwMTE0LGg9Yj9TeW1ib2wuZm9yKFwicmVhY3QucHJvdmlkZXJcIik6NjAxMDksaz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5jb250ZXh0XCIpOjYwMTEwLGw9Yj9TeW1ib2wuZm9yKFwicmVhY3QuYXN5bmNfbW9kZVwiKTo2MDExMSxtPWI/U3ltYm9sLmZvcihcInJlYWN0LmNvbmN1cnJlbnRfbW9kZVwiKTo2MDExMSxuPWI/U3ltYm9sLmZvcihcInJlYWN0LmZvcndhcmRfcmVmXCIpOjYwMTEyLHA9Yj9TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VcIik6NjAxMTMscT1iP1xuU3ltYm9sLmZvcihcInJlYWN0LnN1c3BlbnNlX2xpc3RcIik6NjAxMjAscj1iP1N5bWJvbC5mb3IoXCJyZWFjdC5tZW1vXCIpOjYwMTE1LHQ9Yj9TeW1ib2wuZm9yKFwicmVhY3QubGF6eVwiKTo2MDExNix2PWI/U3ltYm9sLmZvcihcInJlYWN0LmJsb2NrXCIpOjYwMTIxLHc9Yj9TeW1ib2wuZm9yKFwicmVhY3QuZnVuZGFtZW50YWxcIik6NjAxMTcseD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5yZXNwb25kZXJcIik6NjAxMTgseT1iP1N5bWJvbC5mb3IoXCJyZWFjdC5zY29wZVwiKTo2MDExOTtcbmZ1bmN0aW9uIHooYSl7aWYoXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSl7dmFyIHU9YS4kJHR5cGVvZjtzd2l0Y2godSl7Y2FzZSBjOnN3aXRjaChhPWEudHlwZSxhKXtjYXNlIGw6Y2FzZSBtOmNhc2UgZTpjYXNlIGc6Y2FzZSBmOmNhc2UgcDpyZXR1cm4gYTtkZWZhdWx0OnN3aXRjaChhPWEmJmEuJCR0eXBlb2YsYSl7Y2FzZSBrOmNhc2UgbjpjYXNlIHQ6Y2FzZSByOmNhc2UgaDpyZXR1cm4gYTtkZWZhdWx0OnJldHVybiB1fX1jYXNlIGQ6cmV0dXJuIHV9fX1mdW5jdGlvbiBBKGEpe3JldHVybiB6KGEpPT09bX1leHBvcnRzLkFzeW5jTW9kZT1sO2V4cG9ydHMuQ29uY3VycmVudE1vZGU9bTtleHBvcnRzLkNvbnRleHRDb25zdW1lcj1rO2V4cG9ydHMuQ29udGV4dFByb3ZpZGVyPWg7ZXhwb3J0cy5FbGVtZW50PWM7ZXhwb3J0cy5Gb3J3YXJkUmVmPW47ZXhwb3J0cy5GcmFnbWVudD1lO2V4cG9ydHMuTGF6eT10O2V4cG9ydHMuTWVtbz1yO2V4cG9ydHMuUG9ydGFsPWQ7XG5leHBvcnRzLlByb2ZpbGVyPWc7ZXhwb3J0cy5TdHJpY3RNb2RlPWY7ZXhwb3J0cy5TdXNwZW5zZT1wO2V4cG9ydHMuaXNBc3luY01vZGU9ZnVuY3Rpb24oYSl7cmV0dXJuIEEoYSl8fHooYSk9PT1sfTtleHBvcnRzLmlzQ29uY3VycmVudE1vZGU9QTtleHBvcnRzLmlzQ29udGV4dENvbnN1bWVyPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09a307ZXhwb3J0cy5pc0NvbnRleHRQcm92aWRlcj1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWh9O2V4cG9ydHMuaXNFbGVtZW50PWZ1bmN0aW9uKGEpe3JldHVyblwib2JqZWN0XCI9PT10eXBlb2YgYSYmbnVsbCE9PWEmJmEuJCR0eXBlb2Y9PT1jfTtleHBvcnRzLmlzRm9yd2FyZFJlZj1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PW59O2V4cG9ydHMuaXNGcmFnbWVudD1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWV9O2V4cG9ydHMuaXNMYXp5PWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09dH07XG5leHBvcnRzLmlzTWVtbz1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PXJ9O2V4cG9ydHMuaXNQb3J0YWw9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1kfTtleHBvcnRzLmlzUHJvZmlsZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1nfTtleHBvcnRzLmlzU3RyaWN0TW9kZT1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWZ9O2V4cG9ydHMuaXNTdXNwZW5zZT1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PXB9O1xuZXhwb3J0cy5pc1ZhbGlkRWxlbWVudFR5cGU9ZnVuY3Rpb24oYSl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhfHxcImZ1bmN0aW9uXCI9PT10eXBlb2YgYXx8YT09PWV8fGE9PT1tfHxhPT09Z3x8YT09PWZ8fGE9PT1wfHxhPT09cXx8XCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmKGEuJCR0eXBlb2Y9PT10fHxhLiQkdHlwZW9mPT09cnx8YS4kJHR5cGVvZj09PWh8fGEuJCR0eXBlb2Y9PT1rfHxhLiQkdHlwZW9mPT09bnx8YS4kJHR5cGVvZj09PXd8fGEuJCR0eXBlb2Y9PT14fHxhLiQkdHlwZW9mPT09eXx8YS4kJHR5cGVvZj09PXYpfTtleHBvcnRzLnR5cGVPZj16O1xuIiwiZnVuY3Rpb24gdG9WYWwobWl4KSB7XG5cdHZhciBrLCB5LCBzdHI9Jyc7XG5cblx0aWYgKHR5cGVvZiBtaXggPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBtaXggPT09ICdudW1iZXInKSB7XG5cdFx0c3RyICs9IG1peDtcblx0fSBlbHNlIGlmICh0eXBlb2YgbWl4ID09PSAnb2JqZWN0Jykge1xuXHRcdGlmIChBcnJheS5pc0FycmF5KG1peCkpIHtcblx0XHRcdGZvciAoaz0wOyBrIDwgbWl4Lmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdGlmIChtaXhba10pIHtcblx0XHRcdFx0XHRpZiAoeSA9IHRvVmFsKG1peFtrXSkpIHtcblx0XHRcdFx0XHRcdHN0ciAmJiAoc3RyICs9ICcgJyk7XG5cdFx0XHRcdFx0XHRzdHIgKz0geTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChrIGluIG1peCkge1xuXHRcdFx0XHRpZiAobWl4W2tdKSB7XG5cdFx0XHRcdFx0c3RyICYmIChzdHIgKz0gJyAnKTtcblx0XHRcdFx0XHRzdHIgKz0gaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBzdHI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcblx0dmFyIGk9MCwgdG1wLCB4LCBzdHI9Jyc7XG5cdHdoaWxlIChpIDwgYXJndW1lbnRzLmxlbmd0aCkge1xuXHRcdGlmICh0bXAgPSBhcmd1bWVudHNbaSsrXSkge1xuXHRcdFx0aWYgKHggPSB0b1ZhbCh0bXApKSB7XG5cdFx0XHRcdHN0ciAmJiAoc3RyICs9ICcgJyk7XG5cdFx0XHRcdHN0ciArPSB4XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBzdHI7XG59XG4iLCJleHBvcnQgZGVmYXVsdCAoKSA9PiBjb25zb2xlO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUxvZ2dlcigpIHtcbiAgcmV0dXJuIGNvbnNvbGU7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxuaW1wb3J0IHsgdXNlTG9nZ2VyIH0gZnJvbSBcImxvZ1wiO1xuXG50eXBlIEhlbGxvUHJvcHMgPSB7XG4gIG5leHQ6IHN0cmluZztcbn07XG5cbmNvbnN0IEhlbGxvID0gKHsgbmV4dCB9OiBIZWxsb1Byb3BzKSA9PiB7XG4gIGNvbnN0IExPRyA9IHVzZUxvZ2dlcigpO1xuICBMT0cuaW5mbyhcIltXaWRnZXRdIEhlbGxvXCIpO1xuXG4gIHJldHVybiAoXG4gICAgPExpbmsgdG89e25leHR9PlxuICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZS1wcmltYXJ5XCIgc2l6ZT1cImxnXCI+XG4gICAgICAgIHN0YXJ0XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L0xpbms+XG4gICk7XG59O1xuZXhwb3J0IGRlZmF1bHQgSGVsbG87XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMzk0MWExZWFiNDAyNzYyNDMzMzJkZjY3NmUwNmEwMTMub2dnXCI7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJyZWFjdC1ib290c3RyYXBcIjtcblxuaW1wb3J0IGdldExvZ2dlciBmcm9tIFwibG9nXCI7XG5cbmltcG9ydCBzYW1wbGUgZnJvbSBcImF1ZGlvL2M0Lm9nZ1wiO1xuXG5jb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoKTtcblxuY29uc3QgcGxheSA9IChvbkVuZDogKCkgPT4gdm9pZCkgPT4ge1xuICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhzYW1wbGUpO1xuICBhdWRpby5vbmVuZGVkID0gb25FbmQ7XG4gIGF1ZGlvLnBsYXkoKTtcbn07XG5cbmNvbnN0IFBsYXllciA9ICgpID0+IHtcbiAgbG9nZ2VyLmluZm8oXCJbV2lkZ2V0XSBQbGF5ZXJcIik7XG4gIGNvbnN0IFtpc1BsYXlpbmcsIHNldElzUGxheWluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2dnZXIuaW5mbyhcIkNoYW5nZWQgcGxheWluZzogJXNcIiwgaXNQbGF5aW5nKTtcbiAgfSwgW2lzUGxheWluZ10pO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpc1BsYXlpbmcgPyBcInBsYXlpbmcuLi5cIiA6IFwicGxheSByZWZlcmVuY2VcIjtcblxuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lLXByaW1hcnlcIlxuICAgICAgc2l6ZT1cImxnXCJcbiAgICAgIGRpc2FibGVkPXtpc1BsYXlpbmd9XG4gICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgIHNldElzUGxheWluZyh0cnVlKTtcbiAgICAgICAgcGxheSgoKSA9PiB7XG4gICAgICAgICAgc2V0SXNQbGF5aW5nKGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgICB9fVxuICAgID5cbiAgICAgIHttZXNzYWdlfVxuICAgIDwvQnV0dG9uPlxuICApO1xufTtcbmV4cG9ydCBkZWZhdWx0IFBsYXllcjtcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEJ1dHRvbiwgQnV0dG9uR3JvdXAgfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQgeyBMaW5rQ29udGFpbmVyIH0gZnJvbSBcInJlYWN0LXJvdXRlci1ib290c3RyYXBcIjtcbmltcG9ydCBQbGF5ZXIgZnJvbSBcIi4uL2NvbXBvbmVudHMvUGxheWVyXCI7XG5cbnR5cGUgUHJldmlld1Byb3BzID0ge1xuICBuZXh0OiBzdHJpbmc7XG59O1xuXG5leHBvcnQgZGVmYXVsdCAoeyBuZXh0IH06IFByZXZpZXdQcm9wcykgPT4gKFxuICA8QnV0dG9uR3JvdXA+XG4gICAgPFBsYXllciAvPlxuXG4gICAgPExpbmtDb250YWluZXIgdG89e25leHR9PlxuICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZS1wcmltYXJ5XCIgc2l6ZT1cImxnXCI+XG4gICAgICAgIHN0YXJ0XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L0xpbmtDb250YWluZXI+XG4gIDwvQnV0dG9uR3JvdXA+XG4pO1xuIiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xudmFyIFN0YXJGaWxsID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBzaXplID0gX3JlZi5zaXplLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJjb2xvclwiLCBcInNpemVcIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgd2lkdGg6IHNpemUsXG4gICAgaGVpZ2h0OiBzaXplLFxuICAgIGZpbGw6IGNvbG9yXG4gIH0sIHJlc3QpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMy42MTIgMTUuNDQzYy0uMzg2LjE5OC0uODI0LS4xNDktLjc0Ni0uNTkybC44My00LjczTC4xNzMgNi43NjVjLS4zMjktLjMxNC0uMTU4LS44ODguMjgzLS45NWw0Ljg5OC0uNjk2TDcuNTM4Ljc5MmMuMTk3LS4zOS43My0uMzkuOTI3IDBsMi4xODQgNC4zMjcgNC44OTguNjk2Yy40NDEuMDYyLjYxMi42MzYuMjgzLjk1bC0zLjUyMyAzLjM1Ni44MyA0LjczYy4wNzguNDQzLS4zNi43OS0uNzQ2LjU5Mkw4IDEzLjE4N2wtNC4zODkgMi4yNTZ6XCJcbiAgfSkpO1xufSk7XG5TdGFyRmlsbC5wcm9wVHlwZXMgPSB7XG4gIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSlcbn07XG5TdGFyRmlsbC5kZWZhdWx0UHJvcHMgPSB7XG4gIGNvbG9yOiAnY3VycmVudENvbG9yJyxcbiAgc2l6ZTogJzFlbSdcbn07XG5leHBvcnQgZGVmYXVsdCBTdGFyRmlsbDsiLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG52YXIgU3RhciA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgc2l6ZSA9IF9yZWYuc2l6ZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1wiY29sb3JcIiwgXCJzaXplXCJdKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgIHdpZHRoOiBzaXplLFxuICAgIGhlaWdodDogc2l6ZSxcbiAgICBmaWxsOiBjb2xvclxuICB9LCByZXN0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGZpbGxSdWxlOiBcImV2ZW5vZGRcIixcbiAgICBkOiBcIk0yLjg2NiAxNC44NWMtLjA3OC40NDQuMzYuNzkxLjc0Ni41OTNsNC4zOS0yLjI1NiA0LjM4OSAyLjI1NmMuMzg2LjE5OC44MjQtLjE0OS43NDYtLjU5MmwtLjgzLTQuNzMgMy41MjMtMy4zNTZjLjMyOS0uMzE0LjE1OC0uODg4LS4yODMtLjk1bC00Ljg5OC0uNjk2TDguNDY1Ljc5MmEuNTEzLjUxMyAwIDAgMC0uOTI3IDBMNS4zNTQgNS4xMmwtNC44OTguNjk2Yy0uNDQxLjA2Mi0uNjEyLjYzNi0uMjgzLjk1bDMuNTIzIDMuMzU2LS44MyA0Ljczem00LjkwNS0yLjc2N2wtMy42ODYgMS44OTQuNjk0LTMuOTU3YS41NjUuNTY1IDAgMCAwLS4xNjMtLjUwNUwxLjcxIDYuNzQ1bDQuMDUyLS41NzZhLjUyNS41MjUgMCAwIDAgLjM5My0uMjg4bDEuODQ3LTMuNjU4IDEuODQ2IDMuNjU4YS41MjUuNTI1IDAgMCAwIC4zOTMuMjg4bDQuMDUyLjU3NS0yLjkwNiAyLjc3YS41NjQuNTY0IDAgMCAwLS4xNjMuNTA2bC42OTQgMy45NTctMy42ODYtMS44OTRhLjUwMy41MDMgMCAwIDAtLjQ2MSAwelwiXG4gIH0pKTtcbn0pO1xuU3Rhci5wcm9wVHlwZXMgPSB7XG4gIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzaXplOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSlcbn07XG5TdGFyLmRlZmF1bHRQcm9wcyA9IHtcbiAgY29sb3I6ICdjdXJyZW50Q29sb3InLFxuICBzaXplOiAnMWVtJ1xufTtcbmV4cG9ydCBkZWZhdWx0IFN0YXI7IiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQWxlcnQsIENvbnRhaW5lciwgUm93LCBDb2wgfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQgeyBTdGFyLCBTdGFyRmlsbCB9IGZyb20gXCJyZWFjdC1ib290c3RyYXAtaWNvbnNcIjtcblxuaW1wb3J0IHsgU2FtcGxlLCBSZWNvcmRpbmcgfSBmcm9tIFwicGl0Y2gvcGl0Y2hcIjtcbmltcG9ydCB7IFBpdGNoIH0gZnJvbSBcInBpdGNoL25vdGVzXCI7XG5pbXBvcnQgY2xzeCBmcm9tIFwiY2xzeFwiO1xuaW1wb3J0IHtcbiAgTGluZUNoYXJ0LFxuICBMaW5lLFxuICBSZXNwb25zaXZlQ29udGFpbmVyLFxuICBDYXJ0ZXNpYW5HcmlkLFxuICBSZWZlcmVuY2VMaW5lLFxufSBmcm9tIFwicmVjaGFydHNcIjtcblxudHlwZSBSYXRpbmdQcm9wcyA9IHtcbiAgbm86IG51bWJlcjtcbiAgb2Y6IG51bWJlcjtcbn07XG5mdW5jdGlvbiBSYXRpbmcoeyBubywgb2YgfTogUmF0aW5nUHJvcHMpIHtcbiAgY29uc3Qgc3RhcnMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvZjsgaSArPSAxKSB7XG4gICAgc3RhcnMucHVzaChpIDw9IG5vID8gPFN0YXJGaWxsIGtleT17aX0gLz4gOiA8U3RhciBrZXk9e2l9IC8+KTtcbiAgfVxuXG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Y2xzeChcInRleHQtcHJpbWFyeVwiLCBcImRpc3BsYXktM1wiKX0+e3N0YXJzfTwvZGl2Pjtcbn1cblxuZXhwb3J0IHR5cGUgU3VtbWFyeVByb3BzID0ge1xuICByZWNvcmRpbmc6IFJlY29yZGluZztcbiAgcmVmZXJlbmNlOiBQaXRjaDtcbn07XG5cbmNvbnN0IHN1bSA9IChhOiBudW1iZXIsIGI6IG51bWJlcikgPT4gYSArIGI7XG5cbmV4cG9ydCBkZWZhdWx0ICh7IHJlY29yZGluZywgcmVmZXJlbmNlIH06IFN1bW1hcnlQcm9wcykgPT4ge1xuICBjb25zdCBub25FbXB0eSA9IHJlY29yZGluZy5maWx0ZXIoKHM/OiBTYW1wbGUpID0+ICEhcyk7XG4gIGNvbnN0IGZyZXFSZXN1bHQgPVxuICAgIG5vbkVtcHR5XG4gICAgICAubWFwKChzOiBTYW1wbGUpID0+IHMhLmZyZXF1ZW5jeSAtIHJlZmVyZW5jZS5mcmVxdWVuY3kpXG4gICAgICAucmVkdWNlKHN1bSwgMCkgLyBub25FbXB0eS5sZW5ndGg7XG5cbiAgY29uc3QgbWlkaVJlc3VsdCA9XG4gICAgbm9uRW1wdHlcbiAgICAgIC5tYXAoKHM6IFNhbXBsZSkgPT4gTWF0aC5hYnMocyEubm90ZSAtIHJlZmVyZW5jZS5ub3RlKSlcbiAgICAgIC5yZWR1Y2Uoc3VtLCAwKSAvIG5vbkVtcHR5Lmxlbmd0aDtcblxuICBsZXQgc3RhckNvdW50OiBudW1iZXI7XG4gIGlmIChtaWRpUmVzdWx0IDw9IDAuNSkge1xuICAgIHN0YXJDb3VudCA9IDU7XG4gIH0gZWxzZSBpZiAobWlkaVJlc3VsdCA8PSAxKSB7XG4gICAgLy8gd2l0aGluIGhhbGYgc3RlcFxuICAgIHN0YXJDb3VudCA9IDQ7XG4gIH0gZWxzZSBpZiAobWlkaVJlc3VsdCA8PSAyKSB7XG4gICAgLy8gd2l0aGluIHdob2xlIHN0ZXBcbiAgICBzdGFyQ291bnQgPSAzO1xuICB9IGVsc2UgaWYgKG1pZGlSZXN1bHQgPD0gNCkge1xuICAgIC8vIHdpdGhpbiB0aGlyZFxuICAgIHN0YXJDb3VudCA9IDI7XG4gIH0gZWxzZSBpZiAobWlkaVJlc3VsdCA8PSA3KSB7XG4gICAgLy8gd2l0aGlubiBmaWZ0aFxuICAgIHN0YXJDb3VudCA9IDE7XG4gIH0gZWxzZSB7XG4gICAgLy8geW91IHN1Y2tcbiAgICBzdGFyQ291bnQgPSAwO1xuICB9XG5cbiAgcmV0dXJuIChcbiAgICA8Q29udGFpbmVyPlxuICAgICAgPFJvdz5cbiAgICAgICAgPENvbCBjbGFzc05hbWU9XCJwYi0zXCI+XG4gICAgICAgICAgPFJhdGluZyBubz17c3RhckNvdW50fSBvZj17NX0gLz5cbiAgICAgICAgPC9Db2w+XG4gICAgICA8L1Jvdz5cblxuICAgICAgPFJvdz5cbiAgICAgICAgPENvbCBjbGFzc05hbWU9e2Nsc3goXCJjb2wtbWQtNlwiLCBcIm9mZnNldC1tZC0zXCIpfT5cbiAgICAgICAgICA8UmVzcG9uc2l2ZUNvbnRhaW5lciB3aWR0aD1cIjEwMCVcIiBoZWlnaHQ9ezEwMH0+XG4gICAgICAgICAgICA8TGluZUNoYXJ0IGhlaWdodD17MTAwfSB3aWR0aD17NDAwfSBkYXRhPXtub25FbXB0eSBhcyBvYmplY3RbXX0+XG4gICAgICAgICAgICAgIDxDYXJ0ZXNpYW5HcmlkIHN0cm9rZURhc2hhcnJheT1cIjMgM1wiIC8+XG4gICAgICAgICAgICAgIDxSZWZlcmVuY2VMaW5lXG4gICAgICAgICAgICAgICAgeT17cmVmZXJlbmNlLm5vdGV9XG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwicmVkXCJcbiAgICAgICAgICAgICAgICBzdHJva2VEYXNoYXJyYXk9XCIzIDNcIlxuICAgICAgICAgICAgICAvPlxuXG4gICAgICAgICAgICAgIDxMaW5lXG4gICAgICAgICAgICAgICAgdHlwZT1cIm1vbm90b25lXCJcbiAgICAgICAgICAgICAgICBkYXRhS2V5PVwibm90ZVwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlPVwiIzg4ODRkOFwiXG4gICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg9ezJ9XG4gICAgICAgICAgICAgICAgZG90PXtmYWxzZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvTGluZUNoYXJ0PlxuICAgICAgICAgIDwvUmVzcG9uc2l2ZUNvbnRhaW5lcj5cbiAgICAgICAgPC9Db2w+XG4gICAgICA8L1Jvdz5cbiAgICAgIDxSb3c+XG4gICAgICAgIDxDb2wgY2xhc3NOYW1lPXtjbHN4KFwiY29sLW1kLTZcIiwgXCJvZmZzZXQtbWQtM1wiKX0+XG4gICAgICAgICAgPEFsZXJ0IHZhcmlhbnQ9XCJzdWNjZXNzXCI+XG4gICAgICAgICAgICBSZWNlaXZlZCB7bm9uRW1wdHkubGVuZ3RofSBzYW1wbGUocykgYXZlcmFnaW5nIHRvIHtmcmVxUmVzdWx0fSBmcm9tXG4gICAgICAgICAgICBDPHN1Yj40PC9zdWI+LlxuICAgICAgICAgIDwvQWxlcnQ+XG4gICAgICAgIDwvQ29sPlxuICAgICAgPC9Sb3c+XG4gICAgPC9Db250YWluZXI+XG4gICk7XG59O1xuIiwiaW1wb3J0IFN1bW1hcnksIHsgU3VtbWFyeVByb3BzIH0gZnJvbSBcImNvbXBvbmVudHMvc3VtbWFyeS9TdW1tYXJ5XCI7XG5pbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyB1c2VMb2NhdGlvbiB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgY29uc3QgeyBzdGF0ZSB9ID0gdXNlTG9jYXRpb248U3VtbWFyeVByb3BzPigpO1xuXG4gIHJldHVybiA8U3VtbWFyeSByZWNvcmRpbmc9e3N0YXRlLnJlY29yZGluZ30gcmVmZXJlbmNlPXtzdGF0ZS5yZWZlcmVuY2V9IC8+O1xufTtcbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NyZWF0ZUJpbmRpbmcobywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xyXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDtcclxuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xyXG4gICAgaWYgKCFtKSByZXR1cm4gbztcclxuICAgIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICB3aGlsZSAoKG4gPT09IHZvaWQgMCB8fCBuLS0gPiAwKSAmJiAhKHIgPSBpLm5leHQoKSkuZG9uZSkgYXIucHVzaChyLnZhbHVlKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XHJcbiAgICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcclxuICAgICAgICBhciA9IGFyLmNvbmNhdChfX3JlYWQoYXJndW1lbnRzW2ldKSk7XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHByaXZhdGVNYXApIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBnZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcHJpdmF0ZU1hcC5nZXQocmVjZWl2ZXIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgcHJpdmF0ZU1hcCwgdmFsdWUpIHtcclxuICAgIGlmICghcHJpdmF0ZU1hcC5oYXMocmVjZWl2ZXIpKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcImF0dGVtcHRlZCB0byBzZXQgcHJpdmF0ZSBmaWVsZCBvbiBub24taW5zdGFuY2VcIik7XHJcbiAgICB9XHJcbiAgICBwcml2YXRlTWFwLnNldChyZWNlaXZlciwgdmFsdWUpO1xyXG4gICAgcmV0dXJuIHZhbHVlO1xyXG59XHJcbiIsImltcG9ydCB7IF9fYXNzaWduLCBfX2V4dGVuZHMsIF9fcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueSAqL1xuaW1wb3J0IHsgZ2V0Q3VycmVudEh1YiB9IGZyb20gJ0BzZW50cnkvYnJvd3Nlcic7XG5pbXBvcnQgeyB0aW1lc3RhbXBXaXRoTXMgfSBmcm9tICdAc2VudHJ5L3V0aWxzJztcbmltcG9ydCBob2lzdE5vblJlYWN0U3RhdGljcyBmcm9tICdob2lzdC1ub24tcmVhY3Qtc3RhdGljcyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5leHBvcnQgdmFyIFVOS05PV05fQ09NUE9ORU5UID0gJ3Vua25vd24nO1xudmFyIFRSQUNJTkdfR0VUVEVSID0ge1xuICAgIGlkOiAnVHJhY2luZycsXG59O1xudmFyIGdsb2JhbFRyYWNpbmdJbnRlZ3JhdGlvbiA9IG51bGw7XG4vKiogQGRlcHJlY2F0ZWQgcmVtb3ZlIHdoZW4gQHNlbnRyeS9hcG0gbm8gbG9uZ2VyIHVzZWQgKi9cbnZhciBnZXRUcmFjaW5nSW50ZWdyYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGdsb2JhbFRyYWNpbmdJbnRlZ3JhdGlvbikge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uO1xuICAgIH1cbiAgICBnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb24gPSBnZXRDdXJyZW50SHViKCkuZ2V0SW50ZWdyYXRpb24oVFJBQ0lOR19HRVRURVIpO1xuICAgIHJldHVybiBnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb247XG59O1xuLyoqXG4gKiBwdXNoQWN0aXZpdHkgY3JlYXRlcyBhbiBuZXcgcmVhY3QgYWN0aXZpdHkuXG4gKiBJcyBhIG5vLW9wIGlmIFRyYWNpbmcgaW50ZWdyYXRpb24gaXMgbm90IHZhbGlkXG4gKiBAcGFyYW0gbmFtZSBkaXNwbGF5TmFtZSBvZiBjb21wb25lbnQgdGhhdCBzdGFydGVkIGFjdGl2aXR5XG4gKiBAZGVwcmVjYXRlZCByZW1vdmUgd2hlbiBAc2VudHJ5L2FwbSBubyBsb25nZXIgdXNlZFxuICovXG5mdW5jdGlvbiBwdXNoQWN0aXZpdHkobmFtZSwgb3ApIHtcbiAgICBpZiAoZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uLmNvbnN0cnVjdG9yLnB1c2hBY3Rpdml0eShuYW1lLCB7XG4gICAgICAgIGRlc2NyaXB0aW9uOiBcIjxcIiArIG5hbWUgKyBcIj5cIixcbiAgICAgICAgb3A6IFwicmVhY3QuXCIgKyBvcCxcbiAgICB9KTtcbn1cbi8qKlxuICogcG9wQWN0aXZpdHkgcmVtb3ZlcyBhIFJlYWN0IGFjdGl2aXR5LlxuICogSXMgYSBuby1vcCBpZiBUcmFjaW5nIGludGVncmF0aW9uIGlzIG5vdCB2YWxpZC5cbiAqIEBwYXJhbSBhY3Rpdml0eSBpZCBvZiBhY3Rpdml0eSB0aGF0IGlzIGJlaW5nIHBvcHBlZFxuICogQGRlcHJlY2F0ZWQgcmVtb3ZlIHdoZW4gQHNlbnRyeS9hcG0gbm8gbG9uZ2VyIHVzZWRcbiAqL1xuZnVuY3Rpb24gcG9wQWN0aXZpdHkoYWN0aXZpdHkpIHtcbiAgICBpZiAoYWN0aXZpdHkgPT09IG51bGwgfHwgZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uLmNvbnN0cnVjdG9yLnBvcEFjdGl2aXR5KGFjdGl2aXR5KTtcbn1cbi8qKlxuICogT2J0YWluIGEgc3BhbiBnaXZlbiBhbiBhY3Rpdml0eSBpZC5cbiAqIElzIGEgbm8tb3AgaWYgVHJhY2luZyBpbnRlZ3JhdGlvbiBpcyBub3QgdmFsaWQuXG4gKiBAcGFyYW0gYWN0aXZpdHkgYWN0aXZpdHkgaWQgYXNzb2NpYXRlZCB3aXRoIG9idGFpbmVkIHNwYW5cbiAqIEBkZXByZWNhdGVkIHJlbW92ZSB3aGVuIEBzZW50cnkvYXBtIG5vIGxvbmdlciB1c2VkXG4gKi9cbmZ1bmN0aW9uIGdldEFjdGl2aXR5U3BhbihhY3Rpdml0eSkge1xuICAgIGlmIChhY3Rpdml0eSA9PT0gbnVsbCB8fCBnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbFRyYWNpbmdJbnRlZ3JhdGlvbi5jb25zdHJ1Y3Rvci5nZXRBY3Rpdml0eVNwYW4oYWN0aXZpdHkpO1xufVxuLyoqXG4gKiBUaGUgUHJvZmlsZXIgY29tcG9uZW50IGxldmVyYWdlcyBTZW50cnkncyBUcmFjaW5nIGludGVncmF0aW9uIHRvIGdlbmVyYXRlXG4gKiBzcGFucyBiYXNlZCBvbiBjb21wb25lbnQgbGlmZWN5Y2xlcy5cbiAqL1xudmFyIFByb2ZpbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQcm9maWxlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQcm9maWxlcihwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgLy8gVGhlIGFjdGl2aXR5IHJlcHJlc2VudGluZyBob3cgbG9uZyBpdCB0YWtlcyB0byBtb3VudCBhIGNvbXBvbmVudC5cbiAgICAgICAgX3RoaXMuX21vdW50QWN0aXZpdHkgPSBudWxsO1xuICAgICAgICAvLyBUaGUgc3BhbiBvZiB0aGUgbW91bnQgYWN0aXZpdHlcbiAgICAgICAgX3RoaXMuX21vdW50U3BhbiA9IHVuZGVmaW5lZDtcbiAgICAgICAgdmFyIF9hID0gX3RoaXMucHJvcHMsIG5hbWUgPSBfYS5uYW1lLCBfYiA9IF9hLmRpc2FibGVkLCBkaXNhYmxlZCA9IF9iID09PSB2b2lkIDAgPyBmYWxzZSA6IF9iO1xuICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGV5IGFyZSB1c2luZyBAc2VudHJ5L2FwbSwgd2UgbmVlZCB0byBwdXNoL3BvcCBhY3Rpdml0aWVzXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICBpZiAoZ2V0VHJhY2luZ0ludGVncmF0aW9uKCkpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICAgICAgX3RoaXMuX21vdW50QWN0aXZpdHkgPSBwdXNoQWN0aXZpdHkobmFtZSwgJ21vdW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgYWN0aXZlVHJhbnNhY3Rpb24gPSBnZXRBY3RpdmVUcmFuc2FjdGlvbigpO1xuICAgICAgICAgICAgaWYgKGFjdGl2ZVRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX21vdW50U3BhbiA9IGFjdGl2ZVRyYW5zYWN0aW9uLnN0YXJ0Q2hpbGQoe1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCI8XCIgKyBuYW1lICsgXCI+XCIsXG4gICAgICAgICAgICAgICAgICAgIG9wOiAncmVhY3QubW91bnQnLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgLy8gSWYgYSBjb21wb25lbnQgbW91bnRlZCwgd2UgY2FuIGZpbmlzaCB0aGUgbW91bnQgYWN0aXZpdHkuXG4gICAgUHJvZmlsZXIucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5fbW91bnRTcGFuKSB7XG4gICAgICAgICAgICB0aGlzLl9tb3VudFNwYW4uZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgICAgIHRoaXMuX21vdW50U3BhbiA9IGdldEFjdGl2aXR5U3Bhbih0aGlzLl9tb3VudEFjdGl2aXR5KTtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICAgICAgcG9wQWN0aXZpdHkodGhpcy5fbW91bnRBY3Rpdml0eSk7XG4gICAgICAgICAgICB0aGlzLl9tb3VudEFjdGl2aXR5ID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHJvZmlsZXIucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIChfYSkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgdXBkYXRlUHJvcHMgPSBfYS51cGRhdGVQcm9wcywgX2IgPSBfYS5pbmNsdWRlVXBkYXRlcywgaW5jbHVkZVVwZGF0ZXMgPSBfYiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9iO1xuICAgICAgICAvLyBPbmx5IGdlbmVyYXRlIGFuIHVwZGF0ZSBzcGFuIGlmIGhhc1VwZGF0ZVNwYW4gaXMgdHJ1ZSwgaWYgdGhlcmUgaXMgYSB2YWxpZCBtb3VudFNwYW4sXG4gICAgICAgIC8vIGFuZCBpZiB0aGUgdXBkYXRlUHJvcHMgaGF2ZSBjaGFuZ2VkLiBJdCBpcyBvayB0byBub3QgZG8gYSBkZWVwIGVxdWFsaXR5IGNoZWNrIGhlcmUgYXMgaXQgaXMgZXhwZW5zaXZlLlxuICAgICAgICAvLyBXZSBhcmUganVzdCB0cnlpbmcgdG8gZ2l2ZSBiYXNlbGluZSBjbHVlcyBmb3IgZnVydGhlciBpbnZlc3RpZ2F0aW9uLlxuICAgICAgICBpZiAoaW5jbHVkZVVwZGF0ZXMgJiYgdGhpcy5fbW91bnRTcGFuICYmIHVwZGF0ZVByb3BzICE9PSB0aGlzLnByb3BzLnVwZGF0ZVByb3BzKSB7XG4gICAgICAgICAgICAvLyBTZWUgd2hhdCBwcm9wcyBoYXZlZCBjaGFuZ2VkIGJldHdlZW4gdGhlIHByZXZpb3VzIHByb3BzLCBhbmQgdGhlIGN1cnJlbnQgcHJvcHMuIFRoaXMgaXNcbiAgICAgICAgICAgIC8vIHNldCBhcyBkYXRhIG9uIHRoZSBzcGFuLiBXZSBqdXN0IHN0b3JlIHRoZSBwcm9wIGtleXMgYXMgdGhlIHZhbHVlcyBjb3VsZCBiZSBwb3RlbmlhbGx5IHZlcnkgbGFyZ2UuXG4gICAgICAgICAgICB2YXIgY2hhbmdlZFByb3BzID0gT2JqZWN0LmtleXModXBkYXRlUHJvcHMpLmZpbHRlcihmdW5jdGlvbiAoaykgeyByZXR1cm4gdXBkYXRlUHJvcHNba10gIT09IF90aGlzLnByb3BzLnVwZGF0ZVByb3BzW2tdOyB9KTtcbiAgICAgICAgICAgIGlmIChjaGFuZ2VkUHJvcHMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIFRoZSB1cGRhdGUgc3BhbiBpcyBhIHBvaW50IGluIHRpbWUgc3BhbiB3aXRoIDAgZHVyYXRpb24sIGp1c3Qgc2lnbmlmeWluZyB0aGF0IHRoZSBjb21wb25lbnRcbiAgICAgICAgICAgICAgICAvLyBoYXMgYmVlbiB1cGRhdGVkLlxuICAgICAgICAgICAgICAgIHZhciBub3cgPSB0aW1lc3RhbXBXaXRoTXMoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9tb3VudFNwYW4uc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5nZWRQcm9wczogY2hhbmdlZFByb3BzLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCI8XCIgKyB0aGlzLnByb3BzLm5hbWUgKyBcIj5cIixcbiAgICAgICAgICAgICAgICAgICAgZW5kVGltZXN0YW1wOiBub3csXG4gICAgICAgICAgICAgICAgICAgIG9wOiBcInJlYWN0LnVwZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVzdGFtcDogbm93LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBJZiBhIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQsIHdlIGNhbiBzYXkgaXQgaXMgbm8gbG9uZ2VyIG9uIHRoZSBzY3JlZW4uXG4gICAgLy8gVGhpcyBtZWFucyB3ZSBjYW4gZmluaXNoIHRoZSBzcGFuIHJlcHJlc2VudGluZyB0aGUgY29tcG9uZW50IHJlbmRlci5cbiAgICBQcm9maWxlci5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIG5hbWUgPSBfYS5uYW1lLCBfYiA9IF9hLmluY2x1ZGVSZW5kZXIsIGluY2x1ZGVSZW5kZXIgPSBfYiA9PT0gdm9pZCAwID8gdHJ1ZSA6IF9iO1xuICAgICAgICBpZiAodGhpcy5fbW91bnRTcGFuICYmIGluY2x1ZGVSZW5kZXIpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIHdlcmUgYWJsZSB0byBvYnRhaW4gdGhlIHNwYW5JZCBvZiB0aGUgbW91bnQgYWN0aXZpdHksIHdlIHNob3VsZCBzZXQgdGhlXG4gICAgICAgICAgICAvLyBuZXh0IGFjdGl2aXR5IGFzIGEgY2hpbGQgdG8gdGhlIGNvbXBvbmVudCBtb3VudCBhY3Rpdml0eS5cbiAgICAgICAgICAgIHRoaXMuX21vdW50U3Bhbi5zdGFydENoaWxkKHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCI8XCIgKyBuYW1lICsgXCI+XCIsXG4gICAgICAgICAgICAgICAgZW5kVGltZXN0YW1wOiB0aW1lc3RhbXBXaXRoTXMoKSxcbiAgICAgICAgICAgICAgICBvcDogXCJyZWFjdC5yZW5kZXJcIixcbiAgICAgICAgICAgICAgICBzdGFydFRpbWVzdGFtcDogdGhpcy5fbW91bnRTcGFuLmVuZFRpbWVzdGFtcCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQcm9maWxlci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICB9O1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbWVtYmVyLW9yZGVyaW5nXG4gICAgUHJvZmlsZXIuZGVmYXVsdFByb3BzID0ge1xuICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIGluY2x1ZGVSZW5kZXI6IHRydWUsXG4gICAgICAgIGluY2x1ZGVVcGRhdGVzOiB0cnVlLFxuICAgIH07XG4gICAgcmV0dXJuIFByb2ZpbGVyO1xufShSZWFjdC5Db21wb25lbnQpKTtcbi8qKlxuICogd2l0aFByb2ZpbGVyIGlzIGEgaGlnaGVyIG9yZGVyIGNvbXBvbmVudCB0aGF0IHdyYXBzIGFcbiAqIGNvbXBvbmVudCBpbiBhIHtAbGluayBQcm9maWxlcn0gY29tcG9uZW50LiBJdCBpcyByZWNvbW1lbmRlZCB0aGF0XG4gKiB0aGUgaGlnaGVyIG9yZGVyIGNvbXBvbmVudCBiZSB1c2VkIG92ZXIgdGhlIHJlZ3VsYXIge0BsaW5rIFByb2ZpbGVyfSBjb21wb25lbnQuXG4gKlxuICogQHBhcmFtIFdyYXBwZWRDb21wb25lbnQgY29tcG9uZW50IHRoYXQgaXMgd3JhcHBlZCBieSBQcm9maWxlclxuICogQHBhcmFtIG9wdGlvbnMgdGhlIHtAbGluayBQcm9maWxlclByb3BzfSB5b3UgY2FuIHBhc3MgaW50byB0aGUgUHJvZmlsZXJcbiAqL1xuZnVuY3Rpb24gd2l0aFByb2ZpbGVyKFdyYXBwZWRDb21wb25lbnQsIFxuLy8gV2UgZG8gbm90IHdhbnQgdG8gaGF2ZSBgdXBkYXRlUHJvcHNgIGdpdmVuIGluIG9wdGlvbnMsIGl0IGlzIGluc3RlYWQgZmlsbGVkIHRocm91Z2ggdGhlIEhPQy5cbm9wdGlvbnMpIHtcbiAgICB2YXIgY29tcG9uZW50RGlzcGxheU5hbWUgPSAob3B0aW9ucyAmJiBvcHRpb25zLm5hbWUpIHx8IFdyYXBwZWRDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgV3JhcHBlZENvbXBvbmVudC5uYW1lIHx8IFVOS05PV05fQ09NUE9ORU5UO1xuICAgIHZhciBXcmFwcGVkID0gZnVuY3Rpb24gKHByb3BzKSB7IHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQcm9maWxlciwgX19hc3NpZ24oe30sIG9wdGlvbnMsIHsgbmFtZTogY29tcG9uZW50RGlzcGxheU5hbWUsIHVwZGF0ZVByb3BzOiBwcm9wcyB9KSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChXcmFwcGVkQ29tcG9uZW50LCBfX2Fzc2lnbih7fSwgcHJvcHMpKSkpOyB9O1xuICAgIFdyYXBwZWQuZGlzcGxheU5hbWUgPSBcInByb2ZpbGVyKFwiICsgY29tcG9uZW50RGlzcGxheU5hbWUgKyBcIilcIjtcbiAgICAvLyBDb3B5IG92ZXIgc3RhdGljIG1ldGhvZHMgZnJvbSBXcmFwcGVkIGNvbXBvbmVudCB0byBQcm9maWxlciBIT0NcbiAgICAvLyBTZWU6IGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9oaWdoZXItb3JkZXItY29tcG9uZW50cy5odG1sI3N0YXRpYy1tZXRob2RzLW11c3QtYmUtY29waWVkLW92ZXJcbiAgICBob2lzdE5vblJlYWN0U3RhdGljcyhXcmFwcGVkLCBXcmFwcGVkQ29tcG9uZW50KTtcbiAgICByZXR1cm4gV3JhcHBlZDtcbn1cbi8qKlxuICpcbiAqIGB1c2VQcm9maWxlcmAgaXMgYSBSZWFjdCBob29rIHRoYXQgcHJvZmlsZXMgYSBSZWFjdCBjb21wb25lbnQuXG4gKlxuICogUmVxdWlyZXMgUmVhY3QgMTYuOCBvciBhYm92ZS5cbiAqIEBwYXJhbSBuYW1lIGRpc3BsYXlOYW1lIG9mIGNvbXBvbmVudCBiZWluZyBwcm9maWxlZFxuICovXG5mdW5jdGlvbiB1c2VQcm9maWxlcihuYW1lLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge1xuICAgICAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgICAgIGhhc1JlbmRlclNwYW46IHRydWUsXG4gICAgfTsgfVxuICAgIHZhciBfYSA9IF9fcmVhZChSZWFjdC51c2VTdGF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFjdGl2ZVRyYW5zYWN0aW9uID0gZ2V0QWN0aXZlVHJhbnNhY3Rpb24oKTtcbiAgICAgICAgaWYgKGFjdGl2ZVRyYW5zYWN0aW9uKSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0aXZlVHJhbnNhY3Rpb24uc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiPFwiICsgbmFtZSArIFwiPlwiLFxuICAgICAgICAgICAgICAgIG9wOiAncmVhY3QubW91bnQnLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KSwgMSksIG1vdW50U3BhbiA9IF9hWzBdO1xuICAgIFJlYWN0LnVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChtb3VudFNwYW4pIHtcbiAgICAgICAgICAgIG1vdW50U3Bhbi5maW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG1vdW50U3BhbiAmJiBvcHRpb25zLmhhc1JlbmRlclNwYW4pIHtcbiAgICAgICAgICAgICAgICBtb3VudFNwYW4uc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIjxcIiArIG5hbWUgKyBcIj5cIixcbiAgICAgICAgICAgICAgICAgICAgZW5kVGltZXN0YW1wOiB0aW1lc3RhbXBXaXRoTXMoKSxcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwicmVhY3QucmVuZGVyXCIsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiBtb3VudFNwYW4uZW5kVGltZXN0YW1wLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdGhpcyB0byBydW4gb25jZS5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWhvb2tzL2V4aGF1c3RpdmUtZGVwc1xuICAgIH0sIFtdKTtcbn1cbmV4cG9ydCB7IHdpdGhQcm9maWxlciwgUHJvZmlsZXIsIHVzZVByb2ZpbGVyIH07XG4vKiogR3JhYnMgYWN0aXZlIHRyYW5zYWN0aW9uIG9mZiBzY29wZSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEFjdGl2ZVRyYW5zYWN0aW9uKGh1Yikge1xuICAgIGlmIChodWIgPT09IHZvaWQgMCkgeyBodWIgPSBnZXRDdXJyZW50SHViKCk7IH1cbiAgICBpZiAoaHViKSB7XG4gICAgICAgIHZhciBzY29wZSA9IGh1Yi5nZXRTY29wZSgpO1xuICAgICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgICAgIHJldHVybiBzY29wZS5nZXRUcmFuc2FjdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9maWxlci5qcy5tYXAiLCJjb25zdCBub3Rlczogc3RyaW5nW10gPSBbXG4gIFwiQVwiLCAvLyAyMVxuICBcIkLima1cIiwgLy8gMjJcbiAgXCJCXCIsIC8vIDIzXG4gIFwiQ1wiLCAvLyAyNFxuICBcIkPima9cIiwgLy8gMjVcbiAgXCJEXCIsIC8vIDI2XG4gIFwiROKZr1wiLCAvLyAyN1xuICBcIkVcIiwgLy8gMjhcbiAgXCJGXCIsIC8vIDI5XG4gIFwiRuKZr1wiLCAvLyAzMFxuICBcIkdcIiwgLy8gMzFcbiAgXCJH4pmvXCIsIC8vIDMyXG5dO1xuY29uc3QgbmFtZSA9IChub3RlOiBudW1iZXIpOiBzdHJpbmcgPT4gbm90ZXNbKG5vdGUgLSAyMSkgJSAxMl07XG5jb25zdCBvY3RhdmUgPSAobm90ZTogbnVtYmVyKTogbnVtYmVyID0+IE1hdGguZmxvb3Iobm90ZSAvIDEyIC0gMSk7XG5cbmNvbnN0IG5vdGVUb0ZyZXEgPSAobm90ZTogbnVtYmVyKTogbnVtYmVyID0+IDQ0MCAqICgobm90ZSAtIDY5KSAvIDEyKSAqKiAyO1xuXG5jb25zdCBmcmVxVG9Ob3RlID0gKGZyZXE6IG51bWJlcik6IG51bWJlciA9PiA2OSArIDEyICogTWF0aC5sb2cyKGZyZXEgLyA0NDApO1xuXG5jb25zdCBkaWZmID0gKGE6IG51bWJlciwgYjogbnVtYmVyKTogbnVtYmVyID0+IDEyMDAgKiBNYXRoLmxvZzIoYiAvIGEpO1xuXG5jbGFzcyBOb3RlIHtcbiAgcmVhZG9ubHkgZnJlcXVlbmN5OiBudW1iZXI7XG5cbiAgcmVhZG9ubHkgbm90ZTogbnVtYmVyO1xuXG4gIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcblxuICByZWFkb25seSBvY3RhdmU6IG51bWJlcjtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIHJlYWRvbmx5IF9mcmVxOiBudW1iZXIpIHtcbiAgICB0aGlzLm5vdGUgPSBNYXRoLnJvdW5kKGZyZXFUb05vdGUoX2ZyZXEpKTtcblxuICAgIHRoaXMuZnJlcXVlbmN5ID0gbm90ZVRvRnJlcSh0aGlzLm5vdGUpO1xuICAgIHRoaXMubmFtZSA9IG5hbWUodGhpcy5ub3RlKTtcbiAgICB0aGlzLm9jdGF2ZSA9IG9jdGF2ZSh0aGlzLm5vdGUpO1xuICB9XG59XG5cbnR5cGUgUGl0Y2ggPSB7XG4gIHRhcmdldDogTm90ZTtcbiAgbm90ZTogbnVtYmVyO1xuICBmcmVxdWVuY3k6IG51bWJlcjtcbiAgZGlmZjogbnVtYmVyO1xufTtcblxuY29uc3Qgbm90ZSA9IChmcmVxPzogbnVtYmVyIHwgbnVsbCk6IFBpdGNoIHwgbnVsbCA9PiB7XG4gIGlmIChmcmVxID09PSB1bmRlZmluZWQgfHwgZnJlcSA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XG5cbiAgY29uc3QgbiA9IG5ldyBOb3RlKGZyZXEpO1xuICByZXR1cm4ge1xuICAgIGZyZXF1ZW5jeTogZnJlcSxcbiAgICB0YXJnZXQ6IG4sXG4gICAgbm90ZTogZnJlcVRvTm90ZShmcmVxKSxcbiAgICBkaWZmOiBkaWZmKG4uZnJlcXVlbmN5LCBmcmVxKSxcbiAgfTtcbn07XG5cbmV4cG9ydCB7IG5hbWUsIG9jdGF2ZSwgbm90ZSwgTm90ZSwgUGl0Y2gsIGZyZXFUb05vdGUsIG5vdGVUb0ZyZXEsIGRpZmYgfTtcbiIsImltcG9ydCBcIm1sNVwiO1xuXG5pbXBvcnQgeyBub3RlLCBQaXRjaCB9IGZyb20gXCJwaXRjaC9ub3Rlc1wiO1xuaW1wb3J0IGdldExvZ2dlciBmcm9tIFwibG9nXCI7XG5cbmNvbnN0IExPRyA9IGdldExvZ2dlcigpO1xuXG5leHBvcnQgdHlwZSBTYW1wbGUgPSBQaXRjaCB8IG51bGw7XG5leHBvcnQgdHlwZSBSZWNvcmRpbmcgPSBTYW1wbGVbXTtcblxudHlwZSBQaXRjaEdlbmVyYXRvciA9IEFzeW5jR2VuZXJhdG9yPFNhbXBsZT47XG5cbmNvbnN0IE1PREVMX1VSTCA9XG4gIFwiaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL21sNWpzL21sNS1kYXRhLWFuZC1tb2RlbHMvbW9kZWxzL3BpdGNoLWRldGVjdGlvbi9jcmVwZS9cIjtcblxuYXN5bmMgZnVuY3Rpb24qIG1sNVBpdGNoRGV0ZWN0aW9uKFxuICBjdHg6IEF1ZGlvQ29udGV4dCxcbiAgc3RyZWFtOiBNZWRpYVN0cmVhbVxuKTogUGl0Y2hHZW5lcmF0b3Ige1xuICBjb25zdCBwaXRjaERldGVjdGlvbjogYW55ID0gYXdhaXQgbWw1LnBpdGNoRGV0ZWN0aW9uKE1PREVMX1VSTCwgY3R4LCBzdHJlYW0pO1xuXG4gIGF3YWl0IHBpdGNoRGV0ZWN0aW9uLnJlYWR5O1xuXG4gIHdoaWxlIChzdHJlYW0uYWN0aXZlICYmIGN0eC5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcbiAgICAvLyBUaGlzIGlzIGZpbmUgYXMgdGhpcyBpcyBhIGdlbmVyYXRvciBjb2RlLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hd2FpdC1pbi1sb29wXG4gICAgY29uc3QgcGl0Y2ggPSBhd2FpdCBwaXRjaERldGVjdGlvbi5nZXRQaXRjaCgpO1xuICAgIGlmIChwaXRjaCA9PT0gbnVsbCkge1xuICAgICAgTE9HLmRlYnVnKFwiTm8gcGl0Y2ggZGV0ZWN0ZWQuXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB5aWVsZCBub3RlKHBpdGNoKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgUGl0Y2hHZW5lcmF0b3IsIG1sNVBpdGNoRGV0ZWN0aW9uIH07XG4iLCJpbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5cbnR5cGUgR2VuZXJhdG9yQ29tcG9uZW50UHJvcHM8VD4gPSB7XG4gIGdlbmVyYXRvcjogQXN5bmNHZW5lcmF0b3I8VCB8IG51bGwsIGFueSwgYW55PjtcbiAgY2hpbGRyZW46IGFueTtcbiAgb25UaWNrPzogKHQ6IFQgfCBudWxsKSA9PiB2b2lkO1xufTtcblxuZnVuY3Rpb24gR2VuZXJhdG9yQ29tcG9uZW50PFQ+KHByb3BzOiBHZW5lcmF0b3JDb21wb25lbnRQcm9wczxUPikge1xuICBjb25zdCBbZmxhZywgc2V0RmxhZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjdXJyZW50VmFsdWUsIHNldEN1cnJlbnRWYWx1ZV0gPSB1c2VTdGF0ZTxUIHwgdW5kZWZpbmVkPigpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IG1vdW50ZWQgPSB0cnVlO1xuXG4gICAgcHJvcHMuZ2VuZXJhdG9yLm5leHQoKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQuZG9uZSB8fCAhbW91bnRlZCkgcmV0dXJuO1xuXG4gICAgICBzZXRDdXJyZW50VmFsdWUocmVzdWx0LnZhbHVlIHx8IHVuZGVmaW5lZCk7XG4gICAgICBzZXRGbGFnKCFmbGFnKTtcbiAgICB9KTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBtb3VudGVkID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW2ZsYWddKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChwcm9wcy5vblRpY2sgJiYgY3VycmVudFZhbHVlKSB7XG4gICAgICBwcm9wcy5vblRpY2soY3VycmVudFZhbHVlKTtcbiAgICB9XG4gIH0sIFtjdXJyZW50VmFsdWVdKTtcblxuICBpZiAodHlwZW9mIHByb3BzLmNoaWxkcmVuID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gcHJvcHMuY2hpbGRyZW4oY3VycmVudFZhbHVlKTtcbiAgfVxuICByZXR1cm4gcHJvcHMuY2hpbGRyZW47XG59XG5cbmV4cG9ydCBkZWZhdWx0IEdlbmVyYXRvckNvbXBvbmVudDtcbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5cbmltcG9ydCB7IFBpdGNoR2VuZXJhdG9yLCBTYW1wbGUgfSBmcm9tIFwicGl0Y2gvcGl0Y2hcIjtcblxuaW1wb3J0IGdldExvZ2dlciBmcm9tIFwibG9nXCI7XG5pbXBvcnQgeyBCdXR0b24sIFNwaW5uZXIgfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQgR2VuZXJhdG9yQ29tcG9uZW50IGZyb20gXCIuL0dlbmVyYXRvckNvbXBvbmVudFwiO1xuXG5jb25zdCBMT0cgPSBnZXRMb2dnZXIoKTtcblxudHlwZSBSZWNvcmRpbmcgPSBTYW1wbGVbXTtcbnR5cGUgUGl0Y2hSZWNvcmRlclByb3BzID0ge1xuICBwaXRjaEdlbmVyYXRvcjogUGl0Y2hHZW5lcmF0b3I7XG4gIHRpbWVvdXRNczogbnVtYmVyO1xuICBvbkZpbmlzaDogKHNhbXBsZXM6IFJlY29yZGluZykgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBpdGNoUmVjb3JkZXIoe1xuICBwaXRjaEdlbmVyYXRvcixcbiAgdGltZW91dE1zLFxuICBvbkZpbmlzaCxcbn06IFBpdGNoUmVjb3JkZXJQcm9wcykge1xuICBjb25zdCBbcmVjb3JkaW5nLCBzZXRSZWNvcmRpbmddID0gdXNlU3RhdGU8UmVjb3JkaW5nPihbXSk7XG4gIGNvbnN0IFtzdGFydGVkLCBzZXRTdGFydGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ZpbmlzaGVkLCBzZXRGaW5pc2hlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb3VudGRvd24sIHNldENvdW50ZG93bl0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzdGFydGVkKSB7XG4gICAgICByZXR1cm4gKCkgPT4ge307XG4gICAgfVxuICAgIExPRy5pbmZvKFwiU2V0dGluZyB1cCB0aGUgdGltZW91dC5cIik7XG4gICAgY29uc3QgdCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgc2V0RmluaXNoZWQodHJ1ZSk7XG4gICAgICBzZXRTdGFydGVkKGZhbHNlKTtcbiAgICB9LCB0aW1lb3V0TXMpO1xuICAgIExPRy5pbmZvKFwiU2V0IHVwIHRpbWVyICVkIGZvciAlZCBtcy5cIiwgdCwgdGltZW91dE1zKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBMT0cuaW5mbyhcIkNsZWFyaW5nIG91dCB0aGUgdGltZW91dCAlZC5cIiwgdCk7XG4gICAgICBjbGVhclRpbWVvdXQodCk7XG4gICAgfTtcbiAgfSwgW3N0YXJ0ZWRdKTtcblxuICAvLyBJbnRlcnZhbCBzZXQgdXAuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFzdGFydGVkKSB7XG4gICAgICByZXR1cm4gKCkgPT4ge307XG4gICAgfVxuXG4gICAgc2V0Q291bnRkb3duKHRpbWVvdXRNcyAvIDEwMDApO1xuICAgIExPRy5pbmZvKFwiU2V0dGluZyB0aGUgaW50ZXJ2YWwgd2l0aCBjb3VudGRvd24gJWQuXCIsIHRpbWVvdXRNcyk7XG4gICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiBzZXRDb3VudGRvd24oKHByZXYpID0+IHByZXYgLSAxKSwgMTAwMCk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgTE9HLmluZm8oXCJDbGVhcmluZyBvdXQgdGhlIGludGVydmFsICVkLlwiLCBpbnRlcnZhbCk7XG4gICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICB9O1xuICB9LCBbc3RhcnRlZF0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGZpbmlzaGVkKSB7XG4gICAgICBMT0cuaW5mbyhcIkZpbmlzaGluZyByZWNvcmRpbmcuXCIpO1xuICAgICAgb25GaW5pc2gocmVjb3JkaW5nKTtcbiAgICB9XG4gIH0sIFtmaW5pc2hlZCwgcmVjb3JkaW5nXSk7XG5cbiAgY29uc3QgYWRkU2FtcGxlID0gKHA6IFNhbXBsZSkgPT4ge1xuICAgIGNvbnN0IG5ld1JlY29yZGluZyA9IHJlY29yZGluZy5jb25jYXQoW3BdKTtcbiAgICBzZXRSZWNvcmRpbmcobmV3UmVjb3JkaW5nKTtcbiAgICBpZiAoIXN0YXJ0ZWQpIHtcbiAgICAgIHNldFN0YXJ0ZWQodHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGxhYmVsID0gIXN0YXJ0ZWQgPyAoXG4gICAgPGgzIGNsYXNzTmFtZT1cInRleHQtaW5mb1wiPnN0YXJ0IHNpbmdpbmchPC9oMz5cbiAgKSA6IChcbiAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lLXByaW1hcnlcIiBkaXNhYmxlZD5cbiAgICAgIDxTcGlubmVyXG4gICAgICAgIGFzPVwic3BhblwiXG4gICAgICAgIGFuaW1hdGlvbj1cImdyb3dcIlxuICAgICAgICByb2xlPVwic3RhdHVzXCJcbiAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgY2xhc3NOYW1lPVwibXItMlwiXG4gICAgICAgIHZhcmlhbnQ9XCJkYW5nZXJcIlxuICAgICAgLz5cbiAgICAgIHtjb3VudGRvd259Li4uXG4gICAgPC9CdXR0b24+XG4gICk7XG5cbiAgcmV0dXJuIHBpdGNoR2VuZXJhdG9yID8gKFxuICAgIDxHZW5lcmF0b3JDb21wb25lbnQgZ2VuZXJhdG9yPXtwaXRjaEdlbmVyYXRvcn0gb25UaWNrPXthZGRTYW1wbGV9PlxuICAgICAge2xhYmVsfVxuICAgIDwvR2VuZXJhdG9yQ29tcG9uZW50PlxuICApIDogKFxuICAgIDxTcGlubmVyIGFuaW1hdGlvbj1cImJvcmRlclwiIHZhcmlhbnQ9XCJwcmltYXJ5XCIgLz5cbiAgKTtcbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgZ2V0TG9nZ2VyLCB7IHVzZUxvZ2dlciB9IGZyb20gXCJsb2dcIjtcbmltcG9ydCAqIGFzIFNlbnRyeSBmcm9tIFwiQHNlbnRyeS9yZWFjdFwiO1xuXG5pbXBvcnQgeyBtbDVQaXRjaERldGVjdGlvbiwgUGl0Y2hHZW5lcmF0b3IsIFJlY29yZGluZyB9IGZyb20gXCJwaXRjaC9waXRjaFwiO1xuaW1wb3J0IHsgUGl0Y2gsIG5vdGUsIG5vdGVUb0ZyZXEgfSBmcm9tIFwicGl0Y2gvbm90ZXNcIjtcblxuaW1wb3J0IHsgUmVkaXJlY3QgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IHsgU3Bpbm5lciB9IGZyb20gXCJyZWFjdC1ib290c3RyYXBcIjtcbmltcG9ydCBQaXRjaFJlY29yZGVyIGZyb20gXCIuLi9jb21wb25lbnRzL1BpdGNoUmVjb3JkZXJcIjtcblxuY29uc3QgTE9HID0gZ2V0TG9nZ2VyKCk7XG5cbnR5cGUgRGV0ZWN0aW9uUHJvcHMgPSB7XG4gIG5leHQ6IHN0cmluZztcbn07XG5cbmZ1bmN0aW9uIHVzZU1pY3JvcGhvbmUoKSB7XG4gIGNvbnN0IFtzdHJlYW0sIHNldFN0cmVhbV0gPSB1c2VTdGF0ZTxNZWRpYVN0cmVhbT4oKTtcbiAgY29uc3QgbG9nZ2VyID0gdXNlTG9nZ2VyKCk7XG5cbiAgLy8gU2V0IHVwIHRoZSBtaWNyb3Bob25lLiBEbyBpdCBvbmNlLCBzbyBbXSBkZXBlbmRlbmN5LlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvZ2dlci5pbmZvKFwiQWNxdWlyaW5nIG1pY3JvcGhvbmUuXCIpO1xuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXNcbiAgICAgIC5nZXRVc2VyTWVkaWEoe1xuICAgICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgICAgdmlkZW86IGZhbHNlLFxuICAgICAgfSlcbiAgICAgIC50aGVuKChuZXdTdHJlYW0pID0+IHtcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFxuICAgICAgICAgIFwiTWljcm9waG9uZSBpbml0aWFsaXplZCB3aXRoIHN0cmVhbTogJWosIGFjdGl2ZT8sICVzLCBzdGF0ZTogJXMuXCIsXG4gICAgICAgICAgbmV3U3RyZWFtLFxuICAgICAgICAgIG5ld1N0cmVhbS5hY3RpdmUsXG4gICAgICAgICAgbmV3U3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0ucmVhZHlTdGF0ZVxuICAgICAgICApO1xuICAgICAgICBuZXdTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXS5zdG9wKCk7XG4gICAgICAgIHNldFN0cmVhbShuZXdTdHJlYW0pO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gc3RyZWFtO1xufVxuXG5jb25zdCBEZXRlY3Rpb24gPSAoeyBuZXh0OiBwYXRoIH06IERldGVjdGlvblByb3BzKSA9PiB7XG4gIExPRy5pbmZvKFwiW1dpZGdldF0gUmVjb3JkZXJcIik7XG4gIFNlbnRyeS51c2VQcm9maWxlcihcIlBpdGNoRGV0ZWN0aW9uXCIpO1xuXG4gIC8vIHdlYmtpdCB2cyBhbGwgdGhlIG90aGVyc1xuICAvLyBAdHMtaWdub3JlXG4gIGNvbnN0IEF1ZGlvQ3R4ID0gd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O1xuXG4gIC8vIEF1ZGlvIGludGVyZmFjZXNcbiAgY29uc3QgW2F1ZGlvQ29udGV4dF0gPSB1c2VTdGF0ZShuZXcgQXVkaW9DdHgoKSk7IC8vIHJlYWQtb25seVxuICBjb25zdCBbXG4gICAgcGl0Y2hEZXRlY3Rpb25HZW5lcmF0b3IsXG4gICAgc2V0UGl0Y2hEZXRlY3Rpb25HZW5lcmF0b3IsXG4gIF0gPSB1c2VTdGF0ZTxQaXRjaEdlbmVyYXRvcj4oKTtcbiAgY29uc3QgW3JlY29yZGluZywgc2V0UmVjb3JkaW5nXSA9IHVzZVN0YXRlPFJlY29yZGluZz4oKTtcblxuICAvLyBTZXQgdXAgdGhlIG1pY3JvcGhvbmUuIERvIGl0IG9uY2UsIHNvIFtdIGRlcGVuZGVuY3kuXG4gIGNvbnN0IHN0cmVhbSA9IHVzZU1pY3JvcGhvbmUoKTtcblxuICAvLyBDb25maWd1cmUgdGhlIGF1ZGlvIHN0cmVhbS5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7fTtcbiAgICB9XG5cbiAgICBMT0cuaW5mbyhcbiAgICAgIFwiU2V0dGluZyB1cCB0aGUgY29udGV4dCBpbiBzdGF0ZSAlaiBhbmQgc3RyZWFtICVqXCIsXG4gICAgICBhdWRpb0NvbnRleHQuc3RhdGUsXG4gICAgICBzdHJlYW0uaWRcbiAgICApO1xuICAgIGNvbnN0IG5vZGUgPSBhdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2Uoc3RyZWFtKTtcblxuICAgIExPRy5pbmZvKFwiTWVkaWEgc3RyZWFtIHNvdXJjZSBjcmVhdGVkLlwiLCBub2RlKTtcbiAgICBzZXRQaXRjaERldGVjdGlvbkdlbmVyYXRvcihtbDVQaXRjaERldGVjdGlvbihhdWRpb0NvbnRleHQsIHN0cmVhbSkpO1xuICAgIGF1ZGlvQ29udGV4dC5yZXN1bWUoKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBMT0cuaW5mbyhcIkNsZWFudXAgdGhlIGF1ZGlvIHNldHRpbmdzXCIpO1xuICAgICAgTE9HLmRlYnVnKFwiU3RvcCBhbGwgdHJhY2tzIGluIHRoZSBzdHJlYW0gJWouXCIsIHN0cmVhbSk7XG4gICAgICBzdHJlYW0/LmdldFRyYWNrcygpLmZvckVhY2goKHQpID0+IHQuc3RvcCgpKTtcblxuICAgICAgTE9HLmRlYnVnKFwiU3VzcGVuZCBhdWRpbyBjb250ZXh0ICVqLlwiLCBhdWRpb0NvbnRleHQpO1xuICAgICAgYXVkaW9Db250ZXh0LnN1c3BlbmQoKTtcbiAgICB9O1xuICB9LCBbc3RyZWFtXSk7XG5cbiAgLy8gRmluaXNoZWQgcmVjb3JkaW5nLlxuICBpZiAocmVjb3JkaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCByZWZlcmVuY2VQaXRjaCA9IG5vdGUobm90ZVRvRnJlcSg2MCkpIGFzIFBpdGNoO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVkaXJlY3RcbiAgICAgICAgdG89e3tcbiAgICAgICAgICBwYXRobmFtZTogcGF0aCxcbiAgICAgICAgICBzdGF0ZTogeyByZWNvcmRpbmcsIHJlZmVyZW5jZTogcmVmZXJlbmNlUGl0Y2ggfSxcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIC8vIHJlY29yZGluZyBpcyBzZXQgdXAuXG4gIGlmIChwaXRjaERldGVjdGlvbkdlbmVyYXRvcikge1xuICAgIExPRy5pbmZvKHBpdGNoRGV0ZWN0aW9uR2VuZXJhdG9yKTtcbiAgICByZXR1cm4gKFxuICAgICAgPFBpdGNoUmVjb3JkZXJcbiAgICAgICAgb25GaW5pc2g9eyhyZXN1bHQpID0+IHtcbiAgICAgICAgICBzZXRSZWNvcmRpbmcocmVzdWx0KTtcbiAgICAgICAgfX1cbiAgICAgICAgcGl0Y2hHZW5lcmF0b3I9e3BpdGNoRGV0ZWN0aW9uR2VuZXJhdG9yfVxuICAgICAgICB0aW1lb3V0TXM9ezUwMDB9XG4gICAgICAvPlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gPFNwaW5uZXIgYW5pbWF0aW9uPVwiYm9yZGVyXCIgdmFyaWFudD1cInByaW1hcnlcIiAvPjtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IERldGVjdGlvbjtcbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEJyb3dzZXJSb3V0ZXIgYXMgUm91dGVyLCBMaW5rLCBSb3V0ZSwgU3dpdGNoIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCBcIi4vQXBwLmNzc1wiO1xuXG5pbXBvcnQgY2xzeCBmcm9tIFwiY2xzeFwiO1xuXG5pbXBvcnQgZ2V0TG9nZ2VyIGZyb20gXCJsb2dcIjtcbmltcG9ydCB7IENvbnRhaW5lciB9IGZyb20gXCJyZWFjdC1ib290c3RyYXBcIjtcbmltcG9ydCBIZWxsbyBmcm9tIFwicGFnZXMvSGVsbG9cIjtcbmltcG9ydCBQcmV2aWV3IGZyb20gXCJwYWdlcy9QcmV2aWV3XCI7XG5pbXBvcnQgUmVzdWx0IGZyb20gXCJwYWdlcy9SZXN1bHRcIjtcbmltcG9ydCBEZXRlY3Rpb24gZnJvbSBcInBhZ2VzL0RldGVjdGlvblwiO1xuXG5jb25zdCBMT0cgPSBnZXRMb2dnZXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICBMT0cuaW5mbyhcIlN0YXJ0aW5nIGFwcC5cIik7XG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lcj5cbiAgICAgIDxSb3V0ZXI+XG4gICAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPXtjbHN4KFwidGV4dC1jZW50ZXJcIiwgXCJtdC01XCIpfT5cbiAgICAgICAgICA8TGluayB0bz1cIi9cIiBjbGFzc05hbWU9e2Nsc3goXCJ0aXRsZVwiLCBcIm5hdmJhci1icmFuZFwiKX0+XG4gICAgICAgICAgICA8aDEgY2xhc3NOYW1lPXtjbHN4KFwiZGlzcGxheS0xXCIsIFwidGV4dC1wcmltYXJ5XCIsIFwidGl0bGVcIil9PlxuICAgICAgICAgICAgICB2b2NhbGx5XG4gICAgICAgICAgICA8L2gxPlxuICAgICAgICAgIDwvTGluaz5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXNlY29uZGFyeSBsZWFkXCI+aG93IGNsZWFuIGNhbiB5b3Ugc2luZz88L3A+XG4gICAgICAgIDwvaGVhZGVyPlxuXG4gICAgICAgIDxtYWluIGNsYXNzTmFtZT17Y2xzeChcInRleHQtY2VudGVyXCIsIFwicHktNVwiKX0gcm9sZT1cIm1haW5cIj5cbiAgICAgICAgICA8U3dpdGNoPlxuICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvcHJldmlld1wiPlxuICAgICAgICAgICAgICA8UHJldmlldyBuZXh0PVwiL3JlY29yZFwiIC8+XG4gICAgICAgICAgICA8L1JvdXRlPlxuICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvcmVjb3JkXCI+XG4gICAgICAgICAgICAgIDxEZXRlY3Rpb24gbmV4dD1cIi9zdW1tYXJ5XCIgLz5cbiAgICAgICAgICAgIDwvUm91dGU+XG4gICAgICAgICAgICA8Um91dGUgcGF0aD1cIi9zdW1tYXJ5XCI+XG4gICAgICAgICAgICAgIDxSZXN1bHQgLz5cbiAgICAgICAgICAgIDwvUm91dGU+XG4gICAgICAgICAgICA8Um91dGUgcGF0aD1cIi9cIj5cbiAgICAgICAgICAgICAgPEhlbGxvIG5leHQ9XCIvcHJldmlld1wiIC8+XG4gICAgICAgICAgICA8L1JvdXRlPlxuICAgICAgICAgIDwvU3dpdGNoPlxuICAgICAgICA8L21haW4+XG5cbiAgICAgICAgPGZvb3RlciBjbGFzc05hbWU9e2Nsc3goXCJweS0zXCIsIFwiYm9yZGVyLXRvcFwiLCBcInRleHQtbXV0ZWRcIil9PlxuICAgICAgICAgIDxDb250YWluZXI+XG4gICAgICAgICAgICA8cD52b2NhbGx5LmFwcCAyMDIwPC9wPlxuICAgICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgICA8L2Zvb3Rlcj5cbiAgICAgIDwvUm91dGVyPlxuICAgIDwvQ29udGFpbmVyPlxuICApO1xufTtcbiIsImltcG9ydCAqIGFzIFNlbnRyeSBmcm9tIFwiQHNlbnRyeS9yZWFjdFwiO1xuaW1wb3J0ICogYXMgSW50ZWdyYXRpb25zIGZyb20gXCJAc2VudHJ5L2ludGVncmF0aW9uc1wiO1xuaW1wb3J0IHsgSW50ZWdyYXRpb25zIGFzIFRyYWNpbmdJbnRlZ3JhdGlvbnMgfSBmcm9tIFwiQHNlbnRyeS90cmFjaW5nXCI7XG5cbmltcG9ydCBMb2dSb2NrZXQgZnJvbSBcImxvZ3JvY2tldFwiO1xuaW1wb3J0IHNldHVwTG9nUm9ja2V0UmVhY3QgZnJvbSBcImxvZ3JvY2tldC1yZWFjdFwiO1xuXG5kZWNsYXJlIGNvbnN0IFJFTEVBU0U6IHN0cmluZztcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICBTZW50cnkuaW5pdCh7XG4gICAgZHNuOlxuICAgICAgXCJodHRwczovL2ZmZTQzOWFjNjViODQ4ODlhMzc1MTgwMzdhMjNhN2IxQG80MzM1NTcuaW5nZXN0LnNlbnRyeS5pby81Mzg4OTE3XCIsXG4gICAgcmVsZWFzZTogUkVMRUFTRSxcbiAgICBlbnZpcm9ubWVudDogXCJ0ZXN0aW5nXCIsXG4gICAgaW50ZWdyYXRpb25zOiBbXG4gICAgICBuZXcgSW50ZWdyYXRpb25zLkNhcHR1cmVDb25zb2xlKHtcbiAgICAgICAgbGV2ZWxzOiBbXCJpbmZvXCJdLFxuICAgICAgfSksXG4gICAgICBuZXcgVHJhY2luZ0ludGVncmF0aW9ucy5Ccm93c2VyVHJhY2luZygpLFxuICAgIF0sXG4gIH0pO1xuXG4gIExvZ1JvY2tldC5pbml0KFwiNmF5cWk3L3ZvY2FsbHl0ZXN0XCIsIHtcbiAgICByZWxlYXNlOiBSRUxFQVNFLFxuICB9KTtcbiAgc2V0dXBMb2dSb2NrZXRSZWFjdChMb2dSb2NrZXQpO1xufTtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0ICogYXMgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuXG5pbXBvcnQgaW5pdCBmcm9tIFwiaW5pdFwiO1xuaW1wb3J0IEFwcCBmcm9tIFwiLi9BcHBcIjtcblxuaW5pdCgpO1xuXG5SZWFjdERPTS5yZW5kZXIoPEFwcCAvPiwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhcHBcIikpO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==