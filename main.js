!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t){e.exports=React},function(e,t){e.exports=ReactBootstrap},function(e,t){e.exports=ReactRouterDOM},function(e,t){e.exports=PropTypes},function(e,t){e.exports=Sentry},function(e,t){e.exports=ReactDOM},function(e,t){e.exports=LogRocket},function(e,t,n){"use strict";t.__esModule=!0,t.LinkContainer=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(0),i=l(a),c=l(n(3)),u=n(2);function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)},d=t.LinkContainer=function(e){function t(){var n,r;s(this,t);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=f(this,e.call.apply(e,[this].concat(a))),r.handleClick=function(e){var t=r.props,n=t.children,o=t.onClick;if(n.props.onClick&&n.props.onClick(e),o&&o(e),!e.defaultPrevented&&0===e.button&&!p(e)){e.preventDefault();var a=r.props,i=a.replace,c=a.to,u=a.history;i?u.replace(c):u.push(c)}},f(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.history,a=(t.location,t.match,t.staticContext,t.children),c=(t.replace,t.to),l=t.exact,s=t.strict,f=t.activeClassName,p=t.className,d=t.activeStyle,m=t.style,y=t.isActive,h=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["history","location","match","staticContext","children","replace","to","exact","strict","activeClassName","className","activeStyle","style","isActive"]),v=n.createHref("string"==typeof c?{pathname:c}:c),b=i.default.Children.only(a);return i.default.createElement(u.Route,{path:"object"===(void 0===c?"undefined":o(c))?c.pathname:c,exact:l,strict:s,children:function(t){var n=t.location,o=t.match,a=!!(y?y(o,n):o);return i.default.cloneElement(b,r({},h,{className:[p,b.props.className,a?f:null].join(" ").trim(),style:a?r({},m,d):m,href:v,onClick:e.handleClick}))}})},t}(a.Component);d.propTypes={history:c.default.shape({push:c.default.func.isRequired,replace:c.default.func.isRequired,createHref:c.default.func.isRequired}).isRequired,location:c.default.object,match:c.default.object,staticContext:c.default.object,children:c.default.element.isRequired,onClick:c.default.func,replace:c.default.bool,to:c.default.oneOfType([c.default.string,c.default.object]).isRequired,exact:c.default.bool,strict:c.default.bool,className:c.default.string,activeClassName:c.default.string,style:c.default.object,activeStyle:c.default.object,isActive:c.default.func},d.defaultProps={replace:!1,exact:!1,strict:!1,activeClassName:"active"},t.default=(0,u.withRouter)(d)},function(e,t){e.exports=Sentry.Integrations},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){o({ResponderEventPlugin:{extractEvents:function(e,t,n,r){try{if("click"!==e||!n||!r)return;for(var o=n,a=[];o;){var i="function"==typeof o.elementType&&o.elementType.displayName;i&&a.push(i),o=o.return}r.__lrName=a}catch(e){console.error("logrocket-react caught an error while hooking into React. Please make sure you are using the correct version of logrocket-react for your version of react-dom.")}}}})};var r=n(5),o=void 0,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;o=a&&a.Events&&a.Events[3]?a.Events[3]:function(){console.warn("logrocket-react does not work with this version of React")},e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0,t.LinkContainer=t.IndexLinkContainer=void 0;var r=a(n(16)),o=a(n(7));function a(e){return e&&e.__esModule?e:{default:e}}t.IndexLinkContainer=r.default,t.LinkContainer=o.default},function(e,t,n){"use strict";var r=n(18),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function u(e){return r.isMemo(e)?i:c[e.$$typeof]||o}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[r.Memo]=i;var l=Object.defineProperty,s=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var o=d(n);o&&o!==m&&e(t,o,r)}var i=s(n);f&&(i=i.concat(f(n)));for(var c=u(t),y=u(n),h=0;h<i.length;++h){var v=i[h];if(!(a[v]||r&&r[v]||y&&y[v]||c&&c[v])){var b=p(n,v);try{l(t,v,b)}catch(e){}}}}return t}},,function(e,t,n){var r=n(14),o=n(15);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var a={insert:"head",singleton:!1};r(o,a);e.exports=o.locals||{}},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function c(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function u(e,t){for(var n={},r=[],o=0;o<e.length;o++){var a=e[o],u=t.base?a[0]+t.base:a[0],l=n[u]||0,s="".concat(u," ").concat(l);n[u]=l+1;var f=c(s),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:s,updater:h(p,t),references:1}),r.push(s)}return r}function l(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=a(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var s,f=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function p(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,o);else{var a=document.createTextNode(o),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}function d(e,t,n){var r=n.css,o=n.media,a=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var m=null,y=0;function h(e,t){var n,r,o;if(t.singleton){var a=y++;n=m||(m=l(t)),r=p.bind(null,n,a,!1),o=p.bind(null,n,a,!0)}else n=l(t),r=d.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=u(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=c(n[r]);i[o].references--}for(var a=u(e,t),l=0;l<n.length;l++){var s=c(n[l]);0===i[s].references&&(i[s].updater(),i.splice(s,1))}n=a}}}},function(e,t,n){},function(e,t,n){"use strict";t.__esModule=!0,t.IndexLinkContainer=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=c(n(0)),a=n(2),i=c(n(7));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var s=t.IndexLinkContainer=function(e){function t(){return u(this,t),l(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){return o.default.createElement(i.default,r({},this.props,{exact:!0}))},t}(o.default.Component);t.default=(0,a.withRouter)(s)},function(e,t){e.exports=ml5},function(e,t,n){"use strict";e.exports=n(19)},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,s=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,y=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,S=r?Symbol.for("react.responder"):60118,w=r?Symbol.for("react.scope"):60119;function O(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case i:case u:case c:case m:return e;default:switch(e=e&&e.$$typeof){case s:case d:case v:case h:case l:return e;default:return t}}case a:return t}}}function j(e){return O(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=s,t.ContextProvider=l,t.Element=o,t.ForwardRef=d,t.Fragment=i,t.Lazy=v,t.Memo=h,t.Portal=a,t.Profiler=u,t.StrictMode=c,t.Suspense=m,t.isAsyncMode=function(e){return j(e)||O(e)===f},t.isConcurrentMode=j,t.isContextConsumer=function(e){return O(e)===s},t.isContextProvider=function(e){return O(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return O(e)===d},t.isFragment=function(e){return O(e)===i},t.isLazy=function(e){return O(e)===v},t.isMemo=function(e){return O(e)===h},t.isPortal=function(e){return O(e)===a},t.isProfiler=function(e){return O(e)===u},t.isStrictMode=function(e){return O(e)===c},t.isSuspense=function(e){return O(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===i||e===p||e===u||e===c||e===m||e===y||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===h||e.$$typeof===l||e.$$typeof===s||e.$$typeof===d||e.$$typeof===g||e.$$typeof===S||e.$$typeof===w||e.$$typeof===b)},t.typeOf=O},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n.n(r),a=n(5),i=n(4),c=n(8),u=n(6),l=n.n(u),s=n(9),f=n.n(s),p=n(2);n(13);function d(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=d(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}var m=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=d(e))&&(r&&(r+=" "),r+=t);return r},y=function(){return console};function h(){return console}var v=n(1),b=function(e){var t=e.next;return h().info("[Widget] Hello"),o.a.createElement(p.Link,{to:t},o.a.createElement(v.Button,{variant:"outline-primary",size:"lg"},"start"))},g=n(10),S=n.p+"3941a1eab40276243332df676e06a013.ogg";function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=y(),E=function(){j.info("[Widget] Player");var e=w(Object(r.useState)(!1),2),t=e[0],n=e[1];Object(r.useEffect)((function(){j.info("Changed playing: %s",t)}),[t]);var a=t?"playing...":"play reference";return o.a.createElement(v.Button,{variant:"outline-primary",size:"lg",disabled:t,onClick:function(){var e,t;n(!0),e=function(){return n(!1)},(t=new Audio(S)).onended=e,t.play()}},a)},x=function(e){var t=e.next;return o.a.createElement(v.ButtonGroup,null,o.a.createElement(E,null),o.a.createElement(g.LinkContainer,{to:t},o.a.createElement(v.Button,{variant:"outline-primary",size:"lg"},"start")))},C=n(3),_=n.n(C);function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function A(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var P=Object(r.forwardRef)((function(e,t){var n=e.color,r=e.size,a=A(e,["color","size"]);return o.a.createElement("svg",T({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},a),o.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"}))}));P.propTypes={color:_.a.string,size:_.a.oneOfType([_.a.string,_.a.number])},P.defaultProps={color:"currentColor",size:"1em"};var M=P;function R(){return(R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var I=Object(r.forwardRef)((function(e,t){var n=e.color,r=e.size,a=k(e,["color","size"]);return o.a.createElement("svg",R({ref:t,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},a),o.a.createElement("path",{fillRule:"evenodd",d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"}))}));I.propTypes={color:_.a.string,size:_.a.oneOfType([_.a.string,_.a.number])},I.defaultProps={color:"currentColor",size:"1em"};var N=I;function $(e){for(var t=e.no,n=e.of,r=[],a=0;a<n;a+=1)r.push(a<=t?o.a.createElement(M,{key:a}):o.a.createElement(N,{key:a}));return o.a.createElement("div",{className:m("text-primary","display-3")},r)}var L=function(e,t){return e+t},z=function(e){var t,n=e.recording,r=e.reference,a=n.filter((function(e){return!!e})),i=a.map((function(e){return e.frequency-r.frequency})).reduce(L,0)/a.length,c=a.map((function(e){return Math.abs(e.note-r.note)})).reduce(L,0)/a.length;return t=c<=.5?5:c<=1?4:c<=2?3:c<=4?2:c<=7?1:0,o.a.createElement(v.Container,null,o.a.createElement(v.Row,null,o.a.createElement(v.Col,{className:"pb-3"},o.a.createElement($,{no:t,of:5}))),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{className:m("col-md-6","offset-md-3")},o.a.createElement(v.Alert,{variant:"success"},"Received ",a.length," sample(s) averaging to ",i," from C",o.a.createElement("sub",null,"4"),"."))))},B=function(){var e=Object(p.useLocation)().state;return o.a.createElement(z,{recording:e.recording,reference:e.reference})},D=function(e,t){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function q(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(r=a.next()).done;)i.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=a.return)&&n.call(a)}finally{if(o)throw o.error}}return i}n(11);var F={id:"Tracing"},U=null;!function(e){function t(t){var n=e.call(this,t)||this;n._mountActivity=null,n._mountSpan=void 0;var r=n.props,o=r.name,a=r.disabled;if(void 0!==a&&a)return n;if(U||(U=Object(i.getCurrentHub)().getIntegration(F)))n._mountActivity=function(e,t){return null===U?null:U.constructor.pushActivity(e,{description:"<"+e+">",op:"react."+t})}(o,"mount");else{var c=W();c&&(n._mountSpan=c.startChild({description:"<"+o+">",op:"react.mount"}))}return n}(function(e,t){function n(){this.constructor=e}D(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.componentDidMount=function(){var e;this._mountSpan?this._mountSpan.finish():(this._mountSpan=function(e){if(null!==e&&null!==U)return U.constructor.getActivitySpan(e)}(this._mountActivity),null!==(e=this._mountActivity)&&null!==U&&U.constructor.popActivity(e),this._mountActivity=null)},t.prototype.componentDidUpdate=function(e){var t=this,n=e.updateProps,r=e.includeUpdates;if((void 0===r||r)&&this._mountSpan&&n!==this.props.updateProps){var o=Object.keys(n).filter((function(e){return n[e]!==t.props.updateProps[e]}));if(o.length>0){var a=Object(i.timestampWithMs)();this._mountSpan.startChild({data:{changedProps:o},description:"<"+this.props.name+">",endTimestamp:a,op:"react.update",startTimestamp:a})}}},t.prototype.componentWillUnmount=function(){var e=this.props,t=e.name,n=e.includeRender,r=void 0===n||n;this._mountSpan&&r&&this._mountSpan.startChild({description:"<"+t+">",endTimestamp:Object(i.timestampWithMs)(),op:"react.render",startTimestamp:this._mountSpan.endTimestamp})},t.prototype.render=function(){return this.props.children},t.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}(r.Component);function W(e){if(void 0===e&&(e=Object(i.getCurrentHub)()),e){var t=e.getScope();if(t)return t.getTransaction()}}n(17);var H=["A","B♭","B","C","C♯","D","D♯","E","F","F♯","G","G♯"],G=function(e){return 440*Math.pow((e-69)/12,2)},K=function(e){return 69+12*Math.log2(e/440)},J=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._freq=t,this.note=Math.round(K(t)),this.frequency=G(this.note),this.name=function(e){return H[(e-21)%12]}(this.note),this.octave=function(e){return Math.floor(e/12-1)}(this.note)},V=function(e){if(null==e)return null;var t,n,r=new J(e);return{frequency:e,target:r,note:K(e),diff:(t=r.frequency,n=e,1200*Math.log2(n/t))}},Y=function(e){return this instanceof Y?(this.v=e,this):new Y(e)},Q=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),a=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){a.push([e,t,n,r])>1||c(e,t)}))})}function c(e,t){try{(n=o[e](t)).value instanceof Y?Promise.resolve(n.value.v).then(u,l):s(a[0][2],n)}catch(e){s(a[0][3],e)}var n}function u(e){c("next",e)}function l(e){c("throw",e)}function s(e,t){e(t),a.shift(),a.length&&c(a[0][0],a[0][1])}},X=y(),Z="https://cdn.jsdelivr.net/gh/ml5js/ml5-data-and-models/models/pitch-detection/crepe/";function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=function(e){var t=ee(Object(r.useState)(!1),2),n=t[0],o=t[1],a=ee(Object(r.useState)(),2),i=a[0],c=a[1];return Object(r.useEffect)((function(){var t=!0;return e.generator.next().then((function(e){!e.done&&t&&(c(e.value||void 0),o(!n))})),function(){t=!1}}),[n]),Object(r.useEffect)((function(){e.onTick&&i&&e.onTick(i)}),[i]),"function"==typeof e.children?e.children(i):e.children};function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ae=y();function ie(e){var t=e.pitchGenerator,n=e.timeoutMs,a=e.onFinish,i=re(Object(r.useState)([]),2),c=i[0],u=i[1],l=re(Object(r.useState)(!1),2),s=l[0],f=l[1],p=re(Object(r.useState)(!1),2),d=p[0],m=p[1],y=re(Object(r.useState)(0),2),h=y[0],b=y[1];new Audio(S).play(),Object(r.useEffect)((function(){if(!s)return function(){};ae.info("Setting up the timeout.");var e=setTimeout((function(){m(!0),f(!1)}),n);return ae.info("Set up timer %d for %d ms.",e,n),function(){ae.info("Clearing out the timeout %d.",e),clearTimeout(e)}}),[s]),Object(r.useEffect)((function(){if(!s)return function(){};b(n/1e3),ae.info("Setting the interval with countdown %d.",n);var e=setInterval((function(){return b((function(e){return e-1}))}),1e3);return function(){ae.info("Clearing out the interval %d.",e),clearInterval(e)}}),[s]),Object(r.useEffect)((function(){d&&(ae.info("Finishing recording."),a(c))}),[d,c]);var g=s?o.a.createElement(v.Button,{variant:"outline-primary",disabled:!0},o.a.createElement(v.Spinner,{as:"span",animation:"grow",role:"status","aria-hidden":"true",size:"sm",className:"mr-2",variant:"danger"}),h,"..."):o.a.createElement("h3",{className:"text-info"},"start singing!");return t?o.a.createElement(ne,{generator:t,onTick:function(e){var t=c.concat([e]);u(t),s||f(!0)}},g):o.a.createElement(v.Spinner,{animation:"border",variant:"primary"})}function ce(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=e[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ue(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var le=y();var se=function(e){var t=e.next;le.info("[Widget] Recorder"),function(e,t){void 0===t&&(t={disabled:!1,hasRenderSpan:!0});var n=q(r.useState((function(){if(!t||!t.disabled){var n=W();return n?n.startChild({description:"<"+e+">",op:"react.mount"}):void 0}})),1)[0];r.useEffect((function(){return n&&n.finish(),function(){n&&t.hasRenderSpan&&n.startChild({description:"<"+e+">",endTimestamp:Object(i.timestampWithMs)(),op:"react.render",startTimestamp:n.endTimestamp})}}),[])}("PitchDetection");var n=window.AudioContext||window.webkitAudioContext,a=ce(Object(r.useState)(new n),1)[0],c=ce(Object(r.useState)(),2),u=c[0],l=c[1],s=ce(Object(r.useState)(),2),f=s[0],d=s[1],m=function(){var e=ce(Object(r.useState)(),2),t=e[0],n=e[1],o=h();return Object(r.useEffect)((function(){o.info("Acquiring microphone."),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(e){o.debug("Microphone initialized with stream: %j, active?, %s, state: %s.",e,e.active,e.getAudioTracks()[0].readyState),n(e)}))}),[]),t}();if(Object(r.useEffect)((function(){if(void 0===m)return function(){};le.info("Setting up the context in state %j and stream %j",a.state,m.id);var e=a.createMediaStreamSource(m);return le.info("Media stream source created.",e),l(function(e,t){return Q(this,arguments,regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=ml5.pitchDetection(Z,e,t),X.info("Created pitch detection.",r),n.next=4,Y(r.ready);case 4:X.info("Initialized the model.");case 5:if(!t.active||"running"!==e.state){n.next=19;break}return n.next=8,Y(r.getPitch());case 8:if(null!==(o=n.sent)){n.next=13;break}X.debug("Skipping"),n.next=17;break;case 13:return n.next=15,Y(V(o));case 15:return n.next=17,n.sent;case 17:n.next=5;break;case 19:case"end":return n.stop()}}),n)})))}(a,m)),a.resume(),function(){le.info("Cleanup the audio settings"),le.debug("Stop all tracks in the stream %j.",m),null==m||m.getTracks().forEach((function(e){return e.stop()})),le.debug("Suspend audio context %j.",a),a.suspend()}}),[m]),void 0!==f){var y=V(G(60));return o.a.createElement(p.Redirect,{to:{pathname:t,state:{recording:f,reference:y}}})}return u?o.a.createElement(ie,{onFinish:function(e){d(e)},pitchGenerator:u,timeoutMs:5e3}):o.a.createElement(v.Spinner,{animation:"border",variant:"primary"})},fe=y(),pe=function(){return fe.info("Starting app."),o.a.createElement(v.Container,null,o.a.createElement("header",{className:m("text-center","mt-5")},o.a.createElement("h1",{className:m("display-1","text-primary","title")},"vocally"),o.a.createElement("h2",{className:"text-secondary"},"how clean can you sing?")),o.a.createElement("main",{className:m("text-center","py-5"),role:"main"},o.a.createElement(p.BrowserRouter,null,o.a.createElement(p.Switch,null,o.a.createElement(p.Route,{path:"/preview"},o.a.createElement(x,{next:"/record"})),o.a.createElement(p.Route,{path:"/record"},o.a.createElement(se,{next:"/summary"})),o.a.createElement(p.Route,{path:"/summary"},o.a.createElement(B,null)),o.a.createElement(p.Route,{path:"/"},o.a.createElement(b,{next:"/preview"}))))),o.a.createElement("footer",{className:m("py-3","border-top","text-muted")},o.a.createElement(v.Container,null,o.a.createElement("p",null,"vocally.app 2020"))))};i.init({dsn:"https://ffe439ac65b84889a37518037a23a7b1@o433557.ingest.sentry.io/5388917",release:"testing",environment:"testing",integrations:[new c.CaptureConsole({levels:["info"]}),new i.Integrations.BrowserTracing]}),l.a.init("6ayqi7/vocallytest",{release:"testing"}),f()(l.a),a.render(r.createElement(pe,null),document.getElementById("app"))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdEJvb3RzdHJhcFwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIlJlYWN0Um91dGVyRE9NXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUHJvcFR5cGVzXCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiU2VudHJ5XCIiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RET01cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJMb2dSb2NrZXRcIiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWJvb3RzdHJhcC9saWIvTGlua0NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJTZW50cnkuSW50ZWdyYXRpb25zXCIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZ3JvY2tldC1yZWFjdC9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItYm9vdHN0cmFwL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvZGlzdC9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy5janMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC5jc3MiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItYm9vdHN0cmFwL2xpYi9JbmRleExpbmtDb250YWluZXIuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwibWw1XCIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWlzL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2Nsc3gvZGlzdC9jbHN4Lm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvZy50ZXN0aW5nLnRzIiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9IZWxsby50c3giLCJ3ZWJwYWNrOi8vLy4vYXNzZXRzL2F1ZGlvL2M0Lm9nZyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QbGF5ZXIudHN4Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9QcmV2aWV3LnRzeCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtYm9vdHN0cmFwLWljb25zL2Rpc3QvaWNvbnMvc3Rhci1maWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1ib290c3RyYXAtaWNvbnMvZGlzdC9pY29ucy9zdGFyLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL1N1bW1hcnkudHN4Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9SZXN1bHQudHN4Iiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3JlYWN0L25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvcmVhY3QvZXNtL3Byb2ZpbGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9waXRjaC9ub3Rlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGl0Y2gvcGl0Y2gudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvR2VuZXJhdG9yQ29tcG9uZW50LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QaXRjaFJlY29yZGVyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9QaXRjaERldGVjdGlvbi50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL0FwcC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2luaXQudGVzdGluZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXgudHN4Il0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVhY3QiLCJSZWFjdEJvb3RzdHJhcCIsIlJlYWN0Um91dGVyRE9NIiwiUHJvcFR5cGVzIiwiU2VudHJ5IiwiUmVhY3RET00iLCJMb2dSb2NrZXQiLCJMaW5rQ29udGFpbmVyIiwidW5kZWZpbmVkIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJfdHlwZW9mIiwiaXRlcmF0b3IiLCJvYmoiLCJjb25zdHJ1Y3RvciIsIl9yZWFjdCIsIl9yZWFjdDIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3Byb3BUeXBlczIiLCJfcmVhY3RSb3V0ZXJEb20iLCJkZWZhdWx0IiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiaXNNb2RpZmllZEV2ZW50IiwiZXZlbnQiLCJtZXRhS2V5IiwiYWx0S2V5IiwiY3RybEtleSIsInNoaWZ0S2V5IiwiX0NvbXBvbmVudCIsIl90ZW1wIiwiX3RoaXMiLCJ0aGlzIiwiX2xlbiIsImFyZ3MiLCJBcnJheSIsIl9rZXkiLCJhcHBseSIsImNvbmNhdCIsImhhbmRsZUNsaWNrIiwiX3RoaXMkcHJvcHMiLCJwcm9wcyIsImNoaWxkcmVuIiwib25DbGljayIsImRlZmF1bHRQcmV2ZW50ZWQiLCJidXR0b24iLCJwcmV2ZW50RGVmYXVsdCIsIl90aGlzJHByb3BzMiIsInJlcGxhY2UiLCJ0byIsImhpc3RvcnkiLCJwdXNoIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIl9pbmhlcml0cyIsInJlbmRlciIsIl90aGlzMiIsIl9wcm9wcyIsImxvY2F0aW9uIiwibWF0Y2giLCJzdGF0aWNDb250ZXh0IiwiZXhhY3QiLCJzdHJpY3QiLCJhY3RpdmVDbGFzc05hbWUiLCJjbGFzc05hbWUiLCJhY3RpdmVTdHlsZSIsInN0eWxlIiwiZ2V0SXNBY3RpdmUiLCJpc0FjdGl2ZSIsImtleXMiLCJpbmRleE9mIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIiwiaHJlZiIsImNyZWF0ZUhyZWYiLCJwYXRobmFtZSIsImNoaWxkIiwiQ2hpbGRyZW4iLCJvbmx5IiwiY3JlYXRlRWxlbWVudCIsIlJvdXRlIiwicGF0aCIsIl9yZWYiLCJjbG9uZUVsZW1lbnQiLCJqb2luIiwidHJpbSIsIkNvbXBvbmVudCIsInByb3BUeXBlcyIsInNoYXBlIiwiZnVuYyIsImlzUmVxdWlyZWQiLCJlbGVtZW50IiwiYm9vbCIsIm9uZU9mVHlwZSIsInN0cmluZyIsImRlZmF1bHRQcm9wcyIsIndpdGhSb3V0ZXIiLCJJbnRlZ3JhdGlvbnMiLCJpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUiLCJSZXNwb25kZXJFdmVudFBsdWdpbiIsImV4dHJhY3RFdmVudHMiLCJ0b3BMZXZlbFR5cGUiLCJ0YXJnZXRJbnN0IiwiZmliZXJOb2RlIiwibmF0aXZlRXZlbnQiLCJjdXJyZW50RWxlbWVudCIsIm5hbWVzIiwiZWxlbWVudFR5cGUiLCJkaXNwbGF5TmFtZSIsInJldHVybiIsIl9fbHJOYW1lIiwiZXJyb3IiLCJjb25zb2xlIiwiX3JlYWN0RG9tIiwic2VjcmV0IiwiX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQiLCJFdmVudHMiLCJ3YXJuIiwiSW5kZXhMaW5rQ29udGFpbmVyIiwiX0luZGV4TGlua0NvbnRhaW5lcjMiLCJfTGlua0NvbnRhaW5lcjMiLCJyZWFjdElzIiwiUkVBQ1RfU1RBVElDUyIsImNoaWxkQ29udGV4dFR5cGVzIiwiY29udGV4dFR5cGUiLCJjb250ZXh0VHlwZXMiLCJnZXREZWZhdWx0UHJvcHMiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJtaXhpbnMiLCJ0eXBlIiwiS05PV05fU1RBVElDUyIsImNhbGxlciIsImNhbGxlZSIsImFyaXR5IiwiTUVNT19TVEFUSUNTIiwiY29tcGFyZSIsIlRZUEVfU1RBVElDUyIsImdldFN0YXRpY3MiLCJjb21wb25lbnQiLCJpc01lbW8iLCJGb3J3YXJkUmVmIiwiTWVtbyIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdFByb3RvdHlwZSIsImhvaXN0Tm9uUmVhY3RTdGF0aWNzIiwidGFyZ2V0Q29tcG9uZW50Iiwic291cmNlQ29tcG9uZW50IiwiYmxhY2tsaXN0IiwiaW5oZXJpdGVkQ29tcG9uZW50IiwidGFyZ2V0U3RhdGljcyIsInNvdXJjZVN0YXRpY3MiLCJkZXNjcmlwdG9yIiwiZSIsImFwaSIsImNvbnRlbnQiLCJvcHRpb25zIiwibG9jYWxzIiwibWVtbyIsImlzT2xkSUUiLCJCb29sZWFuIiwid2luZG93IiwiZG9jdW1lbnQiLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJsaXN0IiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImlkIiwiYmFzZSIsImNvdW50IiwiaW5kZXgiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsInRleHRTdG9yZSIsInJlcGxhY2VUZXh0IiwicmVwbGFjZW1lbnQiLCJmaWx0ZXIiLCJhcHBseVRvU2luZ2xldG9uVGFnIiwicmVtb3ZlIiwic3R5bGVTaGVldCIsImNzc1RleHQiLCJjc3NOb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJjaGlsZE5vZGVzIiwicmVtb3ZlQ2hpbGQiLCJpbnNlcnRCZWZvcmUiLCJhcHBseVRvVGFnIiwicmVtb3ZlQXR0cmlidXRlIiwiYnRvYSIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInBhcmVudE5vZGUiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJuZXdPYmoiLCJsYXN0SWRlbnRpZmllcnMiLCJuZXdMaXN0IiwidG9TdHJpbmciLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsInNwbGljZSIsIl9MaW5rQ29udGFpbmVyMiIsIl9SZWFjdCRDb21wb25lbnQiLCJtbDUiLCJiIiwiZm9yIiwiZiIsImciLCJoIiwiayIsInEiLCJ2IiwidyIsIngiLCJ5IiwieiIsImEiLCJ1IiwiJCR0eXBlb2YiLCJBIiwiQXN5bmNNb2RlIiwiQ29uY3VycmVudE1vZGUiLCJDb250ZXh0Q29uc3VtZXIiLCJDb250ZXh0UHJvdmlkZXIiLCJFbGVtZW50IiwiRnJhZ21lbnQiLCJMYXp5IiwiUG9ydGFsIiwiUHJvZmlsZXIiLCJTdHJpY3RNb2RlIiwiU3VzcGVuc2UiLCJpc0FzeW5jTW9kZSIsImlzQ29uY3VycmVudE1vZGUiLCJpc0NvbnRleHRDb25zdW1lciIsImlzQ29udGV4dFByb3ZpZGVyIiwiaXNFbGVtZW50IiwiaXNGb3J3YXJkUmVmIiwiaXNGcmFnbWVudCIsImlzTGF6eSIsImlzUG9ydGFsIiwiaXNQcm9maWxlciIsImlzU3RyaWN0TW9kZSIsImlzU3VzcGVuc2UiLCJpc1ZhbGlkRWxlbWVudFR5cGUiLCJ0eXBlT2YiLCJ0b1ZhbCIsIm1peCIsInN0ciIsImlzQXJyYXkiLCJ0bXAiLCJ1c2VMb2dnZXIiLCJuZXh0IiwiaW5mbyIsInZhcmlhbnQiLCJzaXplIiwiaXNQbGF5aW5nIiwic2V0SXNQbGF5aW5nIiwibWVzc2FnZSIsImRpc2FibGVkIiwib25FbmQiLCJhdWRpbyIsIkF1ZGlvIiwib25lbmRlZCIsInBsYXkiLCJleGNsdWRlZCIsInNvdXJjZUtleXMiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsInNvdXJjZVN5bWJvbEtleXMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIlN0YXJGaWxsIiwicmVmIiwiY29sb3IiLCJyZXN0IiwieG1sbnMiLCJ2aWV3Qm94Iiwid2lkdGgiLCJoZWlnaHQiLCJmaWxsIiwibnVtYmVyIiwiU3RhciIsImZpbGxSdWxlIiwiUmF0aW5nIiwibm8iLCJvZiIsInN0YXJzIiwic3VtIiwic3RhckNvdW50IiwicmVjb3JkaW5nIiwicmVmZXJlbmNlIiwibm9uRW1wdHkiLCJmcmVxUmVzdWx0IiwibWFwIiwiZnJlcXVlbmN5IiwicmVkdWNlIiwibWlkaVJlc3VsdCIsIk1hdGgiLCJhYnMiLCJub3RlIiwic3RhdGUiLCJTdW1tYXJ5IiwiZXh0ZW5kU3RhdGljcyIsIl9fcmVhZCIsImFyIiwiZG9uZSIsIlRSQUNJTkdfR0VUVEVSIiwiZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uIiwiX3N1cGVyIiwiX21vdW50QWN0aXZpdHkiLCJfbW91bnRTcGFuIiwiX2EiLCJfYiIsImdldEludGVncmF0aW9uIiwib3AiLCJwdXNoQWN0aXZpdHkiLCJkZXNjcmlwdGlvbiIsImFjdGl2ZVRyYW5zYWN0aW9uIiwiZ2V0QWN0aXZlVHJhbnNhY3Rpb24iLCJzdGFydENoaWxkIiwiX18iLCJfX2V4dGVuZHMiLCJjb21wb25lbnREaWRNb3VudCIsImFjdGl2aXR5IiwiZmluaXNoIiwiZ2V0QWN0aXZpdHlTcGFuIiwicG9wQWN0aXZpdHkiLCJjb21wb25lbnREaWRVcGRhdGUiLCJ1cGRhdGVQcm9wcyIsImluY2x1ZGVVcGRhdGVzIiwiY2hhbmdlZFByb3BzIiwibm93IiwiZGF0YSIsImVuZFRpbWVzdGFtcCIsInN0YXJ0VGltZXN0YW1wIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJpbmNsdWRlUmVuZGVyIiwiaHViIiwic2NvcGUiLCJnZXRTY29wZSIsImdldFRyYW5zYWN0aW9uIiwibm90ZXMiLCJub3RlVG9GcmVxIiwiZnJlcVRvTm90ZSIsImZyZXEiLCJsb2cyIiwiTm90ZSIsIl9mcmVxIiwicm91bmQiLCJvY3RhdmUiLCJmbG9vciIsImRpZmYiLCJNT0RFTF9VUkwiLCJmbGFnIiwic2V0RmxhZyIsImN1cnJlbnRWYWx1ZSIsInNldEN1cnJlbnRWYWx1ZSIsIm1vdW50ZWQiLCJnZW5lcmF0b3IiLCJ0aGVuIiwib25UaWNrIiwiUGl0Y2hSZWNvcmRlciIsInBpdGNoR2VuZXJhdG9yIiwidGltZW91dE1zIiwib25GaW5pc2giLCJzZXRSZWNvcmRpbmciLCJzdGFydGVkIiwic2V0U3RhcnRlZCIsImZpbmlzaGVkIiwic2V0RmluaXNoZWQiLCJjb3VudGRvd24iLCJzZXRDb3VudGRvd24iLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInByZXYiLCJjbGVhckludGVydmFsIiwibGFiZWwiLCJhcyIsImFuaW1hdGlvbiIsInJvbGUiLCJuZXdSZWNvcmRpbmciLCJoYXNSZW5kZXJTcGFuIiwibW91bnRTcGFuIiwiQXVkaW9DdHgiLCJBdWRpb0NvbnRleHQiLCJ3ZWJraXRBdWRpb0NvbnRleHQiLCJhdWRpb0NvbnRleHQiLCJwaXRjaERldGVjdGlvbkdlbmVyYXRvciIsInNldFBpdGNoRGV0ZWN0aW9uR2VuZXJhdG9yIiwic3RyZWFtIiwic2V0U3RyZWFtIiwibG9nZ2VyIiwibmF2aWdhdG9yIiwibWVkaWFEZXZpY2VzIiwiZ2V0VXNlck1lZGlhIiwidmlkZW8iLCJuZXdTdHJlYW0iLCJkZWJ1ZyIsImFjdGl2ZSIsImdldEF1ZGlvVHJhY2tzIiwicmVhZHlTdGF0ZSIsInVzZU1pY3JvcGhvbmUiLCJub2RlIiwiY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UiLCJjdHgiLCJwaXRjaERldGVjdGlvbiIsInJlYWR5IiwiZ2V0UGl0Y2giLCJwaXRjaCIsIm1sNVBpdGNoRGV0ZWN0aW9uIiwicmVzdW1lIiwiZ2V0VHJhY2tzIiwic3RvcCIsInN1c3BlbmQiLCJyZWZlcmVuY2VQaXRjaCIsIlByZXZpZXciLCJSZXN1bHQiLCJkc24iLCJyZWxlYXNlIiwiZW52aXJvbm1lbnQiLCJpbnRlZ3JhdGlvbnMiLCJsZXZlbHMiLCJCcm93c2VyVHJhY2luZyIsImluaXQiLCJnZXRFbGVtZW50QnlJZCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxF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QyxrQkFJNUIsSUFBVUMsS0FBSyxxQkFBc0IsQ0FDbkNMLFFBQVMsWUFFWCxJQUFvQixLQ2xCdEIsU0FBZ0IsZ0JBQUMsR0FBRyxNQUFLaFMsU0FBU3NTLGVBQWUiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAyMCk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0OyIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3RCb290c3RyYXA7IiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJvdXRlckRPTTsiLCJtb2R1bGUuZXhwb3J0cyA9IFByb3BUeXBlczsiLCJtb2R1bGUuZXhwb3J0cyA9IFNlbnRyeTsiLCJtb2R1bGUuZXhwb3J0cyA9IFJlYWN0RE9NOyIsIm1vZHVsZS5leHBvcnRzID0gTG9nUm9ja2V0OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuTGlua0NvbnRhaW5lciA9IHVuZGVmaW5lZDtcblxudmFyIF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIiA/IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH0gOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcHJvcFR5cGVzID0gcmVxdWlyZSgncHJvcC10eXBlcycpO1xuXG52YXIgX3Byb3BUeXBlczIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9wcm9wVHlwZXMpO1xuXG52YXIgX3JlYWN0Um91dGVyRG9tID0gcmVxdWlyZSgncmVhY3Qtcm91dGVyLWRvbScpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMob2JqLCBrZXlzKSB7IHZhciB0YXJnZXQgPSB7fTsgZm9yICh2YXIgaSBpbiBvYmopIHsgaWYgKGtleXMuaW5kZXhPZihpKSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBpKSkgY29udGludWU7IHRhcmdldFtpXSA9IG9ialtpXTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxudmFyIGlzTW9kaWZpZWRFdmVudCA9IGZ1bmN0aW9uIGlzTW9kaWZpZWRFdmVudChldmVudCkge1xuICByZXR1cm4gISEoZXZlbnQubWV0YUtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQuY3RybEtleSB8fCBldmVudC5zaGlmdEtleSk7XG59O1xuXG52YXIgTGlua0NvbnRhaW5lciA9IGV4cG9ydHMuTGlua0NvbnRhaW5lciA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhMaW5rQ29udGFpbmVyLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBMaW5rQ29udGFpbmVyKCkge1xuICAgIHZhciBfdGVtcCwgX3RoaXMsIF9yZXQ7XG5cbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgTGlua0NvbnRhaW5lcik7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IEFycmF5KF9sZW4pLCBfa2V5ID0gMDsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICByZXR1cm4gX3JldCA9IChfdGVtcCA9IChfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9Db21wb25lbnQuY2FsbC5hcHBseShfQ29tcG9uZW50LCBbdGhpc10uY29uY2F0KGFyZ3MpKSksIF90aGlzKSwgX3RoaXMuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuID0gX3RoaXMkcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgb25DbGljayA9IF90aGlzJHByb3BzLm9uQ2xpY2s7XG5cblxuICAgICAgaWYgKGNoaWxkcmVuLnByb3BzLm9uQ2xpY2spIHtcbiAgICAgICAgY2hpbGRyZW4ucHJvcHMub25DbGljayhldmVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvbkNsaWNrKSB7XG4gICAgICAgIG9uQ2xpY2soZXZlbnQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgJiYgLy8gb25DbGljayBwcmV2ZW50ZWQgZGVmYXVsdFxuICAgICAgZXZlbnQuYnV0dG9uID09PSAwICYmIC8vIGlnbm9yZSByaWdodCBjbGlja3NcbiAgICAgICFpc01vZGlmaWVkRXZlbnQoZXZlbnQpIC8vIGlnbm9yZSBjbGlja3Mgd2l0aCBtb2RpZmllciBrZXlzXG4gICAgICApIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICByZXBsYWNlID0gX3RoaXMkcHJvcHMyLnJlcGxhY2UsXG4gICAgICAgICAgICAgIHRvID0gX3RoaXMkcHJvcHMyLnRvLFxuICAgICAgICAgICAgICBoaXN0b3J5ID0gX3RoaXMkcHJvcHMyLmhpc3Rvcnk7XG5cblxuICAgICAgICAgIGlmIChyZXBsYWNlKSB7XG4gICAgICAgICAgICBoaXN0b3J5LnJlcGxhY2UodG8pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoaXN0b3J5LnB1c2godG8pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIF90ZW1wKSwgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oX3RoaXMsIF9yZXQpO1xuICB9XG5cbiAgTGlua0NvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGhpc3RvcnkgPSBfcHJvcHMuaGlzdG9yeSxcbiAgICAgICAgX2xvY2F0aW9uID0gX3Byb3BzLmxvY2F0aW9uLFxuICAgICAgICBfbWF0Y2ggPSBfcHJvcHMubWF0Y2gsXG4gICAgICAgIF9zdGF0aWNDb250ZXh0ID0gX3Byb3BzLnN0YXRpY0NvbnRleHQsXG4gICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICByZXBsYWNlID0gX3Byb3BzLnJlcGxhY2UsXG4gICAgICAgIHRvID0gX3Byb3BzLnRvLFxuICAgICAgICBleGFjdCA9IF9wcm9wcy5leGFjdCxcbiAgICAgICAgc3RyaWN0ID0gX3Byb3BzLnN0cmljdCxcbiAgICAgICAgYWN0aXZlQ2xhc3NOYW1lID0gX3Byb3BzLmFjdGl2ZUNsYXNzTmFtZSxcbiAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgYWN0aXZlU3R5bGUgPSBfcHJvcHMuYWN0aXZlU3R5bGUsXG4gICAgICAgIHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICBnZXRJc0FjdGl2ZSA9IF9wcm9wcy5pc0FjdGl2ZSxcbiAgICAgICAgcHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbJ2hpc3RvcnknLCAnbG9jYXRpb24nLCAnbWF0Y2gnLCAnc3RhdGljQ29udGV4dCcsICdjaGlsZHJlbicsICdyZXBsYWNlJywgJ3RvJywgJ2V4YWN0JywgJ3N0cmljdCcsICdhY3RpdmVDbGFzc05hbWUnLCAnY2xhc3NOYW1lJywgJ2FjdGl2ZVN0eWxlJywgJ3N0eWxlJywgJ2lzQWN0aXZlJ10pO1xuXG4gICAgdmFyIGhyZWYgPSBoaXN0b3J5LmNyZWF0ZUhyZWYodHlwZW9mIHRvID09PSAnc3RyaW5nJyA/IHsgcGF0aG5hbWU6IHRvIH0gOiB0byk7XG5cbiAgICB2YXIgY2hpbGQgPSBfcmVhY3QyLmRlZmF1bHQuQ2hpbGRyZW4ub25seShjaGlsZHJlbik7XG5cbiAgICByZXR1cm4gX3JlYWN0Mi5kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoX3JlYWN0Um91dGVyRG9tLlJvdXRlLCB7XG4gICAgICBwYXRoOiAodHlwZW9mIHRvID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih0bykpID09PSAnb2JqZWN0JyA/IHRvLnBhdGhuYW1lIDogdG8sXG4gICAgICBleGFjdDogZXhhY3QsXG4gICAgICBzdHJpY3Q6IHN0cmljdCxcbiAgICAgIGNoaWxkcmVuOiBmdW5jdGlvbiBjaGlsZHJlbihfcmVmKSB7XG4gICAgICAgIHZhciBsb2NhdGlvbiA9IF9yZWYubG9jYXRpb24sXG4gICAgICAgICAgICBtYXRjaCA9IF9yZWYubWF0Y2g7XG5cbiAgICAgICAgdmFyIGlzQWN0aXZlID0gISEoZ2V0SXNBY3RpdmUgPyBnZXRJc0FjdGl2ZShtYXRjaCwgbG9jYXRpb24pIDogbWF0Y2gpO1xuXG4gICAgICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY2xvbmVFbGVtZW50KGNoaWxkLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFtjbGFzc05hbWUsIGNoaWxkLnByb3BzLmNsYXNzTmFtZSwgaXNBY3RpdmUgPyBhY3RpdmVDbGFzc05hbWUgOiBudWxsXS5qb2luKCcgJykudHJpbSgpLFxuICAgICAgICAgIHN0eWxlOiBpc0FjdGl2ZSA/IF9leHRlbmRzKHt9LCBzdHlsZSwgYWN0aXZlU3R5bGUpIDogc3R5bGUsXG4gICAgICAgICAgaHJlZjogaHJlZixcbiAgICAgICAgICBvbkNsaWNrOiBfdGhpczIuaGFuZGxlQ2xpY2tcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBMaW5rQ29udGFpbmVyO1xufShfcmVhY3QuQ29tcG9uZW50KTtcblxuTGlua0NvbnRhaW5lci5wcm9wVHlwZXMgPSB7XG4gIGhpc3Rvcnk6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc2hhcGUoe1xuICAgIHB1c2g6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICAgIHJlcGxhY2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkLFxuICAgIGNyZWF0ZUhyZWY6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYy5pc1JlcXVpcmVkXG4gIH0pLmlzUmVxdWlyZWQsXG4gIGxvY2F0aW9uOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgbWF0Y2g6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBzdGF0aWNDb250ZXh0OiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgY2hpbGRyZW46IF9wcm9wVHlwZXMyLmRlZmF1bHQuZWxlbWVudC5pc1JlcXVpcmVkLFxuICBvbkNsaWNrOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmMsXG4gIHJlcGxhY2U6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgdG86IF9wcm9wVHlwZXMyLmRlZmF1bHQub25lT2ZUeXBlKFtfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZywgX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3RdKS5pc1JlcXVpcmVkLFxuICBleGFjdDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBzdHJpY3Q6IF9wcm9wVHlwZXMyLmRlZmF1bHQuYm9vbCxcbiAgY2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgYWN0aXZlQ2xhc3NOYW1lOiBfcHJvcFR5cGVzMi5kZWZhdWx0LnN0cmluZyxcbiAgc3R5bGU6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBhY3RpdmVTdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGlzQWN0aXZlOiBfcHJvcFR5cGVzMi5kZWZhdWx0LmZ1bmNcbn07XG5MaW5rQ29udGFpbmVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgcmVwbGFjZTogZmFsc2UsXG4gIGV4YWN0OiBmYWxzZSxcbiAgc3RyaWN0OiBmYWxzZSxcbiAgYWN0aXZlQ2xhc3NOYW1lOiAnYWN0aXZlJ1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSb3V0ZXJEb20ud2l0aFJvdXRlcikoTGlua0NvbnRhaW5lcik7IiwibW9kdWxlLmV4cG9ydHMgPSBTZW50cnkuSW50ZWdyYXRpb25zOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNldHVwUmVhY3Q7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSA9IHZvaWQgMDtcbi8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvdjE2LjUuMS9wYWNrYWdlcy9yZWFjdC1kb20vc3JjL2NsaWVudC9SZWFjdERPTS5qcyNMNzUwXG52YXIgc2VjcmV0ID0gX3JlYWN0RG9tLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEO1xuaWYgKHNlY3JldCAmJiBzZWNyZXQuRXZlbnRzICYmIHNlY3JldC5FdmVudHNbM10pIHtcbiAgaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lID0gc2VjcmV0LkV2ZW50c1szXTtcbn0gZWxzZSB7XG4gIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSA9IGZ1bmN0aW9uIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSgpIHtcbiAgICBjb25zb2xlLndhcm4oJ2xvZ3JvY2tldC1yZWFjdCBkb2VzIG5vdCB3b3JrIHdpdGggdGhpcyB2ZXJzaW9uIG9mIFJlYWN0Jyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNldHVwUmVhY3QoKSB7XG4gIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSh7XG4gICAgUmVzcG9uZGVyRXZlbnRQbHVnaW46IHtcbiAgICAgIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uIGxvZ1JvY2tldFJlYWN0RXZlbnRIb29rKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgZmliZXJOb2RlLCBuYXRpdmVFdmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0b3BMZXZlbFR5cGUgIT09ICdjbGljaycgfHwgIWZpYmVyTm9kZSB8fCAhbmF0aXZlRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgY3VycmVudEVsZW1lbnQgPSBmaWJlck5vZGU7XG5cbiAgICAgICAgICB2YXIgbmFtZXMgPSBbXTtcbiAgICAgICAgICB3aGlsZSAoY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdHlwZW9mIGN1cnJlbnRFbGVtZW50LmVsZW1lbnRUeXBlID09PSAnZnVuY3Rpb24nICYmIGN1cnJlbnRFbGVtZW50LmVsZW1lbnRUeXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgbmFtZXMucHVzaChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY3VycmVudEVsZW1lbnQucmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICBuYXRpdmVFdmVudC5fX2xyTmFtZSA9IG5hbWVzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2xvZ3JvY2tldC1yZWFjdCBjYXVnaHQgYW4gZXJyb3Igd2hpbGUgaG9va2luZyBpbnRvIFJlYWN0LiBQbGVhc2UgbWFrZSBzdXJlIHlvdSBhcmUgdXNpbmcgdGhlIGNvcnJlY3QgdmVyc2lvbiBvZiBsb2dyb2NrZXQtcmVhY3QgZm9yIHlvdXIgdmVyc2lvbiBvZiByZWFjdC1kb20uJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5MaW5rQ29udGFpbmVyID0gZXhwb3J0cy5JbmRleExpbmtDb250YWluZXIgPSB1bmRlZmluZWQ7XG5cbnZhciBfSW5kZXhMaW5rQ29udGFpbmVyMiA9IHJlcXVpcmUoJy4vSW5kZXhMaW5rQ29udGFpbmVyJyk7XG5cbnZhciBfSW5kZXhMaW5rQ29udGFpbmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0luZGV4TGlua0NvbnRhaW5lcjIpO1xuXG52YXIgX0xpbmtDb250YWluZXIyID0gcmVxdWlyZSgnLi9MaW5rQ29udGFpbmVyJyk7XG5cbnZhciBfTGlua0NvbnRhaW5lcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaW5rQ29udGFpbmVyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuSW5kZXhMaW5rQ29udGFpbmVyID0gX0luZGV4TGlua0NvbnRhaW5lcjMuZGVmYXVsdDtcbmV4cG9ydHMuTGlua0NvbnRhaW5lciA9IF9MaW5rQ29udGFpbmVyMy5kZWZhdWx0OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlYWN0SXMgPSByZXF1aXJlKCdyZWFjdC1pcycpO1xuXG4vKipcbiAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuICovXG52YXIgUkVBQ1RfU1RBVElDUyA9IHtcbiAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG4gIGNvbnRleHRUeXBlOiB0cnVlLFxuICBjb250ZXh0VHlwZXM6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiB0cnVlLFxuICBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM6IHRydWUsXG4gIG1peGluczogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlXG59O1xudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gIG5hbWU6IHRydWUsXG4gIGxlbmd0aDogdHJ1ZSxcbiAgcHJvdG90eXBlOiB0cnVlLFxuICBjYWxsZXI6IHRydWUsXG4gIGNhbGxlZTogdHJ1ZSxcbiAgYXJndW1lbnRzOiB0cnVlLFxuICBhcml0eTogdHJ1ZVxufTtcbnZhciBGT1JXQVJEX1JFRl9TVEFUSUNTID0ge1xuICAnJCR0eXBlb2YnOiB0cnVlLFxuICByZW5kZXI6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZVxufTtcbnZhciBNRU1PX1NUQVRJQ1MgPSB7XG4gICckJHR5cGVvZic6IHRydWUsXG4gIGNvbXBhcmU6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZSxcbiAgdHlwZTogdHJ1ZVxufTtcbnZhciBUWVBFX1NUQVRJQ1MgPSB7fTtcblRZUEVfU1RBVElDU1tyZWFjdElzLkZvcndhcmRSZWZdID0gRk9SV0FSRF9SRUZfU1RBVElDUztcblRZUEVfU1RBVElDU1tyZWFjdElzLk1lbW9dID0gTUVNT19TVEFUSUNTO1xuXG5mdW5jdGlvbiBnZXRTdGF0aWNzKGNvbXBvbmVudCkge1xuICAvLyBSZWFjdCB2MTYuMTEgYW5kIGJlbG93XG4gIGlmIChyZWFjdElzLmlzTWVtbyhjb21wb25lbnQpKSB7XG4gICAgcmV0dXJuIE1FTU9fU1RBVElDUztcbiAgfSAvLyBSZWFjdCB2MTYuMTIgYW5kIGFib3ZlXG5cblxuICByZXR1cm4gVFlQRV9TVEFUSUNTW2NvbXBvbmVudFsnJCR0eXBlb2YnXV0gfHwgUkVBQ1RfU1RBVElDUztcbn1cblxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG52YXIgb2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbmZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50LCBibGFja2xpc3QpIHtcbiAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgaG9pc3Qgb3ZlciBzdHJpbmcgKGh0bWwpIGNvbXBvbmVudHNcbiAgICBpZiAob2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICB2YXIgaW5oZXJpdGVkQ29tcG9uZW50ID0gZ2V0UHJvdG90eXBlT2Yoc291cmNlQ29tcG9uZW50KTtcblxuICAgICAgaWYgKGluaGVyaXRlZENvbXBvbmVudCAmJiBpbmhlcml0ZWRDb21wb25lbnQgIT09IG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgICBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIGluaGVyaXRlZENvbXBvbmVudCwgYmxhY2tsaXN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcblxuICAgIGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlQ29tcG9uZW50KSk7XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldFN0YXRpY3MgPSBnZXRTdGF0aWNzKHRhcmdldENvbXBvbmVudCk7XG4gICAgdmFyIHNvdXJjZVN0YXRpY3MgPSBnZXRTdGF0aWNzKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgICBpZiAoIUtOT1dOX1NUQVRJQ1Nba2V5XSAmJiAhKGJsYWNrbGlzdCAmJiBibGFja2xpc3Rba2V5XSkgJiYgIShzb3VyY2VTdGF0aWNzICYmIHNvdXJjZVN0YXRpY3Nba2V5XSkgJiYgISh0YXJnZXRTdGF0aWNzICYmIHRhcmdldFN0YXRpY3Nba2V5XSkpIHtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlQ29tcG9uZW50LCBrZXkpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQXZvaWQgZmFpbHVyZXMgZnJvbSByZWFkLW9ubHkgcHJvcGVydGllc1xuICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhvaXN0Tm9uUmVhY3RTdGF0aWNzO1xuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9BcHAuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuSW5kZXhMaW5rQ29udGFpbmVyID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXItZG9tJyk7XG5cbnZhciBfTGlua0NvbnRhaW5lciA9IHJlcXVpcmUoJy4vTGlua0NvbnRhaW5lcicpO1xuXG52YXIgX0xpbmtDb250YWluZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlua0NvbnRhaW5lcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLy8gRG9uJ3QgdXNlIGEgc3RhdGVsZXNzIGZ1bmN0aW9uLCB0byBhbGxvdyB1c2VycyB0byBzZXQgYSByZWYuXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcmVmZXItc3RhdGVsZXNzLWZ1bmN0aW9uICovXG52YXIgSW5kZXhMaW5rQ29udGFpbmVyID0gZXhwb3J0cy5JbmRleExpbmtDb250YWluZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoSW5kZXhMaW5rQ29udGFpbmVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBJbmRleExpbmtDb250YWluZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluZGV4TGlua0NvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIEluZGV4TGlua0NvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTGlua0NvbnRhaW5lcjIuZGVmYXVsdCwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgZXhhY3Q6IHRydWUgfSkpO1xuICB9O1xuXG4gIHJldHVybiBJbmRleExpbmtDb250YWluZXI7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuLyogZXNsaW50LWVuYWJsZSByZWFjdC9wcmVmZXItc3RhdGVsZXNzLWZ1bmN0aW9uICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSb3V0ZXJEb20ud2l0aFJvdXRlcikoSW5kZXhMaW5rQ29udGFpbmVyKTsiLCJtb2R1bGUuZXhwb3J0cyA9IG1sNTsiLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMTMuMVxuICogcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7dmFyIGI9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvcixjPWI/U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIik6NjAxMDMsZD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIik6NjAxMDYsZT1iP1N5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKTo2MDEwNyxmPWI/U3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpOjYwMTA4LGc9Yj9TeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik6NjAxMTQsaD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTo2MDEwOSxrPWI/U3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIik6NjAxMTAsbD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5hc3luY19tb2RlXCIpOjYwMTExLG09Yj9TeW1ib2wuZm9yKFwicmVhY3QuY29uY3VycmVudF9tb2RlXCIpOjYwMTExLG49Yj9TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIik6NjAxMTIscD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyxxPWI/XG5TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKTo2MDEyMCxyPWI/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsdD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LHY9Yj9TeW1ib2wuZm9yKFwicmVhY3QuYmxvY2tcIik6NjAxMjEsdz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5mdW5kYW1lbnRhbFwiKTo2MDExNyx4PWI/U3ltYm9sLmZvcihcInJlYWN0LnJlc3BvbmRlclwiKTo2MDExOCx5PWI/U3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpOjYwMTE5O1xuZnVuY3Rpb24geihhKXtpZihcIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hKXt2YXIgdT1hLiQkdHlwZW9mO3N3aXRjaCh1KXtjYXNlIGM6c3dpdGNoKGE9YS50eXBlLGEpe2Nhc2UgbDpjYXNlIG06Y2FzZSBlOmNhc2UgZzpjYXNlIGY6Y2FzZSBwOnJldHVybiBhO2RlZmF1bHQ6c3dpdGNoKGE9YSYmYS4kJHR5cGVvZixhKXtjYXNlIGs6Y2FzZSBuOmNhc2UgdDpjYXNlIHI6Y2FzZSBoOnJldHVybiBhO2RlZmF1bHQ6cmV0dXJuIHV9fWNhc2UgZDpyZXR1cm4gdX19fWZ1bmN0aW9uIEEoYSl7cmV0dXJuIHooYSk9PT1tfWV4cG9ydHMuQXN5bmNNb2RlPWw7ZXhwb3J0cy5Db25jdXJyZW50TW9kZT1tO2V4cG9ydHMuQ29udGV4dENvbnN1bWVyPWs7ZXhwb3J0cy5Db250ZXh0UHJvdmlkZXI9aDtleHBvcnRzLkVsZW1lbnQ9YztleHBvcnRzLkZvcndhcmRSZWY9bjtleHBvcnRzLkZyYWdtZW50PWU7ZXhwb3J0cy5MYXp5PXQ7ZXhwb3J0cy5NZW1vPXI7ZXhwb3J0cy5Qb3J0YWw9ZDtcbmV4cG9ydHMuUHJvZmlsZXI9ZztleHBvcnRzLlN0cmljdE1vZGU9ZjtleHBvcnRzLlN1c3BlbnNlPXA7ZXhwb3J0cy5pc0FzeW5jTW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gQShhKXx8eihhKT09PWx9O2V4cG9ydHMuaXNDb25jdXJyZW50TW9kZT1BO2V4cG9ydHMuaXNDb250ZXh0Q29uc3VtZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1rfTtleHBvcnRzLmlzQ29udGV4dFByb3ZpZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09aH07ZXhwb3J0cy5pc0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmYS4kJHR5cGVvZj09PWN9O2V4cG9ydHMuaXNGb3J3YXJkUmVmPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09bn07ZXhwb3J0cy5pc0ZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09ZX07ZXhwb3J0cy5pc0xhenk9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT10fTtcbmV4cG9ydHMuaXNNZW1vPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09cn07ZXhwb3J0cy5pc1BvcnRhbD1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWR9O2V4cG9ydHMuaXNQcm9maWxlcj1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWd9O2V4cG9ydHMuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09Zn07ZXhwb3J0cy5pc1N1c3BlbnNlPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09cH07XG5leHBvcnRzLmlzVmFsaWRFbGVtZW50VHlwZT1mdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhfHxhPT09ZXx8YT09PW18fGE9PT1nfHxhPT09Znx8YT09PXB8fGE9PT1xfHxcIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiYoYS4kJHR5cGVvZj09PXR8fGEuJCR0eXBlb2Y9PT1yfHxhLiQkdHlwZW9mPT09aHx8YS4kJHR5cGVvZj09PWt8fGEuJCR0eXBlb2Y9PT1ufHxhLiQkdHlwZW9mPT09d3x8YS4kJHR5cGVvZj09PXh8fGEuJCR0eXBlb2Y9PT15fHxhLiQkdHlwZW9mPT09dil9O2V4cG9ydHMudHlwZU9mPXo7XG4iLCJmdW5jdGlvbiB0b1ZhbChtaXgpIHtcblx0dmFyIGssIHksIHN0cj0nJztcblxuXHRpZiAodHlwZW9mIG1peCA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIG1peCA9PT0gJ251bWJlcicpIHtcblx0XHRzdHIgKz0gbWl4O1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBtaXggPT09ICdvYmplY3QnKSB7XG5cdFx0aWYgKEFycmF5LmlzQXJyYXkobWl4KSkge1xuXHRcdFx0Zm9yIChrPTA7IGsgPCBtaXgubGVuZ3RoOyBrKyspIHtcblx0XHRcdFx0aWYgKG1peFtrXSkge1xuXHRcdFx0XHRcdGlmICh5ID0gdG9WYWwobWl4W2tdKSkge1xuXHRcdFx0XHRcdFx0c3RyICYmIChzdHIgKz0gJyAnKTtcblx0XHRcdFx0XHRcdHN0ciArPSB5O1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKGsgaW4gbWl4KSB7XG5cdFx0XHRcdGlmIChtaXhba10pIHtcblx0XHRcdFx0XHRzdHIgJiYgKHN0ciArPSAnICcpO1xuXHRcdFx0XHRcdHN0ciArPSBrO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0cmV0dXJuIHN0cjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCkge1xuXHR2YXIgaT0wLCB0bXAsIHgsIHN0cj0nJztcblx0d2hpbGUgKGkgPCBhcmd1bWVudHMubGVuZ3RoKSB7XG5cdFx0aWYgKHRtcCA9IGFyZ3VtZW50c1tpKytdKSB7XG5cdFx0XHRpZiAoeCA9IHRvVmFsKHRtcCkpIHtcblx0XHRcdFx0c3RyICYmIChzdHIgKz0gJyAnKTtcblx0XHRcdFx0c3RyICs9IHhcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHN0cjtcbn1cbiIsImV4cG9ydCBkZWZhdWx0ICgpID0+IGNvbnNvbGU7XG5leHBvcnQgZnVuY3Rpb24gdXNlTG9nZ2VyKCkge1xuICByZXR1cm4gY29uc29sZTtcbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJyZWFjdC1ib290c3RyYXBcIjtcbmltcG9ydCB7IExpbmsgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuXG5pbXBvcnQgeyB1c2VMb2dnZXIgfSBmcm9tIFwibG9nXCI7XG5cbnR5cGUgSGVsbG9Qcm9wcyA9IHtcbiAgbmV4dDogc3RyaW5nO1xufTtcblxuY29uc3QgSGVsbG8gPSAoeyBuZXh0IH06IEhlbGxvUHJvcHMpID0+IHtcbiAgY29uc3QgTE9HID0gdXNlTG9nZ2VyKCk7XG4gIExPRy5pbmZvKFwiW1dpZGdldF0gSGVsbG9cIik7XG5cbiAgcmV0dXJuIChcbiAgICA8TGluayB0bz17bmV4dH0+XG4gICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lLXByaW1hcnlcIiBzaXplPVwibGdcIj5cbiAgICAgICAgc3RhcnRcbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvTGluaz5cbiAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBIZWxsbztcbiIsImV4cG9ydCBkZWZhdWx0IF9fd2VicGFja19wdWJsaWNfcGF0aF9fICsgXCIzOTQxYTFlYWI0MDI3NjI0MzMzMmRmNjc2ZTA2YTAxMy5vZ2dcIjsiLCJpbXBvcnQgUmVhY3QsIHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuXG5pbXBvcnQgZ2V0TG9nZ2VyIGZyb20gXCJsb2dcIjtcblxuaW1wb3J0IHNhbXBsZSBmcm9tIFwiYXVkaW8vYzQub2dnXCI7XG5cbmNvbnN0IGxvZ2dlciA9IGdldExvZ2dlcigpO1xuXG5jb25zdCBwbGF5ID0gKG9uRW5kOiAoKSA9PiB2b2lkKSA9PiB7XG4gIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKHNhbXBsZSk7XG4gIGF1ZGlvLm9uZW5kZWQgPSBvbkVuZDtcbiAgYXVkaW8ucGxheSgpO1xufTtcblxuY29uc3QgUGxheWVyID0gKCkgPT4ge1xuICBsb2dnZXIuaW5mbyhcIltXaWRnZXRdIFBsYXllclwiKTtcbiAgY29uc3QgW2lzUGxheWluZywgc2V0SXNQbGF5aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxvZ2dlci5pbmZvKFwiQ2hhbmdlZCBwbGF5aW5nOiAlc1wiLCBpc1BsYXlpbmcpO1xuICB9LCBbaXNQbGF5aW5nXSk7XG5cbiAgY29uc3QgbWVzc2FnZSA9IGlzUGxheWluZyA/IFwicGxheWluZy4uLlwiIDogXCJwbGF5IHJlZmVyZW5jZVwiO1xuXG4gIHJldHVybiAoXG4gICAgPEJ1dHRvblxuICAgICAgdmFyaWFudD1cIm91dGxpbmUtcHJpbWFyeVwiXG4gICAgICBzaXplPVwibGdcIlxuICAgICAgZGlzYWJsZWQ9e2lzUGxheWluZ31cbiAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgc2V0SXNQbGF5aW5nKHRydWUpO1xuICAgICAgICBwbGF5KCgpID0+IHNldElzUGxheWluZyhmYWxzZSkpO1xuICAgICAgfX1cbiAgICA+XG4gICAgICB7bWVzc2FnZX1cbiAgICA8L0J1dHRvbj5cbiAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBQbGF5ZXI7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCdXR0b24sIEJ1dHRvbkdyb3VwIH0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuaW1wb3J0IHsgTGlua0NvbnRhaW5lciB9IGZyb20gXCJyZWFjdC1yb3V0ZXItYm9vdHN0cmFwXCI7XG5pbXBvcnQgUGxheWVyIGZyb20gXCIuLi9jb21wb25lbnRzL1BsYXllclwiO1xuXG50eXBlIFByZXZpZXdQcm9wcyA9IHtcbiAgbmV4dDogc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgKHsgbmV4dCB9OiBQcmV2aWV3UHJvcHMpID0+IChcbiAgPEJ1dHRvbkdyb3VwPlxuICAgIDxQbGF5ZXIgLz5cblxuICAgIDxMaW5rQ29udGFpbmVyIHRvPXtuZXh0fT5cbiAgICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmUtcHJpbWFyeVwiIHNpemU9XCJsZ1wiPlxuICAgICAgICBzdGFydFxuICAgICAgPC9CdXR0b24+XG4gICAgPC9MaW5rQ29udGFpbmVyPlxuICA8L0J1dHRvbkdyb3VwPlxuKTtcbiIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbnZhciBTdGFyRmlsbCA9IGZvcndhcmRSZWYoZnVuY3Rpb24gKF9yZWYsIHJlZikge1xuICB2YXIgY29sb3IgPSBfcmVmLmNvbG9yLFxuICAgICAgc2l6ZSA9IF9yZWYuc2l6ZSxcbiAgICAgIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3JlZiwgW1wiY29sb3JcIiwgXCJzaXplXCJdKTtcblxuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfZXh0ZW5kcyh7XG4gICAgcmVmOiByZWYsXG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICB2aWV3Qm94OiBcIjAgMCAxNiAxNlwiLFxuICAgIHdpZHRoOiBzaXplLFxuICAgIGhlaWdodDogc2l6ZSxcbiAgICBmaWxsOiBjb2xvclxuICB9LCByZXN0KSwgUmVhY3QuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTMuNjEyIDE1LjQ0M2MtLjM4Ni4xOTgtLjgyNC0uMTQ5LS43NDYtLjU5MmwuODMtNC43M0wuMTczIDYuNzY1Yy0uMzI5LS4zMTQtLjE1OC0uODg4LjI4My0uOTVsNC44OTgtLjY5Nkw3LjUzOC43OTJjLjE5Ny0uMzkuNzMtLjM5LjkyNyAwbDIuMTg0IDQuMzI3IDQuODk4LjY5NmMuNDQxLjA2Mi42MTIuNjM2LjI4My45NWwtMy41MjMgMy4zNTYuODMgNC43M2MuMDc4LjQ0My0uMzYuNzktLjc0Ni41OTJMOCAxMy4xODdsLTQuMzg5IDIuMjU2elwiXG4gIH0pKTtcbn0pO1xuU3RhckZpbGwucHJvcFR5cGVzID0ge1xuICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pXG59O1xuU3RhckZpbGwuZGVmYXVsdFByb3BzID0ge1xuICBjb2xvcjogJ2N1cnJlbnRDb2xvcicsXG4gIHNpemU6ICcxZW0nXG59O1xuZXhwb3J0IGRlZmF1bHQgU3RhckZpbGw7IiwiZnVuY3Rpb24gX2V4dGVuZHMoKSB7IF9leHRlbmRzID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiAodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07IGZvciAodmFyIGtleSBpbiBzb3VyY2UpIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IH0gcmV0dXJuIHRhcmdldDsgfTsgcmV0dXJuIF9leHRlbmRzLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSB7fTsgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpOyB2YXIga2V5LCBpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuaW1wb3J0IFJlYWN0LCB7IGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xudmFyIFN0YXIgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIHNpemUgPSBfcmVmLnNpemUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcImNvbG9yXCIsIFwic2l6ZVwiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICB3aWR0aDogc2l6ZSxcbiAgICBoZWlnaHQ6IHNpemUsXG4gICAgZmlsbDogY29sb3JcbiAgfSwgcmVzdCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgZDogXCJNMi44NjYgMTQuODVjLS4wNzguNDQ0LjM2Ljc5MS43NDYuNTkzbDQuMzktMi4yNTYgNC4zODkgMi4yNTZjLjM4Ni4xOTguODI0LS4xNDkuNzQ2LS41OTJsLS44My00LjczIDMuNTIzLTMuMzU2Yy4zMjktLjMxNC4xNTgtLjg4OC0uMjgzLS45NWwtNC44OTgtLjY5Nkw4LjQ2NS43OTJhLjUxMy41MTMgMCAwIDAtLjkyNyAwTDUuMzU0IDUuMTJsLTQuODk4LjY5NmMtLjQ0MS4wNjItLjYxMi42MzYtLjI4My45NWwzLjUyMyAzLjM1Ni0uODMgNC43M3ptNC45MDUtMi43NjdsLTMuNjg2IDEuODk0LjY5NC0zLjk1N2EuNTY1LjU2NSAwIDAgMC0uMTYzLS41MDVMMS43MSA2Ljc0NWw0LjA1Mi0uNTc2YS41MjUuNTI1IDAgMCAwIC4zOTMtLjI4OGwxLjg0Ny0zLjY1OCAxLjg0NiAzLjY1OGEuNTI1LjUyNSAwIDAgMCAuMzkzLjI4OGw0LjA1Mi41NzUtMi45MDYgMi43N2EuNTY0LjU2NCAwIDAgMC0uMTYzLjUwNmwuNjk0IDMuOTU3LTMuNjg2LTEuODk0YS41MDMuNTAzIDAgMCAwLS40NjEgMHpcIlxuICB9KSk7XG59KTtcblN0YXIucHJvcFR5cGVzID0ge1xuICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pXG59O1xuU3Rhci5kZWZhdWx0UHJvcHMgPSB7XG4gIGNvbG9yOiAnY3VycmVudENvbG9yJyxcbiAgc2l6ZTogJzFlbSdcbn07XG5leHBvcnQgZGVmYXVsdCBTdGFyOyIsImltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEFsZXJ0LCBDb250YWluZXIsIFJvdywgQ29sIH0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuaW1wb3J0IHsgU3RhciwgU3RhckZpbGwgfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwLWljb25zXCI7XG5cbmltcG9ydCB7IFNhbXBsZSwgUmVjb3JkaW5nIH0gZnJvbSBcInBpdGNoL3BpdGNoXCI7XG5pbXBvcnQgeyBQaXRjaCB9IGZyb20gXCJwaXRjaC9ub3Rlc1wiO1xuaW1wb3J0IGNsc3ggZnJvbSBcImNsc3hcIjtcblxudHlwZSBSYXRpbmdQcm9wcyA9IHtcbiAgbm86IG51bWJlcjtcbiAgb2Y6IG51bWJlcjtcbn07XG5mdW5jdGlvbiBSYXRpbmcoeyBubywgb2YgfTogUmF0aW5nUHJvcHMpIHtcbiAgY29uc3Qgc3RhcnMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBvZjsgaSArPSAxKSB7XG4gICAgc3RhcnMucHVzaChpIDw9IG5vID8gPFN0YXJGaWxsIGtleT17aX0gLz4gOiA8U3RhciBrZXk9e2l9IC8+KTtcbiAgfVxuXG4gIHJldHVybiA8ZGl2IGNsYXNzTmFtZT17Y2xzeChcInRleHQtcHJpbWFyeVwiLCBcImRpc3BsYXktM1wiKX0+e3N0YXJzfTwvZGl2Pjtcbn1cblxuZXhwb3J0IHR5cGUgU3VtbWFyeVByb3BzID0ge1xuICByZWNvcmRpbmc6IFJlY29yZGluZztcbiAgcmVmZXJlbmNlOiBQaXRjaDtcbn07XG5cbmNvbnN0IHN1bSA9IChhOiBudW1iZXIsIGI6IG51bWJlcikgPT4gYSArIGI7XG5leHBvcnQgZGVmYXVsdCAoeyByZWNvcmRpbmcsIHJlZmVyZW5jZSB9OiBTdW1tYXJ5UHJvcHMpID0+IHtcbiAgY29uc3Qgbm9uRW1wdHkgPSByZWNvcmRpbmcuZmlsdGVyKChzPzogU2FtcGxlKSA9PiAhIXMpO1xuICBjb25zdCBmcmVxUmVzdWx0ID1cbiAgICBub25FbXB0eVxuICAgICAgLm1hcCgoczogU2FtcGxlKSA9PiBzIS5mcmVxdWVuY3kgLSByZWZlcmVuY2UuZnJlcXVlbmN5KVxuICAgICAgLnJlZHVjZShzdW0sIDApIC8gbm9uRW1wdHkubGVuZ3RoO1xuXG4gIGNvbnN0IG1pZGlSZXN1bHQgPVxuICAgIG5vbkVtcHR5XG4gICAgICAubWFwKChzOiBTYW1wbGUpID0+IE1hdGguYWJzKHMhLm5vdGUgLSByZWZlcmVuY2Uubm90ZSkpXG4gICAgICAucmVkdWNlKHN1bSwgMCkgLyBub25FbXB0eS5sZW5ndGg7XG5cbiAgbGV0IHN0YXJDb3VudDogbnVtYmVyO1xuICBpZiAobWlkaVJlc3VsdCA8PSAwLjUpIHtcbiAgICBzdGFyQ291bnQgPSA1O1xuICB9IGVsc2UgaWYgKG1pZGlSZXN1bHQgPD0gMSkge1xuICAgIC8vIHdpdGhpbiBoYWxmIHN0ZXBcbiAgICBzdGFyQ291bnQgPSA0O1xuICB9IGVsc2UgaWYgKG1pZGlSZXN1bHQgPD0gMikge1xuICAgIC8vIHdpdGhpbiB3aG9sZSBzdGVwXG4gICAgc3RhckNvdW50ID0gMztcbiAgfSBlbHNlIGlmIChtaWRpUmVzdWx0IDw9IDQpIHtcbiAgICAvLyB3aXRoaW4gdGhpcmRcbiAgICBzdGFyQ291bnQgPSAyO1xuICB9IGVsc2UgaWYgKG1pZGlSZXN1bHQgPD0gNykge1xuICAgIC8vIHdpdGhpbm4gZmlmdGhcbiAgICBzdGFyQ291bnQgPSAxO1xuICB9IGVsc2Uge1xuICAgIC8vIHlvdSBzdWNrXG4gICAgc3RhckNvdW50ID0gMDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lcj5cbiAgICAgIDxSb3c+XG4gICAgICAgIDxDb2wgY2xhc3NOYW1lPVwicGItM1wiPlxuICAgICAgICAgIDxSYXRpbmcgbm89e3N0YXJDb3VudH0gb2Y9ezV9IC8+XG4gICAgICAgIDwvQ29sPlxuICAgICAgPC9Sb3c+XG5cbiAgICAgIDxSb3c+XG4gICAgICAgIDxDb2wgY2xhc3NOYW1lPXtjbHN4KFwiY29sLW1kLTZcIiwgXCJvZmZzZXQtbWQtM1wiKX0+XG4gICAgICAgICAgPEFsZXJ0IHZhcmlhbnQ9XCJzdWNjZXNzXCI+XG4gICAgICAgICAgICBSZWNlaXZlZCB7bm9uRW1wdHkubGVuZ3RofSBzYW1wbGUocykgYXZlcmFnaW5nIHRvIHtmcmVxUmVzdWx0fSBmcm9tXG4gICAgICAgICAgICBDPHN1Yj40PC9zdWI+LlxuICAgICAgICAgIDwvQWxlcnQ+XG4gICAgICAgIDwvQ29sPlxuICAgICAgPC9Sb3c+XG4gICAgPC9Db250YWluZXI+XG4gICk7XG59O1xuIiwiaW1wb3J0IFN1bW1hcnksIHsgU3VtbWFyeVByb3BzIH0gZnJvbSBcImNvbXBvbmVudHMvU3VtbWFyeVwiO1xuaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlTG9jYXRpb24gfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIGNvbnN0IHsgc3RhdGUgfSA9IHVzZUxvY2F0aW9uPFN1bW1hcnlQcm9wcz4oKTtcblxuICByZXR1cm4gPFN1bW1hcnkgcmVjb3JkaW5nPXtzdGF0ZS5yZWNvcmRpbmd9IHJlZmVyZW5jZT17c3RhdGUucmVmZXJlbmNlfSAvPjtcbn07XG4iLCIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jcmVhdGVCaW5kaW5nKG8sIG0sIGssIGsyKSB7XHJcbiAgICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xyXG4gICAgb1trMl0gPSBtW2tdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCJpbXBvcnQgeyBfX2Fzc2lnbiwgX19leHRlbmRzLCBfX3JlYWQgfSBmcm9tIFwidHNsaWJcIjtcbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbmltcG9ydCB7IGdldEN1cnJlbnRIdWIgfSBmcm9tICdAc2VudHJ5L2Jyb3dzZXInO1xuaW1wb3J0IHsgdGltZXN0YW1wV2l0aE1zIH0gZnJvbSAnQHNlbnRyeS91dGlscyc7XG5pbXBvcnQgaG9pc3ROb25SZWFjdFN0YXRpY3MgZnJvbSAnaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuZXhwb3J0IHZhciBVTktOT1dOX0NPTVBPTkVOVCA9ICd1bmtub3duJztcbnZhciBUUkFDSU5HX0dFVFRFUiA9IHtcbiAgICBpZDogJ1RyYWNpbmcnLFxufTtcbnZhciBnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb24gPSBudWxsO1xuLyoqIEBkZXByZWNhdGVkIHJlbW92ZSB3aGVuIEBzZW50cnkvYXBtIG5vIGxvbmdlciB1c2VkICovXG52YXIgZ2V0VHJhY2luZ0ludGVncmF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIGdsb2JhbFRyYWNpbmdJbnRlZ3JhdGlvbjtcbiAgICB9XG4gICAgZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uID0gZ2V0Q3VycmVudEh1YigpLmdldEludGVncmF0aW9uKFRSQUNJTkdfR0VUVEVSKTtcbiAgICByZXR1cm4gZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uO1xufTtcbi8qKlxuICogcHVzaEFjdGl2aXR5IGNyZWF0ZXMgYW4gbmV3IHJlYWN0IGFjdGl2aXR5LlxuICogSXMgYSBuby1vcCBpZiBUcmFjaW5nIGludGVncmF0aW9uIGlzIG5vdCB2YWxpZFxuICogQHBhcmFtIG5hbWUgZGlzcGxheU5hbWUgb2YgY29tcG9uZW50IHRoYXQgc3RhcnRlZCBhY3Rpdml0eVxuICogQGRlcHJlY2F0ZWQgcmVtb3ZlIHdoZW4gQHNlbnRyeS9hcG0gbm8gbG9uZ2VyIHVzZWRcbiAqL1xuZnVuY3Rpb24gcHVzaEFjdGl2aXR5KG5hbWUsIG9wKSB7XG4gICAgaWYgKGdsb2JhbFRyYWNpbmdJbnRlZ3JhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIGdsb2JhbFRyYWNpbmdJbnRlZ3JhdGlvbi5jb25zdHJ1Y3Rvci5wdXNoQWN0aXZpdHkobmFtZSwge1xuICAgICAgICBkZXNjcmlwdGlvbjogXCI8XCIgKyBuYW1lICsgXCI+XCIsXG4gICAgICAgIG9wOiBcInJlYWN0LlwiICsgb3AsXG4gICAgfSk7XG59XG4vKipcbiAqIHBvcEFjdGl2aXR5IHJlbW92ZXMgYSBSZWFjdCBhY3Rpdml0eS5cbiAqIElzIGEgbm8tb3AgaWYgVHJhY2luZyBpbnRlZ3JhdGlvbiBpcyBub3QgdmFsaWQuXG4gKiBAcGFyYW0gYWN0aXZpdHkgaWQgb2YgYWN0aXZpdHkgdGhhdCBpcyBiZWluZyBwb3BwZWRcbiAqIEBkZXByZWNhdGVkIHJlbW92ZSB3aGVuIEBzZW50cnkvYXBtIG5vIGxvbmdlciB1c2VkXG4gKi9cbmZ1bmN0aW9uIHBvcEFjdGl2aXR5KGFjdGl2aXR5KSB7XG4gICAgaWYgKGFjdGl2aXR5ID09PSBudWxsIHx8IGdsb2JhbFRyYWNpbmdJbnRlZ3JhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGdsb2JhbFRyYWNpbmdJbnRlZ3JhdGlvbi5jb25zdHJ1Y3Rvci5wb3BBY3Rpdml0eShhY3Rpdml0eSk7XG59XG4vKipcbiAqIE9idGFpbiBhIHNwYW4gZ2l2ZW4gYW4gYWN0aXZpdHkgaWQuXG4gKiBJcyBhIG5vLW9wIGlmIFRyYWNpbmcgaW50ZWdyYXRpb24gaXMgbm90IHZhbGlkLlxuICogQHBhcmFtIGFjdGl2aXR5IGFjdGl2aXR5IGlkIGFzc29jaWF0ZWQgd2l0aCBvYnRhaW5lZCBzcGFuXG4gKiBAZGVwcmVjYXRlZCByZW1vdmUgd2hlbiBAc2VudHJ5L2FwbSBubyBsb25nZXIgdXNlZFxuICovXG5mdW5jdGlvbiBnZXRBY3Rpdml0eVNwYW4oYWN0aXZpdHkpIHtcbiAgICBpZiAoYWN0aXZpdHkgPT09IG51bGwgfHwgZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb24uY29uc3RydWN0b3IuZ2V0QWN0aXZpdHlTcGFuKGFjdGl2aXR5KTtcbn1cbi8qKlxuICogVGhlIFByb2ZpbGVyIGNvbXBvbmVudCBsZXZlcmFnZXMgU2VudHJ5J3MgVHJhY2luZyBpbnRlZ3JhdGlvbiB0byBnZW5lcmF0ZVxuICogc3BhbnMgYmFzZWQgb24gY29tcG9uZW50IGxpZmVjeWNsZXMuXG4gKi9cbnZhciBQcm9maWxlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICBfX2V4dGVuZHMoUHJvZmlsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUHJvZmlsZXIocHJvcHMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcHJvcHMpIHx8IHRoaXM7XG4gICAgICAgIC8vIFRoZSBhY3Rpdml0eSByZXByZXNlbnRpbmcgaG93IGxvbmcgaXQgdGFrZXMgdG8gbW91bnQgYSBjb21wb25lbnQuXG4gICAgICAgIF90aGlzLl9tb3VudEFjdGl2aXR5ID0gbnVsbDtcbiAgICAgICAgLy8gVGhlIHNwYW4gb2YgdGhlIG1vdW50IGFjdGl2aXR5XG4gICAgICAgIF90aGlzLl9tb3VudFNwYW4gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBfYSA9IF90aGlzLnByb3BzLCBuYW1lID0gX2EubmFtZSwgX2IgPSBfYS5kaXNhYmxlZCwgZGlzYWJsZWQgPSBfYiA9PT0gdm9pZCAwID8gZmFsc2UgOiBfYjtcbiAgICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhleSBhcmUgdXNpbmcgQHNlbnRyeS9hcG0sIHdlIG5lZWQgdG8gcHVzaC9wb3AgYWN0aXZpdGllc1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgaWYgKGdldFRyYWNpbmdJbnRlZ3JhdGlvbigpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgICAgIF90aGlzLl9tb3VudEFjdGl2aXR5ID0gcHVzaEFjdGl2aXR5KG5hbWUsICdtb3VudCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFjdGl2ZVRyYW5zYWN0aW9uID0gZ2V0QWN0aXZlVHJhbnNhY3Rpb24oKTtcbiAgICAgICAgICAgIGlmIChhY3RpdmVUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgICAgIF90aGlzLl9tb3VudFNwYW4gPSBhY3RpdmVUcmFuc2FjdGlvbi5zdGFydENoaWxkKHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiPFwiICsgbmFtZSArIFwiPlwiLFxuICAgICAgICAgICAgICAgICAgICBvcDogJ3JlYWN0Lm1vdW50JyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIC8vIElmIGEgY29tcG9uZW50IG1vdW50ZWQsIHdlIGNhbiBmaW5pc2ggdGhlIG1vdW50IGFjdGl2aXR5LlxuICAgIFByb2ZpbGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRNb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuX21vdW50U3Bhbikge1xuICAgICAgICAgICAgdGhpcy5fbW91bnRTcGFuLmZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgICAgICB0aGlzLl9tb3VudFNwYW4gPSBnZXRBY3Rpdml0eVNwYW4odGhpcy5fbW91bnRBY3Rpdml0eSk7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICAgICAgICAgIHBvcEFjdGl2aXR5KHRoaXMuX21vdW50QWN0aXZpdHkpO1xuICAgICAgICAgICAgdGhpcy5fbW91bnRBY3Rpdml0eSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFByb2ZpbGVyLnByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIHVwZGF0ZVByb3BzID0gX2EudXBkYXRlUHJvcHMsIF9iID0gX2EuaW5jbHVkZVVwZGF0ZXMsIGluY2x1ZGVVcGRhdGVzID0gX2IgPT09IHZvaWQgMCA/IHRydWUgOiBfYjtcbiAgICAgICAgLy8gT25seSBnZW5lcmF0ZSBhbiB1cGRhdGUgc3BhbiBpZiBoYXNVcGRhdGVTcGFuIGlzIHRydWUsIGlmIHRoZXJlIGlzIGEgdmFsaWQgbW91bnRTcGFuLFxuICAgICAgICAvLyBhbmQgaWYgdGhlIHVwZGF0ZVByb3BzIGhhdmUgY2hhbmdlZC4gSXQgaXMgb2sgdG8gbm90IGRvIGEgZGVlcCBlcXVhbGl0eSBjaGVjayBoZXJlIGFzIGl0IGlzIGV4cGVuc2l2ZS5cbiAgICAgICAgLy8gV2UgYXJlIGp1c3QgdHJ5aW5nIHRvIGdpdmUgYmFzZWxpbmUgY2x1ZXMgZm9yIGZ1cnRoZXIgaW52ZXN0aWdhdGlvbi5cbiAgICAgICAgaWYgKGluY2x1ZGVVcGRhdGVzICYmIHRoaXMuX21vdW50U3BhbiAmJiB1cGRhdGVQcm9wcyAhPT0gdGhpcy5wcm9wcy51cGRhdGVQcm9wcykge1xuICAgICAgICAgICAgLy8gU2VlIHdoYXQgcHJvcHMgaGF2ZWQgY2hhbmdlZCBiZXR3ZWVuIHRoZSBwcmV2aW91cyBwcm9wcywgYW5kIHRoZSBjdXJyZW50IHByb3BzLiBUaGlzIGlzXG4gICAgICAgICAgICAvLyBzZXQgYXMgZGF0YSBvbiB0aGUgc3Bhbi4gV2UganVzdCBzdG9yZSB0aGUgcHJvcCBrZXlzIGFzIHRoZSB2YWx1ZXMgY291bGQgYmUgcG90ZW5pYWxseSB2ZXJ5IGxhcmdlLlxuICAgICAgICAgICAgdmFyIGNoYW5nZWRQcm9wcyA9IE9iamVjdC5rZXlzKHVwZGF0ZVByb3BzKS5maWx0ZXIoZnVuY3Rpb24gKGspIHsgcmV0dXJuIHVwZGF0ZVByb3BzW2tdICE9PSBfdGhpcy5wcm9wcy51cGRhdGVQcm9wc1trXTsgfSk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlZFByb3BzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgdXBkYXRlIHNwYW4gaXMgYSBwb2ludCBpbiB0aW1lIHNwYW4gd2l0aCAwIGR1cmF0aW9uLCBqdXN0IHNpZ25pZnlpbmcgdGhhdCB0aGUgY29tcG9uZW50XG4gICAgICAgICAgICAgICAgLy8gaGFzIGJlZW4gdXBkYXRlZC5cbiAgICAgICAgICAgICAgICB2YXIgbm93ID0gdGltZXN0YW1wV2l0aE1zKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbW91bnRTcGFuLnN0YXJ0Q2hpbGQoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2VkUHJvcHM6IGNoYW5nZWRQcm9wcyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiPFwiICsgdGhpcy5wcm9wcy5uYW1lICsgXCI+XCIsXG4gICAgICAgICAgICAgICAgICAgIGVuZFRpbWVzdGFtcDogbm93LFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJyZWFjdC51cGRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXA6IG5vdyxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgLy8gSWYgYSBjb21wb25lbnQgaXMgdW5tb3VudGVkLCB3ZSBjYW4gc2F5IGl0IGlzIG5vIGxvbmdlciBvbiB0aGUgc2NyZWVuLlxuICAgIC8vIFRoaXMgbWVhbnMgd2UgY2FuIGZpbmlzaCB0aGUgc3BhbiByZXByZXNlbnRpbmcgdGhlIGNvbXBvbmVudCByZW5kZXIuXG4gICAgUHJvZmlsZXIucHJvdG90eXBlLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLCBuYW1lID0gX2EubmFtZSwgX2IgPSBfYS5pbmNsdWRlUmVuZGVyLCBpbmNsdWRlUmVuZGVyID0gX2IgPT09IHZvaWQgMCA/IHRydWUgOiBfYjtcbiAgICAgICAgaWYgKHRoaXMuX21vdW50U3BhbiAmJiBpbmNsdWRlUmVuZGVyKSB7XG4gICAgICAgICAgICAvLyBJZiB3ZSB3ZXJlIGFibGUgdG8gb2J0YWluIHRoZSBzcGFuSWQgb2YgdGhlIG1vdW50IGFjdGl2aXR5LCB3ZSBzaG91bGQgc2V0IHRoZVxuICAgICAgICAgICAgLy8gbmV4dCBhY3Rpdml0eSBhcyBhIGNoaWxkIHRvIHRoZSBjb21wb25lbnQgbW91bnQgYWN0aXZpdHkuXG4gICAgICAgICAgICB0aGlzLl9tb3VudFNwYW4uc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiPFwiICsgbmFtZSArIFwiPlwiLFxuICAgICAgICAgICAgICAgIGVuZFRpbWVzdGFtcDogdGltZXN0YW1wV2l0aE1zKCksXG4gICAgICAgICAgICAgICAgb3A6IFwicmVhY3QucmVuZGVyXCIsXG4gICAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXA6IHRoaXMuX21vdW50U3Bhbi5lbmRUaW1lc3RhbXAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUHJvZmlsZXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgfTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L21lbWJlci1vcmRlcmluZ1xuICAgIFByb2ZpbGVyLmRlZmF1bHRQcm9wcyA9IHtcbiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICBpbmNsdWRlUmVuZGVyOiB0cnVlLFxuICAgICAgICBpbmNsdWRlVXBkYXRlczogdHJ1ZSxcbiAgICB9O1xuICAgIHJldHVybiBQcm9maWxlcjtcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG4vKipcbiAqIHdpdGhQcm9maWxlciBpcyBhIGhpZ2hlciBvcmRlciBjb21wb25lbnQgdGhhdCB3cmFwcyBhXG4gKiBjb21wb25lbnQgaW4gYSB7QGxpbmsgUHJvZmlsZXJ9IGNvbXBvbmVudC4gSXQgaXMgcmVjb21tZW5kZWQgdGhhdFxuICogdGhlIGhpZ2hlciBvcmRlciBjb21wb25lbnQgYmUgdXNlZCBvdmVyIHRoZSByZWd1bGFyIHtAbGluayBQcm9maWxlcn0gY29tcG9uZW50LlxuICpcbiAqIEBwYXJhbSBXcmFwcGVkQ29tcG9uZW50IGNvbXBvbmVudCB0aGF0IGlzIHdyYXBwZWQgYnkgUHJvZmlsZXJcbiAqIEBwYXJhbSBvcHRpb25zIHRoZSB7QGxpbmsgUHJvZmlsZXJQcm9wc30geW91IGNhbiBwYXNzIGludG8gdGhlIFByb2ZpbGVyXG4gKi9cbmZ1bmN0aW9uIHdpdGhQcm9maWxlcihXcmFwcGVkQ29tcG9uZW50LCBcbi8vIFdlIGRvIG5vdCB3YW50IHRvIGhhdmUgYHVwZGF0ZVByb3BzYCBnaXZlbiBpbiBvcHRpb25zLCBpdCBpcyBpbnN0ZWFkIGZpbGxlZCB0aHJvdWdoIHRoZSBIT0MuXG5vcHRpb25zKSB7XG4gICAgdmFyIGNvbXBvbmVudERpc3BsYXlOYW1lID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5uYW1lKSB8fCBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCBVTktOT1dOX0NPTVBPTkVOVDtcbiAgICB2YXIgV3JhcHBlZCA9IGZ1bmN0aW9uIChwcm9wcykgeyByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJvZmlsZXIsIF9fYXNzaWduKHt9LCBvcHRpb25zLCB7IG5hbWU6IGNvbXBvbmVudERpc3BsYXlOYW1lLCB1cGRhdGVQcm9wczogcHJvcHMgfSksXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgX19hc3NpZ24oe30sIHByb3BzKSkpKTsgfTtcbiAgICBXcmFwcGVkLmRpc3BsYXlOYW1lID0gXCJwcm9maWxlcihcIiArIGNvbXBvbmVudERpc3BsYXlOYW1lICsgXCIpXCI7XG4gICAgLy8gQ29weSBvdmVyIHN0YXRpYyBtZXRob2RzIGZyb20gV3JhcHBlZCBjb21wb25lbnQgdG8gUHJvZmlsZXIgSE9DXG4gICAgLy8gU2VlOiBodHRwczovL3JlYWN0anMub3JnL2RvY3MvaGlnaGVyLW9yZGVyLWNvbXBvbmVudHMuaHRtbCNzdGF0aWMtbWV0aG9kcy1tdXN0LWJlLWNvcGllZC1vdmVyXG4gICAgaG9pc3ROb25SZWFjdFN0YXRpY3MoV3JhcHBlZCwgV3JhcHBlZENvbXBvbmVudCk7XG4gICAgcmV0dXJuIFdyYXBwZWQ7XG59XG4vKipcbiAqXG4gKiBgdXNlUHJvZmlsZXJgIGlzIGEgUmVhY3QgaG9vayB0aGF0IHByb2ZpbGVzIGEgUmVhY3QgY29tcG9uZW50LlxuICpcbiAqIFJlcXVpcmVzIFJlYWN0IDE2Ljggb3IgYWJvdmUuXG4gKiBAcGFyYW0gbmFtZSBkaXNwbGF5TmFtZSBvZiBjb21wb25lbnQgYmVpbmcgcHJvZmlsZWRcbiAqL1xuZnVuY3Rpb24gdXNlUHJvZmlsZXIobmFtZSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHtcbiAgICAgICAgZGlzYWJsZWQ6IGZhbHNlLFxuICAgICAgICBoYXNSZW5kZXJTcGFuOiB0cnVlLFxuICAgIH07IH1cbiAgICB2YXIgX2EgPSBfX3JlYWQoUmVhY3QudXNlU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmRpc2FibGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhY3RpdmVUcmFuc2FjdGlvbiA9IGdldEFjdGl2ZVRyYW5zYWN0aW9uKCk7XG4gICAgICAgIGlmIChhY3RpdmVUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIGFjdGl2ZVRyYW5zYWN0aW9uLnN0YXJ0Q2hpbGQoe1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIjxcIiArIG5hbWUgKyBcIj5cIixcbiAgICAgICAgICAgICAgICBvcDogJ3JlYWN0Lm1vdW50JyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSksIDEpLCBtb3VudFNwYW4gPSBfYVswXTtcbiAgICBSZWFjdC51c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAobW91bnRTcGFuKSB7XG4gICAgICAgICAgICBtb3VudFNwYW4uZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmIChtb3VudFNwYW4gJiYgb3B0aW9ucy5oYXNSZW5kZXJTcGFuKSB7XG4gICAgICAgICAgICAgICAgbW91bnRTcGFuLnN0YXJ0Q2hpbGQoe1xuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCI8XCIgKyBuYW1lICsgXCI+XCIsXG4gICAgICAgICAgICAgICAgICAgIGVuZFRpbWVzdGFtcDogdGltZXN0YW1wV2l0aE1zKCksXG4gICAgICAgICAgICAgICAgICAgIG9wOiBcInJlYWN0LnJlbmRlclwiLFxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVzdGFtcDogbW91bnRTcGFuLmVuZFRpbWVzdGFtcCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gV2Ugb25seSB3YW50IHRoaXMgdG8gcnVuIG9uY2UuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1ob29rcy9leGhhdXN0aXZlLWRlcHNcbiAgICB9LCBbXSk7XG59XG5leHBvcnQgeyB3aXRoUHJvZmlsZXIsIFByb2ZpbGVyLCB1c2VQcm9maWxlciB9O1xuLyoqIEdyYWJzIGFjdGl2ZSB0cmFuc2FjdGlvbiBvZmYgc2NvcGUgKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRBY3RpdmVUcmFuc2FjdGlvbihodWIpIHtcbiAgICBpZiAoaHViID09PSB2b2lkIDApIHsgaHViID0gZ2V0Q3VycmVudEh1YigpOyB9XG4gICAgaWYgKGh1Yikge1xuICAgICAgICB2YXIgc2NvcGUgPSBodWIuZ2V0U2NvcGUoKTtcbiAgICAgICAgaWYgKHNjb3BlKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NvcGUuZ2V0VHJhbnNhY3Rpb24oKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvZmlsZXIuanMubWFwIiwiY29uc3Qgbm90ZXM6IHN0cmluZ1tdID0gW1xuICBcIkFcIiwgLy8gMjFcbiAgXCJC4pmtXCIsIC8vIDIyXG4gIFwiQlwiLCAvLyAyM1xuICBcIkNcIiwgLy8gMjRcbiAgXCJD4pmvXCIsIC8vIDI1XG4gIFwiRFwiLCAvLyAyNlxuICBcIkTima9cIiwgLy8gMjdcbiAgXCJFXCIsIC8vIDI4XG4gIFwiRlwiLCAvLyAyOVxuICBcIkbima9cIiwgLy8gMzBcbiAgXCJHXCIsIC8vIDMxXG4gIFwiR+KZr1wiLCAvLyAzMlxuXTtcbmNvbnN0IG5hbWUgPSAobm90ZTogbnVtYmVyKTogc3RyaW5nID0+IG5vdGVzWyhub3RlIC0gMjEpICUgMTJdO1xuY29uc3Qgb2N0YXZlID0gKG5vdGU6IG51bWJlcik6IG51bWJlciA9PiBNYXRoLmZsb29yKG5vdGUgLyAxMiAtIDEpO1xuXG5jb25zdCBub3RlVG9GcmVxID0gKG5vdGU6IG51bWJlcik6IG51bWJlciA9PiA0NDAgKiAoKG5vdGUgLSA2OSkgLyAxMikgKiogMjtcblxuY29uc3QgZnJlcVRvTm90ZSA9IChmcmVxOiBudW1iZXIpOiBudW1iZXIgPT4gNjkgKyAxMiAqIE1hdGgubG9nMihmcmVxIC8gNDQwKTtcblxuY29uc3QgZGlmZiA9IChhOiBudW1iZXIsIGI6IG51bWJlcik6IG51bWJlciA9PiAxMjAwICogTWF0aC5sb2cyKGIgLyBhKTtcblxuY2xhc3MgTm90ZSB7XG4gIHJlYWRvbmx5IGZyZXF1ZW5jeTogbnVtYmVyO1xuXG4gIHJlYWRvbmx5IG5vdGU6IG51bWJlcjtcblxuICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG5cbiAgcmVhZG9ubHkgb2N0YXZlOiBudW1iZXI7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSByZWFkb25seSBfZnJlcTogbnVtYmVyKSB7XG4gICAgdGhpcy5ub3RlID0gTWF0aC5yb3VuZChmcmVxVG9Ob3RlKF9mcmVxKSk7XG5cbiAgICB0aGlzLmZyZXF1ZW5jeSA9IG5vdGVUb0ZyZXEodGhpcy5ub3RlKTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lKHRoaXMubm90ZSk7XG4gICAgdGhpcy5vY3RhdmUgPSBvY3RhdmUodGhpcy5ub3RlKTtcbiAgfVxufVxuXG50eXBlIFBpdGNoID0ge1xuICB0YXJnZXQ6IE5vdGU7XG4gIG5vdGU6IG51bWJlcjtcbiAgZnJlcXVlbmN5OiBudW1iZXI7XG4gIGRpZmY6IG51bWJlcjtcbn07XG5cbmNvbnN0IG5vdGUgPSAoZnJlcT86IG51bWJlciB8IG51bGwpOiBQaXRjaCB8IG51bGwgPT4ge1xuICBpZiAoZnJlcSA9PT0gdW5kZWZpbmVkIHx8IGZyZXEgPT09IG51bGwpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IG4gPSBuZXcgTm90ZShmcmVxKTtcbiAgcmV0dXJuIHtcbiAgICBmcmVxdWVuY3k6IGZyZXEsXG4gICAgdGFyZ2V0OiBuLFxuICAgIG5vdGU6IGZyZXFUb05vdGUoZnJlcSksXG4gICAgZGlmZjogZGlmZihuLmZyZXF1ZW5jeSwgZnJlcSksXG4gIH07XG59O1xuXG5leHBvcnQgeyBuYW1lLCBvY3RhdmUsIG5vdGUsIE5vdGUsIFBpdGNoLCBmcmVxVG9Ob3RlLCBub3RlVG9GcmVxLCBkaWZmIH07XG4iLCJpbXBvcnQgXCJtbDVcIjtcblxuaW1wb3J0IHsgbm90ZSwgUGl0Y2ggfSBmcm9tIFwicGl0Y2gvbm90ZXNcIjtcbmltcG9ydCBnZXRMb2dnZXIgZnJvbSBcImxvZ1wiO1xuXG5jb25zdCBMT0cgPSBnZXRMb2dnZXIoKTtcblxuZXhwb3J0IHR5cGUgU2FtcGxlID0gUGl0Y2ggfCBudWxsO1xuZXhwb3J0IHR5cGUgUmVjb3JkaW5nID0gU2FtcGxlW107XG5cbnR5cGUgUGl0Y2hHZW5lcmF0b3IgPSBBc3luY0dlbmVyYXRvcjxTYW1wbGU+O1xuXG5jb25zdCBNT0RFTF9VUkwgPVxuICBcImh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9naC9tbDVqcy9tbDUtZGF0YS1hbmQtbW9kZWxzL21vZGVscy9waXRjaC1kZXRlY3Rpb24vY3JlcGUvXCI7XG5cbmFzeW5jIGZ1bmN0aW9uKiBtbDVQaXRjaERldGVjdGlvbihcbiAgY3R4OiBBdWRpb0NvbnRleHQsXG4gIHN0cmVhbTogTWVkaWFTdHJlYW1cbik6IFBpdGNoR2VuZXJhdG9yIHtcbiAgY29uc3QgcGl0Y2hEZXRlY3Rpb246IGFueSA9IG1sNS5waXRjaERldGVjdGlvbihNT0RFTF9VUkwsIGN0eCwgc3RyZWFtKTtcbiAgTE9HLmluZm8oXCJDcmVhdGVkIHBpdGNoIGRldGVjdGlvbi5cIiwgcGl0Y2hEZXRlY3Rpb24pO1xuXG4gIGF3YWl0IHBpdGNoRGV0ZWN0aW9uLnJlYWR5O1xuICBMT0cuaW5mbyhcIkluaXRpYWxpemVkIHRoZSBtb2RlbC5cIik7XG5cbiAgd2hpbGUgKHN0cmVhbS5hY3RpdmUgJiYgY3R4LnN0YXRlID09PSBcInJ1bm5pbmdcIikge1xuICAgIC8vIFRoaXMgaXMgZmluZSBhcyB0aGlzIGlzIGEgZ2VuZXJhdG9yIGNvZGUuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWF3YWl0LWluLWxvb3BcbiAgICBjb25zdCBwaXRjaCA9IGF3YWl0IHBpdGNoRGV0ZWN0aW9uLmdldFBpdGNoKCk7XG4gICAgaWYgKHBpdGNoID09PSBudWxsKSB7XG4gICAgICBMT0cuZGVidWcoXCJTa2lwcGluZ1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgeWllbGQgbm90ZShwaXRjaCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7IFBpdGNoR2VuZXJhdG9yLCBtbDVQaXRjaERldGVjdGlvbiB9O1xuIiwiaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xuXG50eXBlIEdlbmVyYXRvckNvbXBvbmVudFByb3BzPFQ+ID0ge1xuICBnZW5lcmF0b3I6IEFzeW5jR2VuZXJhdG9yPFQgfCBudWxsLCBhbnksIGFueT47XG4gIGNoaWxkcmVuOiBhbnk7XG4gIG9uVGljaz86ICh0OiBUIHwgbnVsbCkgPT4gdm9pZDtcbn07XG5cbmZ1bmN0aW9uIEdlbmVyYXRvckNvbXBvbmVudDxUPihwcm9wczogR2VuZXJhdG9yQ29tcG9uZW50UHJvcHM8VD4pIHtcbiAgY29uc3QgW2ZsYWcsIHNldEZsYWddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY3VycmVudFZhbHVlLCBzZXRDdXJyZW50VmFsdWVdID0gdXNlU3RhdGU8VCB8IHVuZGVmaW5lZD4oKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBtb3VudGVkID0gdHJ1ZTtcblxuICAgIHByb3BzLmdlbmVyYXRvci5uZXh0KCkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0LmRvbmUgfHwgIW1vdW50ZWQpIHJldHVybjtcblxuICAgICAgc2V0Q3VycmVudFZhbHVlKHJlc3VsdC52YWx1ZSB8fCB1bmRlZmluZWQpO1xuICAgICAgc2V0RmxhZyghZmxhZyk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgbW91bnRlZCA9IGZhbHNlO1xuICAgIH07XG4gIH0sIFtmbGFnXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocHJvcHMub25UaWNrICYmIGN1cnJlbnRWYWx1ZSkge1xuICAgICAgcHJvcHMub25UaWNrKGN1cnJlbnRWYWx1ZSk7XG4gICAgfVxuICB9LCBbY3VycmVudFZhbHVlXSk7XG5cbiAgaWYgKHR5cGVvZiBwcm9wcy5jaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIHByb3BzLmNoaWxkcmVuKGN1cnJlbnRWYWx1ZSk7XG4gIH1cbiAgcmV0dXJuIHByb3BzLmNoaWxkcmVuO1xufVxuXG5leHBvcnQgZGVmYXVsdCBHZW5lcmF0b3JDb21wb25lbnQ7XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgeyBQaXRjaEdlbmVyYXRvciwgU2FtcGxlIH0gZnJvbSBcInBpdGNoL3BpdGNoXCI7XG5pbXBvcnQgc2FtcGxlIGZyb20gXCJhdWRpby9jNC5vZ2dcIjtcblxuaW1wb3J0IGdldExvZ2dlciBmcm9tIFwibG9nXCI7XG5pbXBvcnQgeyBCdXR0b24sIFNwaW5uZXIgfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQgR2VuZXJhdG9yQ29tcG9uZW50IGZyb20gXCIuL0dlbmVyYXRvckNvbXBvbmVudFwiO1xuXG5jb25zdCBMT0cgPSBnZXRMb2dnZXIoKTtcblxudHlwZSBSZWNvcmRpbmcgPSBTYW1wbGVbXTtcbnR5cGUgUGl0Y2hSZWNvcmRlclByb3BzID0ge1xuICBwaXRjaEdlbmVyYXRvcjogUGl0Y2hHZW5lcmF0b3I7XG4gIHRpbWVvdXRNczogbnVtYmVyO1xuICBvbkZpbmlzaDogKHNhbXBsZXM6IFJlY29yZGluZykgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFBpdGNoUmVjb3JkZXIoe1xuICBwaXRjaEdlbmVyYXRvcixcbiAgdGltZW91dE1zLFxuICBvbkZpbmlzaCxcbn06IFBpdGNoUmVjb3JkZXJQcm9wcykge1xuICBjb25zdCBbcmVjb3JkaW5nLCBzZXRSZWNvcmRpbmddID0gdXNlU3RhdGU8UmVjb3JkaW5nPihbXSk7XG4gIGNvbnN0IFtzdGFydGVkLCBzZXRTdGFydGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2ZpbmlzaGVkLCBzZXRGaW5pc2hlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtjb3VudGRvd24sIHNldENvdW50ZG93bl0gPSB1c2VTdGF0ZTxudW1iZXI+KDApO1xuXG4gIGNvbnN0IGF1ZGlvID0gbmV3IEF1ZGlvKHNhbXBsZSk7XG4gIGF1ZGlvLnBsYXkoKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc3RhcnRlZCkge1xuICAgICAgcmV0dXJuICgpID0+IHt9O1xuICAgIH1cbiAgICBMT0cuaW5mbyhcIlNldHRpbmcgdXAgdGhlIHRpbWVvdXQuXCIpO1xuICAgIGNvbnN0IHQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldEZpbmlzaGVkKHRydWUpO1xuICAgICAgc2V0U3RhcnRlZChmYWxzZSk7XG4gICAgfSwgdGltZW91dE1zKTtcbiAgICBMT0cuaW5mbyhcIlNldCB1cCB0aW1lciAlZCBmb3IgJWQgbXMuXCIsIHQsIHRpbWVvdXRNcyk7XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgTE9HLmluZm8oXCJDbGVhcmluZyBvdXQgdGhlIHRpbWVvdXQgJWQuXCIsIHQpO1xuICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgIH07XG4gIH0sIFtzdGFydGVkXSk7XG5cbiAgLy8gSW50ZXJ2YWwgc2V0IHVwLlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghc3RhcnRlZCkge1xuICAgICAgcmV0dXJuICgpID0+IHt9O1xuICAgIH1cblxuICAgIHNldENvdW50ZG93bih0aW1lb3V0TXMgLyAxMDAwKTtcbiAgICBMT0cuaW5mbyhcIlNldHRpbmcgdGhlIGludGVydmFsIHdpdGggY291bnRkb3duICVkLlwiLCB0aW1lb3V0TXMpO1xuICAgIGNvbnN0IGludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gc2V0Q291bnRkb3duKChwcmV2KSA9PiBwcmV2IC0gMSksIDEwMDApO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIExPRy5pbmZvKFwiQ2xlYXJpbmcgb3V0IHRoZSBpbnRlcnZhbCAlZC5cIiwgaW50ZXJ2YWwpO1xuICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgfTtcbiAgfSwgW3N0YXJ0ZWRdKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChmaW5pc2hlZCkge1xuICAgICAgTE9HLmluZm8oXCJGaW5pc2hpbmcgcmVjb3JkaW5nLlwiKTtcbiAgICAgIG9uRmluaXNoKHJlY29yZGluZyk7XG4gICAgfVxuICB9LCBbZmluaXNoZWQsIHJlY29yZGluZ10pO1xuXG4gIGNvbnN0IGFkZFNhbXBsZSA9IChwOiBTYW1wbGUpID0+IHtcbiAgICBjb25zdCBuZXdSZWNvcmRpbmcgPSByZWNvcmRpbmcuY29uY2F0KFtwXSk7XG4gICAgc2V0UmVjb3JkaW5nKG5ld1JlY29yZGluZyk7XG4gICAgaWYgKCFzdGFydGVkKSB7XG4gICAgICBzZXRTdGFydGVkKHRydWUpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBsYWJlbCA9ICFzdGFydGVkID8gKFxuICAgIDxoMyBjbGFzc05hbWU9XCJ0ZXh0LWluZm9cIj5zdGFydCBzaW5naW5nITwvaDM+XG4gICkgOiAoXG4gICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZS1wcmltYXJ5XCIgZGlzYWJsZWQ+XG4gICAgICA8U3Bpbm5lclxuICAgICAgICBhcz1cInNwYW5cIlxuICAgICAgICBhbmltYXRpb249XCJncm93XCJcbiAgICAgICAgcm9sZT1cInN0YXR1c1wiXG4gICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICAgIHNpemU9XCJzbVwiXG4gICAgICAgIGNsYXNzTmFtZT1cIm1yLTJcIlxuICAgICAgICB2YXJpYW50PVwiZGFuZ2VyXCJcbiAgICAgIC8+XG4gICAgICB7Y291bnRkb3dufS4uLlxuICAgIDwvQnV0dG9uPlxuICApO1xuXG4gIHJldHVybiBwaXRjaEdlbmVyYXRvciA/IChcbiAgICA8R2VuZXJhdG9yQ29tcG9uZW50IGdlbmVyYXRvcj17cGl0Y2hHZW5lcmF0b3J9IG9uVGljaz17YWRkU2FtcGxlfT5cbiAgICAgIHtsYWJlbH1cbiAgICA8L0dlbmVyYXRvckNvbXBvbmVudD5cbiAgKSA6IChcbiAgICA8U3Bpbm5lciBhbmltYXRpb249XCJib3JkZXJcIiB2YXJpYW50PVwicHJpbWFyeVwiIC8+XG4gICk7XG59XG4iLCJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IGdldExvZ2dlciwgeyB1c2VMb2dnZXIgfSBmcm9tIFwibG9nXCI7XG5pbXBvcnQgKiBhcyBTZW50cnkgZnJvbSBcIkBzZW50cnkvcmVhY3RcIjtcblxuaW1wb3J0IHsgbWw1UGl0Y2hEZXRlY3Rpb24sIFBpdGNoR2VuZXJhdG9yLCBSZWNvcmRpbmcgfSBmcm9tIFwicGl0Y2gvcGl0Y2hcIjtcbmltcG9ydCB7IFBpdGNoLCBub3RlLCBub3RlVG9GcmVxIH0gZnJvbSBcInBpdGNoL25vdGVzXCI7XG5cbmltcG9ydCB7IFJlZGlyZWN0IH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCB7IFNwaW5uZXIgfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQgUGl0Y2hSZWNvcmRlciBmcm9tIFwiLi9QaXRjaFJlY29yZGVyXCI7XG5cbmNvbnN0IExPRyA9IGdldExvZ2dlcigpO1xuXG50eXBlIERldGVjdGlvblByb3BzID0ge1xuICBuZXh0OiBzdHJpbmc7XG59O1xuXG5mdW5jdGlvbiB1c2VNaWNyb3Bob25lKCkge1xuICBjb25zdCBbc3RyZWFtLCBzZXRTdHJlYW1dID0gdXNlU3RhdGU8TWVkaWFTdHJlYW0+KCk7XG4gIGNvbnN0IGxvZ2dlciA9IHVzZUxvZ2dlcigpO1xuXG4gIC8vIFNldCB1cCB0aGUgbWljcm9waG9uZS4gRG8gaXQgb25jZSwgc28gW10gZGVwZW5kZW5jeS5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2dnZXIuaW5mbyhcIkFjcXVpcmluZyBtaWNyb3Bob25lLlwiKTtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzXG4gICAgICAuZ2V0VXNlck1lZGlhKHtcbiAgICAgICAgYXVkaW86IHRydWUsXG4gICAgICAgIHZpZGVvOiBmYWxzZSxcbiAgICAgIH0pXG4gICAgICAudGhlbigobmV3U3RyZWFtKSA9PiB7XG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcbiAgICAgICAgICBcIk1pY3JvcGhvbmUgaW5pdGlhbGl6ZWQgd2l0aCBzdHJlYW06ICVqLCBhY3RpdmU/LCAlcywgc3RhdGU6ICVzLlwiLFxuICAgICAgICAgIG5ld1N0cmVhbSxcbiAgICAgICAgICBuZXdTdHJlYW0uYWN0aXZlLFxuICAgICAgICAgIG5ld1N0cmVhbS5nZXRBdWRpb1RyYWNrcygpWzBdLnJlYWR5U3RhdGVcbiAgICAgICAgKTtcbiAgICAgICAgc2V0U3RyZWFtKG5ld1N0cmVhbSk7XG4gICAgICB9KTtcbiAgfSwgW10pO1xuXG4gIHJldHVybiBzdHJlYW07XG59XG5cbmNvbnN0IERldGVjdGlvbiA9ICh7IG5leHQ6IHBhdGggfTogRGV0ZWN0aW9uUHJvcHMpID0+IHtcbiAgTE9HLmluZm8oXCJbV2lkZ2V0XSBSZWNvcmRlclwiKTtcbiAgU2VudHJ5LnVzZVByb2ZpbGVyKFwiUGl0Y2hEZXRlY3Rpb25cIik7XG5cbiAgLy8gd2Via2l0IHZzIGFsbCB0aGUgb3RoZXJzXG4gIC8vIEB0cy1pZ25vcmVcbiAgY29uc3QgQXVkaW9DdHggPSB3aW5kb3cuQXVkaW9Db250ZXh0IHx8IHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7XG5cbiAgLy8gQXVkaW8gaW50ZXJmYWNlc1xuICBjb25zdCBbYXVkaW9Db250ZXh0XSA9IHVzZVN0YXRlKG5ldyBBdWRpb0N0eCgpKTsgLy8gcmVhZC1vbmx5XG4gIGNvbnN0IFtcbiAgICBwaXRjaERldGVjdGlvbkdlbmVyYXRvcixcbiAgICBzZXRQaXRjaERldGVjdGlvbkdlbmVyYXRvcixcbiAgXSA9IHVzZVN0YXRlPFBpdGNoR2VuZXJhdG9yPigpO1xuICBjb25zdCBbcmVjb3JkaW5nLCBzZXRSZWNvcmRpbmddID0gdXNlU3RhdGU8UmVjb3JkaW5nPigpO1xuXG4gIC8vIFNldCB1cCB0aGUgbWljcm9waG9uZS4gRG8gaXQgb25jZSwgc28gW10gZGVwZW5kZW5jeS5cbiAgY29uc3Qgc3RyZWFtID0gdXNlTWljcm9waG9uZSgpO1xuXG4gIC8vIENvbmZpZ3VyZSB0aGUgYXVkaW8gc3RyZWFtLlxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChzdHJlYW0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuICgpID0+IHt9O1xuICAgIH1cblxuICAgIExPRy5pbmZvKFxuICAgICAgXCJTZXR0aW5nIHVwIHRoZSBjb250ZXh0IGluIHN0YXRlICVqIGFuZCBzdHJlYW0gJWpcIixcbiAgICAgIGF1ZGlvQ29udGV4dC5zdGF0ZSxcbiAgICAgIHN0cmVhbS5pZFxuICAgICk7XG4gICAgY29uc3Qgbm9kZSA9IGF1ZGlvQ29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShzdHJlYW0pO1xuXG4gICAgTE9HLmluZm8oXCJNZWRpYSBzdHJlYW0gc291cmNlIGNyZWF0ZWQuXCIsIG5vZGUpO1xuICAgIHNldFBpdGNoRGV0ZWN0aW9uR2VuZXJhdG9yKG1sNVBpdGNoRGV0ZWN0aW9uKGF1ZGlvQ29udGV4dCwgc3RyZWFtKSk7XG4gICAgYXVkaW9Db250ZXh0LnJlc3VtZSgpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIExPRy5pbmZvKFwiQ2xlYW51cCB0aGUgYXVkaW8gc2V0dGluZ3NcIik7XG4gICAgICBMT0cuZGVidWcoXCJTdG9wIGFsbCB0cmFja3MgaW4gdGhlIHN0cmVhbSAlai5cIiwgc3RyZWFtKTtcbiAgICAgIHN0cmVhbT8uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodCkgPT4gdC5zdG9wKCkpO1xuXG4gICAgICBMT0cuZGVidWcoXCJTdXNwZW5kIGF1ZGlvIGNvbnRleHQgJWouXCIsIGF1ZGlvQ29udGV4dCk7XG4gICAgICBhdWRpb0NvbnRleHQuc3VzcGVuZCgpO1xuICAgIH07XG4gIH0sIFtzdHJlYW1dKTtcblxuICAvLyBGaW5pc2hlZCByZWNvcmRpbmcuXG4gIGlmIChyZWNvcmRpbmcgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IHJlZmVyZW5jZVBpdGNoID0gbm90ZShub3RlVG9GcmVxKDYwKSkgYXMgUGl0Y2g7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWRpcmVjdFxuICAgICAgICB0bz17e1xuICAgICAgICAgIHBhdGhuYW1lOiBwYXRoLFxuICAgICAgICAgIHN0YXRlOiB7IHJlY29yZGluZywgcmVmZXJlbmNlOiByZWZlcmVuY2VQaXRjaCB9LFxuICAgICAgICB9fVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgLy8gcmVjb3JkaW5nIGlzIHNldCB1cC5cbiAgaWYgKHBpdGNoRGV0ZWN0aW9uR2VuZXJhdG9yKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxQaXRjaFJlY29yZGVyXG4gICAgICAgIG9uRmluaXNoPXsocmVzdWx0KSA9PiB7XG4gICAgICAgICAgc2V0UmVjb3JkaW5nKHJlc3VsdCk7XG4gICAgICAgIH19XG4gICAgICAgIHBpdGNoR2VuZXJhdG9yPXtwaXRjaERldGVjdGlvbkdlbmVyYXRvcn1cbiAgICAgICAgdGltZW91dE1zPXs1MDAwfVxuICAgICAgLz5cbiAgICApO1xuICB9XG5cbiAgcmV0dXJuIDxTcGlubmVyIGFuaW1hdGlvbj1cImJvcmRlclwiIHZhcmlhbnQ9XCJwcmltYXJ5XCIgLz47XG59O1xuXG5leHBvcnQgZGVmYXVsdCBEZXRlY3Rpb247XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCcm93c2VyUm91dGVyIGFzIFJvdXRlciwgUm91dGUsIFN3aXRjaCB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgXCIuL0FwcC5jc3NcIjtcblxuaW1wb3J0IGNsc3ggZnJvbSBcImNsc3hcIjtcblxuaW1wb3J0IGdldExvZ2dlciBmcm9tIFwibG9nXCI7XG5pbXBvcnQgeyBDb250YWluZXIgfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQgSGVsbG8gZnJvbSBcInBhZ2VzL0hlbGxvXCI7XG5pbXBvcnQgUHJldmlldyBmcm9tIFwicGFnZXMvUHJldmlld1wiO1xuaW1wb3J0IFJlc3VsdCBmcm9tIFwicGFnZXMvUmVzdWx0XCI7XG5pbXBvcnQgRGV0ZWN0aW9uIGZyb20gXCJjb21wb25lbnRzL1BpdGNoRGV0ZWN0aW9uXCI7XG5cbmNvbnN0IExPRyA9IGdldExvZ2dlcigpO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIExPRy5pbmZvKFwiU3RhcnRpbmcgYXBwLlwiKTtcbiAgcmV0dXJuIChcbiAgICA8Q29udGFpbmVyPlxuICAgICAgPGhlYWRlciBjbGFzc05hbWU9e2Nsc3goXCJ0ZXh0LWNlbnRlclwiLCBcIm10LTVcIil9PlxuICAgICAgICA8aDEgY2xhc3NOYW1lPXtjbHN4KFwiZGlzcGxheS0xXCIsIFwidGV4dC1wcmltYXJ5XCIsIFwidGl0bGVcIil9PnZvY2FsbHk8L2gxPlxuICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC1zZWNvbmRhcnlcIj5ob3cgY2xlYW4gY2FuIHlvdSBzaW5nPzwvaDI+XG4gICAgICA8L2hlYWRlcj5cblxuICAgICAgPG1haW4gY2xhc3NOYW1lPXtjbHN4KFwidGV4dC1jZW50ZXJcIiwgXCJweS01XCIpfSByb2xlPVwibWFpblwiPlxuICAgICAgICA8Um91dGVyPlxuICAgICAgICAgIDxTd2l0Y2g+XG4gICAgICAgICAgICA8Um91dGUgcGF0aD1cIi9wcmV2aWV3XCI+XG4gICAgICAgICAgICAgIDxQcmV2aWV3IG5leHQ9XCIvcmVjb3JkXCIgLz5cbiAgICAgICAgICAgIDwvUm91dGU+XG4gICAgICAgICAgICA8Um91dGUgcGF0aD1cIi9yZWNvcmRcIj5cbiAgICAgICAgICAgICAgPERldGVjdGlvbiBuZXh0PVwiL3N1bW1hcnlcIiAvPlxuICAgICAgICAgICAgPC9Sb3V0ZT5cbiAgICAgICAgICAgIDxSb3V0ZSBwYXRoPVwiL3N1bW1hcnlcIj5cbiAgICAgICAgICAgICAgPFJlc3VsdCAvPlxuICAgICAgICAgICAgPC9Sb3V0ZT5cbiAgICAgICAgICAgIDxSb3V0ZSBwYXRoPVwiL1wiPlxuICAgICAgICAgICAgICA8SGVsbG8gbmV4dD1cIi9wcmV2aWV3XCIgLz5cbiAgICAgICAgICAgIDwvUm91dGU+XG4gICAgICAgICAgPC9Td2l0Y2g+XG4gICAgICAgIDwvUm91dGVyPlxuICAgICAgPC9tYWluPlxuXG4gICAgICA8Zm9vdGVyIGNsYXNzTmFtZT17Y2xzeChcInB5LTNcIiwgXCJib3JkZXItdG9wXCIsIFwidGV4dC1tdXRlZFwiKX0+XG4gICAgICAgIDxDb250YWluZXI+XG4gICAgICAgICAgPHA+dm9jYWxseS5hcHAgMjAyMDwvcD5cbiAgICAgICAgPC9Db250YWluZXI+XG4gICAgICA8L2Zvb3Rlcj5cbiAgICA8L0NvbnRhaW5lcj5cbiAgKTtcbn07XG4iLCJpbXBvcnQgKiBhcyBTZW50cnkgZnJvbSBcIkBzZW50cnkvcmVhY3RcIjtcbmltcG9ydCAqIGFzIEludGVncmF0aW9ucyBmcm9tIFwiQHNlbnRyeS9pbnRlZ3JhdGlvbnNcIjtcbmltcG9ydCB7IEludGVncmF0aW9ucyBhcyBUcmFjaW5nSW50ZWdyYXRpb25zIH0gZnJvbSBcIkBzZW50cnkvdHJhY2luZ1wiO1xuXG5pbXBvcnQgTG9nUm9ja2V0IGZyb20gXCJsb2dyb2NrZXRcIjtcbmltcG9ydCBzZXR1cExvZ1JvY2tldFJlYWN0IGZyb20gXCJsb2dyb2NrZXQtcmVhY3RcIjtcblxuZGVjbGFyZSBjb25zdCBSRUxFQVNFOiBzdHJpbmc7XG5cbmV4cG9ydCBkZWZhdWx0ICgpID0+IHtcbiAgU2VudHJ5LmluaXQoe1xuICAgIGRzbjpcbiAgICAgIFwiaHR0cHM6Ly9mZmU0MzlhYzY1Yjg0ODg5YTM3NTE4MDM3YTIzYTdiMUBvNDMzNTU3LmluZ2VzdC5zZW50cnkuaW8vNTM4ODkxN1wiLFxuICAgIHJlbGVhc2U6IFJFTEVBU0UsXG4gICAgZW52aXJvbm1lbnQ6IFwidGVzdGluZ1wiLFxuICAgIGludGVncmF0aW9uczogW1xuICAgICAgbmV3IEludGVncmF0aW9ucy5DYXB0dXJlQ29uc29sZSh7XG4gICAgICAgIGxldmVsczogW1wiaW5mb1wiXSxcbiAgICAgIH0pLFxuICAgICAgbmV3IFRyYWNpbmdJbnRlZ3JhdGlvbnMuQnJvd3NlclRyYWNpbmcoKSxcbiAgICBdLFxuICB9KTtcblxuICBMb2dSb2NrZXQuaW5pdChcIjZheXFpNy92b2NhbGx5dGVzdFwiLCB7XG4gICAgcmVsZWFzZTogUkVMRUFTRSxcbiAgfSk7XG4gIHNldHVwTG9nUm9ja2V0UmVhY3QoTG9nUm9ja2V0KTtcbn07XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCAqIGFzIFJlYWN0RE9NIGZyb20gXCJyZWFjdC1kb21cIjtcblxuaW1wb3J0IGluaXQgZnJvbSBcImluaXRcIjtcbmltcG9ydCBBcHAgZnJvbSBcIi4vQXBwXCI7XG5cbmluaXQoKTtcblxuUmVhY3RET00ucmVuZGVyKDxBcHAgLz4sIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYXBwXCIpKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=