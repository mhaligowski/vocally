!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=32)}([function(t,e){t.exports=React},function(t,e){t.exports=ReactBootstrap},function(t,e,n){"use strict";function r(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return s(t,Error)}}function o(t){return"[object String]"===Object.prototype.toString.call(t)}function i(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function a(t){return"[object Object]"===Object.prototype.toString.call(t)}function c(t){return"undefined"!=typeof Event&&s(t,Event)}function u(t){return"undefined"!=typeof Element&&s(t,Element)}function f(t){return"[object RegExp]"===Object.prototype.toString.call(t)}function l(t){return a(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function s(t,e){try{return t instanceof e}catch(t){return!1}}n.d(e,"b",(function(){return r})),n.d(e,"h",(function(){return o})),n.d(e,"f",(function(){return i})),n.d(e,"e",(function(){return a})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"g",(function(){return f})),n.d(e,"i",(function(){return l})),n.d(e,"d",(function(){return s}))},function(t,e){t.exports=ReactRouterDOM},function(t,e){t.exports=PropTypes},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o}));n(2);function r(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){var n=t,r=n.length;if(r<=150)return n;e>r&&(e=r);var o=Math.max(e-60,0);o<5&&(o=0);var i=Math.min(o+140,r);return i>r-5&&(i=r),i===r&&(o=Math.max(i-140,0)),n=n.slice(o,i),o>0&&(n="'{snip} "+n),i<r&&(n+=" {snip}"),n}},function(t,e){t.exports=Sentry},function(t,e,n){"use strict";(function(t,r){n.d(e,"b",(function(){return o})),n.d(e,"a",(function(){return i}));n(2),n(19);function o(){return"[object process]"===Object.prototype.toString.call(void 0!==t?t:0)}function i(t,e){return t.require(e)}}).call(this,n(31),n(13)(t))},function(t,e){t.exports=ReactDOM},function(t,e){t.exports=LogRocket},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i}));var r=n(7),o=(n(5),{});function i(){return Object(r.b)()?t:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}}).call(this,n(14))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2);function o(t){try{for(var e=t,n=[],r=0,o=0,a=" > ".length,c=void 0;e&&r++<5&&!("html"===(c=i(e))||r>1&&o+n.length*a+c.length>=80);)n.push(c),o+=c.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function i(t){var e,n,o,i,a,c=t,u=[];if(!c||!c.tagName)return"";if(u.push(c.tagName.toLowerCase()),c.id&&u.push("#"+c.id),(e=c.className)&&Object(r.h)(e))for(n=e.split(/\s+/),a=0;a<n.length;a++)u.push("."+n[a]);var f=["type","name","title","alt"];for(a=0;a<f.length;a++)o=f[a],(i=c.getAttribute(o))&&u.push("["+o+'="'+i+'"]');return u.join("")}},function(t,e,n){"use strict";e.__esModule=!0,e.LinkContainer=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(0),a=f(i),c=f(n(4)),u=n(3);function f(t){return t&&t.__esModule?t:{default:t}}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var p=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},d=e.LinkContainer=function(t){function e(){var n,r;l(this,e);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return n=r=s(this,t.call.apply(t,[this].concat(i))),r.handleClick=function(t){var e=r.props,n=e.children,o=e.onClick;if(n.props.onClick&&n.props.onClick(t),o&&o(t),!t.defaultPrevented&&0===t.button&&!p(t)){t.preventDefault();var i=r.props,a=i.replace,c=i.to,u=i.history;a?u.replace(c):u.push(c)}},s(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.history,i=(e.location,e.match,e.staticContext,e.children),c=(e.replace,e.to),f=e.exact,l=e.strict,s=e.activeClassName,p=e.className,d=e.activeStyle,y=e.style,m=e.isActive,h=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(e,["history","location","match","staticContext","children","replace","to","exact","strict","activeClassName","className","activeStyle","style","isActive"]),v=n.createHref("string"==typeof c?{pathname:c}:c),b=a.default.Children.only(i);return a.default.createElement(u.Route,{path:"object"===(void 0===c?"undefined":o(c))?c.pathname:c,exact:f,strict:l,children:function(e){var n=e.location,o=e.match,i=!!(m?m(o,n):o);return a.default.cloneElement(b,r({},h,{className:[p,b.props.className,i?s:null].join(" ").trim(),style:i?r({},y,d):y,href:v,onClick:t.handleClick}))}})},e}(i.Component);d.propTypes={history:c.default.shape({push:c.default.func.isRequired,replace:c.default.func.isRequired,createHref:c.default.func.isRequired}).isRequired,location:c.default.object,match:c.default.object,staticContext:c.default.object,children:c.default.element.isRequired,onClick:c.default.func,replace:c.default.bool,to:c.default.oneOfType([c.default.string,c.default.object]).isRequired,exact:c.default.bool,strict:c.default.bool,className:c.default.string,activeClassName:c.default.string,style:c.default.object,activeStyle:c.default.object,isActive:c.default.func},d.defaultProps={replace:!1,exact:!1,strict:!1,activeClassName:"active"},e.default=(0,u.withRouter)(d)},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=Sentry.Integrations},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){o({ResponderEventPlugin:{extractEvents:function(t,e,n,r){try{if("click"!==t||!n||!r)return;for(var o=n,i=[];o;){var a="function"==typeof o.elementType&&o.elementType.displayName;a&&i.push(a),o=o.return}r.__lrName=i}catch(t){console.error("logrocket-react caught an error while hooking into React. Please make sure you are using the correct version of logrocket-react for your version of react-dom.")}}}})};var r=n(8),o=void 0,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;o=i&&i.Events&&i.Events[3]?i.Events[3]:function(){console.warn("logrocket-react does not work with this version of React")},t.exports=e.default},function(t,e,n){"use strict";e.__esModule=!0,e.LinkContainer=e.IndexLinkContainer=void 0;var r=i(n(27)),o=i(n(12));function i(t){return t&&t.__esModule?t:{default:t}}e.IndexLinkContainer=r.default,e.LinkContainer=o.default},function(t,e,n){"use strict";var r=n(29),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function u(t){return r.isMemo(t)?a:c[t.$$typeof]||o}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[r.Memo]=a;var f=Object.defineProperty,l=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,y=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(y){var o=d(n);o&&o!==y&&t(e,o,r)}var a=l(n);s&&(a=a.concat(s(n)));for(var c=u(e),m=u(n),h=0;h<a.length;++h){var v=a[h];if(!(i[v]||r&&r[v]||m&&m[v]||c&&c[v])){var b=p(n,v);try{f(e,v,b)}catch(t){}}}}return e}},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return l}));n(22);var r=n(11),o=n(2),i=n(21),a=n(20);n(5);function c(t){if(Object(o.b)(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}if(Object(o.c)(t)){var a=t,c={};c.type=a.type;try{c.target=Object(o.a)(a.target)?Object(r.a)(a.target):Object.prototype.toString.call(a.target)}catch(t){c.target="<unknown>"}try{c.currentTarget=Object(o.a)(a.currentTarget)?Object(r.a)(a.currentTarget):Object.prototype.toString.call(a.currentTarget)}catch(t){c.currentTarget="<unknown>"}for(var i in"undefined"!=typeof CustomEvent&&Object(o.d)(t,CustomEvent)&&(c.detail=a.detail),a)Object.prototype.hasOwnProperty.call(a,i)&&(c[i]=a);return c}return t}function u(e,n){return"domain"===n&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===n?"[DomainEmitter]":void 0!==t&&e===t?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":Object(o.i)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+Object(a.a)(e)+"]":e}function f(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new i.a),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=u(t);return Object(o.f)(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var a=u(e,t);if(Object(o.f)(a))return a;var l=c(e),s=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(s[p]=f(p,l[p],n-1,r));return r.unmemoize(e),s}function l(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return f(t,n,e)})))}catch(t){return"**non-serializable**"}}}).call(this,n(14))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));function r(t){try{return t&&"function"==typeof t&&t.name||"<anonymous>"}catch(t){return"<anonymous>"}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));function r(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}},,function(t,e,n){var r=n(25),o=n(26);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[t.i,o,""]]);var i={insert:"head",singleton:!1};r(o,i);t.exports=o.locals||{}},function(t,e,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),a=[];function c(t){for(var e=-1,n=0;n<a.length;n++)if(a[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],o=0;o<t.length;o++){var i=t[o],u=e.base?i[0]+e.base:i[0],f=n[u]||0,l="".concat(u," ").concat(f);n[u]=f+1;var s=c(l),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==s?(a[s].references++,a[s].updater(p)):a.push({identifier:l,updater:h(p,e),references:1}),r.push(l)}return r}function f(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var a=i(t.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(e)}return e}var l,s=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function p(t,e,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=s(e,o);else{var i=document.createTextNode(o),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(i,a[e]):t.appendChild(i)}}function d(t,e,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?t.setAttribute("media",o):t.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var y=null,m=0;function h(t,e){var n,r,o;if(e.singleton){var i=m++;n=y||(y=f(e)),r=p.bind(null,n,i,!1),o=p.bind(null,n,i,!0)}else n=f(e),r=d.bind(null,n,e),o=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=o());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var o=c(n[r]);a[o].references--}for(var i=u(t,e),f=0;f<n.length;f++){var l=c(n[f]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}n=i}}}},function(t,e,n){},function(t,e,n){"use strict";e.__esModule=!0,e.IndexLinkContainer=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=c(n(0)),i=n(3),a=c(n(12));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var l=e.IndexLinkContainer=function(t){function e(){return u(this,e),f(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.render=function(){return o.default.createElement(a.default,r({},this.props,{exact:!0}))},e}(o.default.Component);e.default=(0,i.withRouter)(l)},function(t,e){t.exports=ml5},function(t,e,n){"use strict";t.exports=n(30)},function(t,e,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,c=r?Symbol.for("react.strict_mode"):60108,u=r?Symbol.for("react.profiler"):60114,f=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,s=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,y=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,h=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,O=r?Symbol.for("react.scope"):60119;function j(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case o:switch(t=t.type){case s:case p:case a:case u:case c:case y:return t;default:switch(t=t&&t.$$typeof){case l:case d:case v:case h:case f:return t;default:return e}}case i:return e}}}function S(t){return j(t)===p}e.AsyncMode=s,e.ConcurrentMode=p,e.ContextConsumer=l,e.ContextProvider=f,e.Element=o,e.ForwardRef=d,e.Fragment=a,e.Lazy=v,e.Memo=h,e.Portal=i,e.Profiler=u,e.StrictMode=c,e.Suspense=y,e.isAsyncMode=function(t){return S(t)||j(t)===s},e.isConcurrentMode=S,e.isContextConsumer=function(t){return j(t)===l},e.isContextProvider=function(t){return j(t)===f},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===o},e.isForwardRef=function(t){return j(t)===d},e.isFragment=function(t){return j(t)===a},e.isLazy=function(t){return j(t)===v},e.isMemo=function(t){return j(t)===h},e.isPortal=function(t){return j(t)===i},e.isProfiler=function(t){return j(t)===u},e.isStrictMode=function(t){return j(t)===c},e.isSuspense=function(t){return j(t)===y},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===a||t===p||t===u||t===c||t===y||t===m||"object"==typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===h||t.$$typeof===f||t.$$typeof===l||t.$$typeof===d||t.$$typeof===g||t.$$typeof===w||t.$$typeof===O||t.$$typeof===b)},e.typeOf=j},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var u,f=[],l=!1,s=-1;function p(){l&&u&&(l=!1,u.length?f=u.concat(f):s=-1,f.length&&d())}function d(){if(!l){var t=c(p);l=!0;for(var e=f.length;e;){for(u=f,f=[];++s<e;)u&&u[s].run();s=-1,e=f.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new y(t,e)),1!==f.length||l||c(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(8),a=n(6),c=n(15),u=n(9),f=n.n(u),l=n(16),s=n.n(l),p=n(3);n(24);function d(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=d(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}var y=function(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=d(t))&&(r&&(r+=" "),r+=e);return r},m=function(){return console};function h(){return console}var v=n(1),b=function(t){var e=t.next;return h().info("[Widget] Hello"),o.a.createElement(p.Link,{to:e},o.a.createElement(v.Button,{variant:"outline-primary",size:"lg"},"start"))},g=n(17),w=n.p+"3941a1eab40276243332df676e06a013.ogg";function O(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return j(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return j(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S=m(),E=function(){S.info("[Widget] Player");var t=O(Object(r.useState)(!1),2),e=t[0],n=t[1];Object(r.useEffect)((function(){S.info("Changed playing: %s",e)}),[e]);var i=e?"playing...":"play reference";return o.a.createElement(v.Button,{variant:"outline-primary",size:"lg",disabled:e,onClick:function(){var t,e;n(!0),t=function(){return n(!1)},(e=new Audio(w)).onended=t,e.play()}},i)},x=function(t){var e=t.next;return o.a.createElement(v.ButtonGroup,null,o.a.createElement(E,null),o.a.createElement(g.LinkContainer,{to:e},o.a.createElement(v.Button,{variant:"outline-primary",size:"lg"},"start")))},_=n(4),C=n.n(_);function T(){return(T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function k(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var P=Object(r.forwardRef)((function(t,e){var n=t.color,r=t.size,i=k(t,["color","size"]);return o.a.createElement("svg",T({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o.a.createElement("path",{d:"M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.283.95l-3.523 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"}))}));P.propTypes={color:C.a.string,size:C.a.oneOfType([C.a.string,C.a.number])},P.defaultProps={color:"currentColor",size:"1em"};var A=P;function M(){return(M=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function R(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},i=Object.keys(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var N=Object(r.forwardRef)((function(t,e){var n=t.color,r=t.size,i=R(t,["color","size"]);return o.a.createElement("svg",M({ref:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:r,height:r,fill:n},i),o.a.createElement("path",{fillRule:"evenodd",d:"M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.523-3.356c.329-.314.158-.888-.283-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767l-3.686 1.894.694-3.957a.565.565 0 0 0-.163-.505L1.71 6.745l4.052-.576a.525.525 0 0 0 .393-.288l1.847-3.658 1.846 3.658a.525.525 0 0 0 .393.288l4.052.575-2.906 2.77a.564.564 0 0 0-.163.506l.694 3.957-3.686-1.894a.503.503 0 0 0-.461 0z"}))}));N.propTypes={color:C.a.string,size:C.a.oneOfType([C.a.string,C.a.number])},N.defaultProps={color:"currentColor",size:"1em"};var I=N;function $(t){for(var e=t.no,n=t.of,r=[],i=0;i<n;i+=1)r.push(i<=e?o.a.createElement(A,{key:i}):o.a.createElement(I,{key:i}));return o.a.createElement("div",{className:y("text-primary","display-3")},r)}var L=function(t,e){return t+e},z=function(t){var e,n=t.recording,r=t.reference,i=n.filter((function(t){return!!t})),a=i.map((function(t){return t.frequency-r.frequency})).reduce(L,0)/i.length,c=i.map((function(t){return Math.abs(t.note-r.note)})).reduce(L,0)/i.length;return e=c<=.5?5:c<=1?4:c<=2?3:c<=4?2:c<=7?1:0,o.a.createElement(v.Container,null,o.a.createElement(v.Row,null,o.a.createElement(v.Col,{className:"pb-3"},o.a.createElement($,{no:e,of:5}))),o.a.createElement(v.Row,null,o.a.createElement(v.Col,{className:y("col-md-6","offset-md-3")},o.a.createElement(v.Alert,{variant:"success"},"Received ",i.length," sample(s) averaging to ",a," from C",o.a.createElement("sub",null,"4"),"."))))},D=function(){var t=Object(p.useLocation)().state;return o.a.createElement(z,{recording:t.recording,reference:t.reference})},B=function(t,e){return(B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function F(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}var q=n(35),U=(n(18),{id:"Tracing"}),W=null;!function(t){function e(e){var n=t.call(this,e)||this;n._mountActivity=null,n._mountSpan=void 0;var r=n.props,o=r.name,i=r.disabled;if(void 0!==i&&i)return n;if(W||(W=Object(a.getCurrentHub)().getIntegration(U)))n._mountActivity=function(t,e){return null===W?null:W.constructor.pushActivity(t,{description:"<"+t+">",op:"react."+e})}(o,"mount");else{var c=H();c&&(n._mountSpan=c.startChild({description:"<"+o+">",op:"react.mount"}))}return n}(function(t,e){function n(){this.constructor=t}B(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)})(e,t),e.prototype.componentDidMount=function(){var t;this._mountSpan?this._mountSpan.finish():(this._mountSpan=function(t){if(null!==t&&null!==W)return W.constructor.getActivitySpan(t)}(this._mountActivity),null!==(t=this._mountActivity)&&null!==W&&W.constructor.popActivity(t),this._mountActivity=null)},e.prototype.componentDidUpdate=function(t){var e=this,n=t.updateProps,r=t.includeUpdates;if((void 0===r||r)&&this._mountSpan&&n!==this.props.updateProps){var o=Object.keys(n).filter((function(t){return n[t]!==e.props.updateProps[t]}));if(o.length>0){var i=Object(q.a)();this._mountSpan.startChild({data:{changedProps:o},description:"<"+this.props.name+">",endTimestamp:i,op:"react.update",startTimestamp:i})}}},e.prototype.componentWillUnmount=function(){var t=this.props,e=t.name,n=t.includeRender,r=void 0===n||n;this._mountSpan&&r&&this._mountSpan.startChild({description:"<"+e+">",endTimestamp:Object(q.a)(),op:"react.render",startTimestamp:this._mountSpan.endTimestamp})},e.prototype.render=function(){return this.props.children},e.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0}}(r.Component);function H(t){if(void 0===t&&(t=Object(a.getCurrentHub)()),t){var e=t.getScope();if(e)return e.getTransaction()}}n(28);var G=["A","B♭","B","C","C♯","D","D♯","E","F","F♯","G","G♯"],J=function(t){return 440*Math.pow((t-69)/12,2)},K=function(t){return 69+12*Math.log2(t/440)},V=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._freq=e,this.note=Math.round(K(e)),this.frequency=J(this.note),this.name=function(t){return G[(t-21)%12]}(this.note),this.octave=function(t){return Math.floor(t/12-1)}(this.note)},Y=function(t){if(null==t)return null;var e,n,r=new V(t);return{frequency:t,target:r,note:K(t),diff:(e=r.frequency,n=t,1200*Math.log2(n/e))}},Q=function(t){return this instanceof Q?(this.v=t,this):new Q(t)},X=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||c(t,e)}))})}function c(t,e){try{(n=o[t](e)).value instanceof Q?Promise.resolve(n.value.v).then(u,f):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function u(t){c("next",t)}function f(t){c("throw",t)}function l(t,e){t(e),i.shift(),i.length&&c(i[0][0],i[0][1])}},Z=m(),tt="https://cdn.jsdelivr.net/gh/ml5js/ml5-data-and-models/models/pitch-detection/crepe/";function et(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return nt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var rt=function(t){var e=et(Object(r.useState)(!1),2),n=e[0],o=e[1],i=et(Object(r.useState)(),2),a=i[0],c=i[1];return Object(r.useEffect)((function(){var e=!0;return t.generator.next().then((function(t){!t.done&&e&&(c(t.value||void 0),o(!n))})),function(){e=!1}}),[n]),Object(r.useEffect)((function(){t.onTick&&a&&t.onTick(a)}),[a]),"function"==typeof t.children?t.children(a):t.children};function ot(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return it(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return it(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var at=m();function ct(t){var e=t.pitchGenerator,n=t.timeoutMs,i=t.onFinish,a=ot(Object(r.useState)([]),2),c=a[0],u=a[1],f=ot(Object(r.useState)(!1),2),l=f[0],s=f[1],p=ot(Object(r.useState)(!1),2),d=p[0],y=p[1],m=ot(Object(r.useState)(0),2),h=m[0],b=m[1];new Audio(w).play(),Object(r.useEffect)((function(){if(!l)return function(){};at.info("Setting up the timeout.");var t=setTimeout((function(){y(!0),s(!1)}),n);return at.info("Set up timer %d for %d ms.",t,n),function(){at.info("Clearing out the timeout %d.",t),clearTimeout(t)}}),[l]),Object(r.useEffect)((function(){if(!l)return function(){};b(n/1e3),at.info("Setting the interval with countdown %d.",n);var t=setInterval((function(){return b((function(t){return t-1}))}),1e3);return function(){at.info("Clearing out the interval %d.",t),clearInterval(t)}}),[l]),Object(r.useEffect)((function(){d&&(at.info("Finishing recording."),i(c))}),[d,c]);var g=l?o.a.createElement(v.Button,{variant:"outline-primary",disabled:!0},o.a.createElement(v.Spinner,{as:"span",animation:"grow",role:"status","aria-hidden":"true",size:"sm",className:"mr-2",variant:"danger"}),h,"..."):o.a.createElement("h3",{className:"text-info"},"start singing!");return e?o.a.createElement(rt,{generator:e,onTick:function(t){var e=c.concat([t]);u(e),l||s(!0)}},g):o.a.createElement(v.Spinner,{animation:"border",variant:"primary"})}function ut(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(r=(a=c.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ft(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ft(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ft(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var lt=m();var st=function(t){var e=t.next;lt.info("[Widget] Recorder"),function(t,e){void 0===e&&(e={disabled:!1,hasRenderSpan:!0});var n=F(r.useState((function(){if(!e||!e.disabled){var n=H();return n?n.startChild({description:"<"+t+">",op:"react.mount"}):void 0}})),1)[0];r.useEffect((function(){return n&&n.finish(),function(){n&&e.hasRenderSpan&&n.startChild({description:"<"+t+">",endTimestamp:Object(q.a)(),op:"react.render",startTimestamp:n.endTimestamp})}}),[])}("PitchDetection");var n=window.AudioContext||window.webkitAudioContext,i=ut(Object(r.useState)(new n),1)[0],a=ut(Object(r.useState)(),2),c=a[0],u=a[1],f=ut(Object(r.useState)(),2),l=f[0],s=f[1],d=function(){var t=ut(Object(r.useState)(),2),e=t[0],n=t[1],o=h();return Object(r.useEffect)((function(){o.info("Acquiring microphone."),navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then((function(t){o.debug("Microphone initialized with stream: %j, active?, %s, state: %s.",t,t.active,t.getAudioTracks()[0].readyState),n(t)}))}),[]),e}();if(Object(r.useEffect)((function(){if(void 0===d)return function(){};lt.info("Setting up the context in state %j and stream %j",i.state,d.id);var t=i.createMediaStreamSource(d);return lt.info("Media stream source created.",t),u(function(t,e){return X(this,arguments,regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=ml5.pitchDetection(tt,t,e),Z.info("Created pitch detection.",r),n.next=4,Q(r.ready);case 4:Z.info("Initialized the model.");case 5:if(!e.active||"running"!==t.state){n.next=19;break}return n.next=8,Q(r.getPitch());case 8:if(null!==(o=n.sent)){n.next=13;break}Z.debug("Skipping"),n.next=17;break;case 13:return n.next=15,Q(Y(o));case 15:return n.next=17,n.sent;case 17:n.next=5;break;case 19:case"end":return n.stop()}}),n)})))}(i,d)),i.resume(),function(){lt.info("Cleanup the audio settings"),lt.debug("Stop all tracks in the stream %j.",d),null==d||d.getTracks().forEach((function(t){return t.stop()})),lt.debug("Suspend audio context %j.",i),i.suspend()}}),[d]),void 0!==l){var y=Y(J(60));return o.a.createElement(p.Redirect,{to:{pathname:e,state:{recording:l,reference:y}}})}return c?o.a.createElement(ct,{onFinish:function(t){s(t)},pitchGenerator:c,timeoutMs:5e3}):o.a.createElement(v.Spinner,{animation:"border",variant:"primary"})},pt=m(),dt=function(){return pt.info("Starting app."),o.a.createElement(v.Container,null,o.a.createElement("header",{className:y("text-center","mt-5")},o.a.createElement("h1",{className:y("display-1","text-primary","title")},"vocally"),o.a.createElement("h2",{className:"text-secondary"},"how clean can you sing?")),o.a.createElement("main",{className:y("text-center","py-5"),role:"main"},o.a.createElement(p.BrowserRouter,null,o.a.createElement(p.Switch,null,o.a.createElement(p.Route,{path:"/preview"},o.a.createElement(x,{next:"/record"})),o.a.createElement(p.Route,{path:"/record"},o.a.createElement(st,{next:"/summary"})),o.a.createElement(p.Route,{path:"/summary"},o.a.createElement(D,null)),o.a.createElement(p.Route,{path:"/"},o.a.createElement(b,{next:"/preview"}))))),o.a.createElement("footer",{className:y("py-3","border-top","text-muted")},o.a.createElement(v.Container,null,o.a.createElement("p",null,"vocally.app 2020"))))};a.init({dsn:"https://ffe439ac65b84889a37518037a23a7b1@o433557.ingest.sentry.io/5388917",release:"testing",environment:"testing",integrations:[new c.CaptureConsole({levels:["info"]}),new a.Integrations.BrowserTracing]}),f.a.init("6ayqi7/vocallytest",{release:"testing"}),s()(f.a),i.render(r.createElement(dt,null),document.getElementById("app"))},,,function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return u}));var r=n(10),o=n(7),i={nowSeconds:function(){return Date.now()/1e3}};var a=Object(o.b)()?function(){try{return Object(o.a)(t,"perf_hooks").performance}catch(t){return}}():function(){var t=Object(r.a)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),c=void 0===a?i:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},u=(i.nowSeconds.bind(i),c.nowSeconds.bind(c));!function(){var t=Object(r.a)().performance;if(t)t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()}()}).call(this,n(13)(t))}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RcIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdEJvb3RzdHJhcFwiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3V0aWxzL2VzbS9pcy5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdFJvdXRlckRPTVwiIiwid2VicGFjazovLy9leHRlcm5hbCBcIlByb3BUeXBlc1wiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3V0aWxzL2VzbS9zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiU2VudHJ5XCIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdXRpbHMvZXNtL25vZGUuanMiLCJ3ZWJwYWNrOi8vL2V4dGVybmFsIFwiUmVhY3RET01cIiIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJMb2dSb2NrZXRcIiIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vbWlzYy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWJvb3RzdHJhcC9saWIvTGlua0NvbnRhaW5lci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vaGFybW9ueS1tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJTZW50cnkuSW50ZWdyYXRpb25zXCIiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZ3JvY2tldC1yZWFjdC9kaXN0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1yb3V0ZXItYm9vdHN0cmFwL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaG9pc3Qtbm9uLXJlYWN0LXN0YXRpY3MvZGlzdC9ob2lzdC1ub24tcmVhY3Qtc3RhdGljcy5janMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BzZW50cnkvdXRpbHMvZXNtL29iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vc3RhY2t0cmFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vbWVtby5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovLy8uL3NyYy9BcHAuY3NzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3Qtcm91dGVyLWJvb3RzdHJhcC9saWIvSW5kZXhMaW5rQ29udGFpbmVyLmpzIiwid2VicGFjazovLy9leHRlcm5hbCBcIm1sNVwiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yZWFjdC1pcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtaXMvY2pzL3JlYWN0LWlzLnByb2R1Y3Rpb24ubWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jbHN4L2Rpc3QvY2xzeC5tLmpzIiwid2VicGFjazovLy8uL3NyYy9sb2cudGVzdGluZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvSGVsbG8udHN4Iiwid2VicGFjazovLy8uL2Fzc2V0cy9hdWRpby9jNC5vZ2ciLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUGxheWVyLnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvUHJldmlldy50c3giLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JlYWN0LWJvb3RzdHJhcC1pY29ucy9kaXN0L2ljb25zL3N0YXItZmlsbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtYm9vdHN0cmFwLWljb25zL2Rpc3QvaWNvbnMvc3Rhci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tcG9uZW50cy9TdW1tYXJ5LnRzeCIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvUmVzdWx0LnRzeCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNlbnRyeS9yZWFjdC9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9Ac2VudHJ5L3JlYWN0L2VzbS9wcm9maWxlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcGl0Y2gvbm90ZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BpdGNoL3BpdGNoLnRzIiwid2VicGFjazovLy8uL3NyYy9jb21wb25lbnRzL0dlbmVyYXRvckNvbXBvbmVudC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUGl0Y2hSZWNvcmRlci50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbXBvbmVudHMvUGl0Y2hEZXRlY3Rpb24udHN4Iiwid2VicGFjazovLy8uL3NyYy9BcHAudHN4Iiwid2VicGFjazovLy8uL3NyYy9pbml0LnRlc3RpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzeCIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHNlbnRyeS91dGlscy9lc20vdGltZS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlJlYWN0IiwiUmVhY3RCb290c3RyYXAiLCJpc0Vycm9yIiwid2F0IiwidG9TdHJpbmciLCJpc0luc3RhbmNlT2YiLCJFcnJvciIsImlzU3RyaW5nIiwiaXNQcmltaXRpdmUiLCJpc1BsYWluT2JqZWN0IiwiaXNFdmVudCIsIkV2ZW50IiwiaXNFbGVtZW50IiwiRWxlbWVudCIsImlzUmVnRXhwIiwiaXNTeW50aGV0aWNFdmVudCIsImJhc2UiLCJfZSIsIlJlYWN0Um91dGVyRE9NIiwiUHJvcFR5cGVzIiwidHJ1bmNhdGUiLCJzdHIiLCJtYXgiLCJsZW5ndGgiLCJzdWJzdHIiLCJzbmlwTGluZSIsImxpbmUiLCJjb2xubyIsIm5ld0xpbmUiLCJsbCIsInN0YXJ0IiwiTWF0aCIsImVuZCIsIm1pbiIsInNsaWNlIiwiU2VudHJ5IiwiaXNOb2RlRW52IiwicHJvY2VzcyIsImR5bmFtaWNSZXF1aXJlIiwibW9kIiwicmVxdWVzdCIsInJlcXVpcmUiLCJSZWFjdERPTSIsIkxvZ1JvY2tldCIsImZhbGxiYWNrR2xvYmFsT2JqZWN0IiwiZ2V0R2xvYmFsT2JqZWN0IiwiZ2xvYmFsIiwid2luZG93Iiwic2VsZiIsImh0bWxUcmVlQXNTdHJpbmciLCJlbGVtIiwiY3VycmVudEVsZW0iLCJvdXQiLCJoZWlnaHQiLCJsZW4iLCJzZXBMZW5ndGgiLCJuZXh0U3RyIiwiX2h0bWxFbGVtZW50QXNTdHJpbmciLCJwdXNoIiwicGFyZW50Tm9kZSIsInJldmVyc2UiLCJqb2luIiwiX29PIiwiZWwiLCJjbGFzc05hbWUiLCJjbGFzc2VzIiwiYXR0ciIsInRhZ05hbWUiLCJ0b0xvd2VyQ2FzZSIsImlkIiwic3BsaXQiLCJhbGxvd2VkQXR0cnMiLCJnZXRBdHRyaWJ1dGUiLCJMaW5rQ29udGFpbmVyIiwidW5kZWZpbmVkIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJzb3VyY2UiLCJfdHlwZW9mIiwiaXRlcmF0b3IiLCJvYmoiLCJjb25zdHJ1Y3RvciIsIl9yZWFjdCIsIl9yZWFjdDIiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwiX3Byb3BUeXBlczIiLCJfcmVhY3RSb3V0ZXJEb20iLCJkZWZhdWx0IiwiX2NsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsIl9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIiwiUmVmZXJlbmNlRXJyb3IiLCJpc01vZGlmaWVkRXZlbnQiLCJldmVudCIsIm1ldGFLZXkiLCJhbHRLZXkiLCJjdHJsS2V5Iiwic2hpZnRLZXkiLCJfQ29tcG9uZW50IiwiX3RlbXAiLCJfdGhpcyIsInRoaXMiLCJfbGVuIiwiYXJncyIsIkFycmF5IiwiX2tleSIsImFwcGx5IiwiY29uY2F0IiwiaGFuZGxlQ2xpY2siLCJfdGhpcyRwcm9wcyIsInByb3BzIiwiY2hpbGRyZW4iLCJvbkNsaWNrIiwiZGVmYXVsdFByZXZlbnRlZCIsImJ1dHRvbiIsInByZXZlbnREZWZhdWx0IiwiX3RoaXMkcHJvcHMyIiwicmVwbGFjZSIsInRvIiwiaGlzdG9yeSIsInN1YkNsYXNzIiwic3VwZXJDbGFzcyIsIndyaXRhYmxlIiwiY29uZmlndXJhYmxlIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfaW5oZXJpdHMiLCJyZW5kZXIiLCJfdGhpczIiLCJfcHJvcHMiLCJsb2NhdGlvbiIsIm1hdGNoIiwic3RhdGljQ29udGV4dCIsImV4YWN0Iiwic3RyaWN0IiwiYWN0aXZlQ2xhc3NOYW1lIiwiYWN0aXZlU3R5bGUiLCJzdHlsZSIsImdldElzQWN0aXZlIiwiaXNBY3RpdmUiLCJrZXlzIiwiaW5kZXhPZiIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsImhyZWYiLCJjcmVhdGVIcmVmIiwicGF0aG5hbWUiLCJjaGlsZCIsIkNoaWxkcmVuIiwib25seSIsImNyZWF0ZUVsZW1lbnQiLCJSb3V0ZSIsInBhdGgiLCJfcmVmIiwiY2xvbmVFbGVtZW50IiwidHJpbSIsIkNvbXBvbmVudCIsInByb3BUeXBlcyIsInNoYXBlIiwiZnVuYyIsImlzUmVxdWlyZWQiLCJlbGVtZW50IiwiYm9vbCIsIm9uZU9mVHlwZSIsInN0cmluZyIsImRlZmF1bHRQcm9wcyIsIndpdGhSb3V0ZXIiLCJvcmlnaW5hbE1vZHVsZSIsIndlYnBhY2tQb2x5ZmlsbCIsImciLCJGdW5jdGlvbiIsImUiLCJJbnRlZ3JhdGlvbnMiLCJpbmplY3RFdmVudFBsdWdpbnNCeU5hbWUiLCJSZXNwb25kZXJFdmVudFBsdWdpbiIsImV4dHJhY3RFdmVudHMiLCJ0b3BMZXZlbFR5cGUiLCJ0YXJnZXRJbnN0IiwiZmliZXJOb2RlIiwibmF0aXZlRXZlbnQiLCJjdXJyZW50RWxlbWVudCIsIm5hbWVzIiwiZWxlbWVudFR5cGUiLCJkaXNwbGF5TmFtZSIsInJldHVybiIsIl9fbHJOYW1lIiwiZXJyb3IiLCJjb25zb2xlIiwiX3JlYWN0RG9tIiwic2VjcmV0IiwiX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQiLCJFdmVudHMiLCJ3YXJuIiwiSW5kZXhMaW5rQ29udGFpbmVyIiwiX0luZGV4TGlua0NvbnRhaW5lcjMiLCJfTGlua0NvbnRhaW5lcjMiLCJyZWFjdElzIiwiUkVBQ1RfU1RBVElDUyIsImNoaWxkQ29udGV4dFR5cGVzIiwiY29udGV4dFR5cGUiLCJjb250ZXh0VHlwZXMiLCJnZXREZWZhdWx0UHJvcHMiLCJnZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IiLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJtaXhpbnMiLCJ0eXBlIiwiS05PV05fU1RBVElDUyIsImNhbGxlciIsImNhbGxlZSIsImFyaXR5IiwiTUVNT19TVEFUSUNTIiwiY29tcGFyZSIsIlRZUEVfU1RBVElDUyIsImdldFN0YXRpY3MiLCJjb21wb25lbnQiLCJpc01lbW8iLCJGb3J3YXJkUmVmIiwiTWVtbyIsImdldE93blByb3BlcnR5TmFtZXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJnZXRQcm90b3R5cGVPZiIsIm9iamVjdFByb3RvdHlwZSIsImhvaXN0Tm9uUmVhY3RTdGF0aWNzIiwidGFyZ2V0Q29tcG9uZW50Iiwic291cmNlQ29tcG9uZW50IiwiYmxhY2tsaXN0IiwiaW5oZXJpdGVkQ29tcG9uZW50IiwidGFyZ2V0U3RhdGljcyIsInNvdXJjZVN0YXRpY3MiLCJkZXNjcmlwdG9yIiwiZ2V0V2Fsa1NvdXJjZSIsImVyciIsIm1lc3NhZ2UiLCJzdGFjayIsImV2ZW50XzEiLCJjdXJyZW50VGFyZ2V0IiwiQ3VzdG9tRXZlbnQiLCJkZXRhaWwiLCJub3JtYWxpemVWYWx1ZSIsIl9ldmVudHMiLCJkb2N1bWVudCIsIndhbGsiLCJkZXB0aCIsIm1lbW8iLCJJbmZpbml0eSIsIm5vcm1hbGl6ZWQiLCJzZXJpYWxpemVWYWx1ZSIsInRvSlNPTiIsImFjYyIsImlzQXJyYXkiLCJtZW1vaXplIiwiaW5uZXJLZXkiLCJ1bm1lbW9pemUiLCJub3JtYWxpemUiLCJpbnB1dCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImdldEZ1bmN0aW9uTmFtZSIsImZuIiwiX2hhc1dlYWtTZXQiLCJXZWFrU2V0IiwiX2lubmVyIiwiaGFzIiwiYWRkIiwiZGVsZXRlIiwic3BsaWNlIiwiX192YWx1ZXMiLCJuZXh0IiwiZG9uZSIsImFwaSIsImNvbnRlbnQiLCJvcHRpb25zIiwibG9jYWxzIiwiaXNPbGRJRSIsIkJvb2xlYW4iLCJhbGwiLCJhdG9iIiwiZ2V0VGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJxdWVyeVNlbGVjdG9yIiwiSFRNTElGcmFtZUVsZW1lbnQiLCJjb250ZW50RG9jdW1lbnQiLCJoZWFkIiwic3R5bGVzSW5Eb20iLCJnZXRJbmRleEJ5SWRlbnRpZmllciIsImlkZW50aWZpZXIiLCJyZXN1bHQiLCJtb2R1bGVzVG9Eb20iLCJsaXN0IiwiaWRDb3VudE1hcCIsImlkZW50aWZpZXJzIiwiaXRlbSIsImNvdW50IiwiaW5kZXgiLCJjc3MiLCJtZWRpYSIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkU3R5bGUiLCJpbnNlcnRTdHlsZUVsZW1lbnQiLCJhdHRyaWJ1dGVzIiwibm9uY2UiLCJmb3JFYWNoIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0IiwiYXBwZW5kQ2hpbGQiLCJ0ZXh0U3RvcmUiLCJyZXBsYWNlVGV4dCIsInJlcGxhY2VtZW50IiwiZmlsdGVyIiwiYXBwbHlUb1NpbmdsZXRvblRhZyIsInJlbW92ZSIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiY3NzTm9kZSIsImNyZWF0ZVRleHROb2RlIiwiY2hpbGROb2RlcyIsInJlbW92ZUNoaWxkIiwiaW5zZXJ0QmVmb3JlIiwiYXBwbHlUb1RhZyIsInJlbW92ZUF0dHJpYnV0ZSIsImJ0b2EiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImZpcnN0Q2hpbGQiLCJzaW5nbGV0b24iLCJzaW5nbGV0b25Db3VudGVyIiwidXBkYXRlIiwic3R5bGVJbmRleCIsInJlbW92ZVN0eWxlRWxlbWVudCIsIm5ld09iaiIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJuZXdMYXN0SWRlbnRpZmllcnMiLCJfaSIsIl9pbmRleCIsIl9MaW5rQ29udGFpbmVyMiIsIl9SZWFjdCRDb21wb25lbnQiLCJtbDUiLCJiIiwiZm9yIiwiZiIsImgiLCJrIiwicSIsInYiLCJ3IiwieCIsInkiLCJ6IiwiYSIsInUiLCIkJHR5cGVvZiIsIkEiLCJBc3luY01vZGUiLCJDb25jdXJyZW50TW9kZSIsIkNvbnRleHRDb25zdW1lciIsIkNvbnRleHRQcm92aWRlciIsIkZyYWdtZW50IiwiTGF6eSIsIlBvcnRhbCIsIlByb2ZpbGVyIiwiU3RyaWN0TW9kZSIsIlN1c3BlbnNlIiwiaXNBc3luY01vZGUiLCJpc0NvbmN1cnJlbnRNb2RlIiwiaXNDb250ZXh0Q29uc3VtZXIiLCJpc0NvbnRleHRQcm92aWRlciIsImlzRm9yd2FyZFJlZiIsImlzRnJhZ21lbnQiLCJpc0xhenkiLCJpc1BvcnRhbCIsImlzUHJvZmlsZXIiLCJpc1N0cmljdE1vZGUiLCJpc1N1c3BlbnNlIiwiaXNWYWxpZEVsZW1lbnRUeXBlIiwidHlwZU9mIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImZ1biIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwidG9WYWwiLCJtaXgiLCJ0bXAiLCJ1c2VMb2dnZXIiLCJpbmZvIiwidmFyaWFudCIsInNpemUiLCJpc1BsYXlpbmciLCJzZXRJc1BsYXlpbmciLCJkaXNhYmxlZCIsIm9uRW5kIiwiYXVkaW8iLCJBdWRpbyIsIm9uZW5kZWQiLCJwbGF5IiwiZXhjbHVkZWQiLCJzb3VyY2VLZXlzIiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJzb3VyY2VTeW1ib2xLZXlzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJTdGFyRmlsbCIsInJlZiIsImNvbG9yIiwicmVzdCIsInhtbG5zIiwidmlld0JveCIsIndpZHRoIiwiZmlsbCIsIm51bWJlciIsIlN0YXIiLCJmaWxsUnVsZSIsIlJhdGluZyIsIm5vIiwib2YiLCJzdGFycyIsInN1bSIsInN0YXJDb3VudCIsInJlY29yZGluZyIsInJlZmVyZW5jZSIsIm5vbkVtcHR5IiwiZnJlcVJlc3VsdCIsIm1hcCIsImZyZXF1ZW5jeSIsInJlZHVjZSIsIm1pZGlSZXN1bHQiLCJhYnMiLCJub3RlIiwic3RhdGUiLCJTdW1tYXJ5IiwiZXh0ZW5kU3RhdGljcyIsIl9fcmVhZCIsImFyIiwiVFJBQ0lOR19HRVRURVIiLCJnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb24iLCJfc3VwZXIiLCJfbW91bnRBY3Rpdml0eSIsIl9tb3VudFNwYW4iLCJfYSIsIl9iIiwiZ2V0SW50ZWdyYXRpb24iLCJvcCIsInB1c2hBY3Rpdml0eSIsImRlc2NyaXB0aW9uIiwiYWN0aXZlVHJhbnNhY3Rpb24iLCJnZXRBY3RpdmVUcmFuc2FjdGlvbiIsInN0YXJ0Q2hpbGQiLCJfXyIsIl9fZXh0ZW5kcyIsImNvbXBvbmVudERpZE1vdW50IiwiYWN0aXZpdHkiLCJmaW5pc2giLCJnZXRBY3Rpdml0eVNwYW4iLCJwb3BBY3Rpdml0eSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInVwZGF0ZVByb3BzIiwiaW5jbHVkZVVwZGF0ZXMiLCJjaGFuZ2VkUHJvcHMiLCJub3ciLCJ0aW1lIiwiZGF0YSIsImVuZFRpbWVzdGFtcCIsInN0YXJ0VGltZXN0YW1wIiwiY29tcG9uZW50V2lsbFVubW91bnQiLCJpbmNsdWRlUmVuZGVyIiwiaHViIiwic2NvcGUiLCJnZXRTY29wZSIsImdldFRyYW5zYWN0aW9uIiwibm90ZXMiLCJub3RlVG9GcmVxIiwiZnJlcVRvTm90ZSIsImZyZXEiLCJsb2cyIiwiTm90ZSIsIl9mcmVxIiwicm91bmQiLCJvY3RhdmUiLCJmbG9vciIsImRpZmYiLCJNT0RFTF9VUkwiLCJmbGFnIiwic2V0RmxhZyIsImN1cnJlbnRWYWx1ZSIsInNldEN1cnJlbnRWYWx1ZSIsIm1vdW50ZWQiLCJnZW5lcmF0b3IiLCJ0aGVuIiwib25UaWNrIiwiUGl0Y2hSZWNvcmRlciIsInBpdGNoR2VuZXJhdG9yIiwidGltZW91dE1zIiwib25GaW5pc2giLCJzZXRSZWNvcmRpbmciLCJzdGFydGVkIiwic2V0U3RhcnRlZCIsImZpbmlzaGVkIiwic2V0RmluaXNoZWQiLCJjb3VudGRvd24iLCJzZXRDb3VudGRvd24iLCJpbnRlcnZhbCIsInNldEludGVydmFsIiwicHJldiIsImNsZWFySW50ZXJ2YWwiLCJsYWJlbCIsImFzIiwiYW5pbWF0aW9uIiwicm9sZSIsIm5ld1JlY29yZGluZyIsImhhc1JlbmRlclNwYW4iLCJtb3VudFNwYW4iLCJBdWRpb0N0eCIsIkF1ZGlvQ29udGV4dCIsIndlYmtpdEF1ZGlvQ29udGV4dCIsImF1ZGlvQ29udGV4dCIsInBpdGNoRGV0ZWN0aW9uR2VuZXJhdG9yIiwic2V0UGl0Y2hEZXRlY3Rpb25HZW5lcmF0b3IiLCJzdHJlYW0iLCJzZXRTdHJlYW0iLCJsb2dnZXIiLCJuYXZpZ2F0b3IiLCJtZWRpYURldmljZXMiLCJnZXRVc2VyTWVkaWEiLCJ2aWRlbyIsIm5ld1N0cmVhbSIsImRlYnVnIiwiYWN0aXZlIiwiZ2V0QXVkaW9UcmFja3MiLCJyZWFkeVN0YXRlIiwidXNlTWljcm9waG9uZSIsIm5vZGUiLCJjcmVhdGVNZWRpYVN0cmVhbVNvdXJjZSIsImN0eCIsInBpdGNoRGV0ZWN0aW9uIiwicmVhZHkiLCJnZXRQaXRjaCIsInBpdGNoIiwibWw1UGl0Y2hEZXRlY3Rpb24iLCJyZXN1bWUiLCJnZXRUcmFja3MiLCJzdG9wIiwic3VzcGVuZCIsInJlZmVyZW5jZVBpdGNoIiwiUHJldmlldyIsIlJlc3VsdCIsImRzbiIsInJlbGVhc2UiLCJlbnZpcm9ubWVudCIsImludGVncmF0aW9ucyIsImxldmVscyIsIkJyb3dzZXJUcmFjaW5nIiwiaW5pdCIsImdldEVsZW1lbnRCeUlkIiwiZGF0ZVRpbWVzdGFtcFNvdXJjZSIsIm5vd1NlY29uZHMiLCJEYXRlIiwicGxhdGZvcm1QZXJmb3JtYW5jZSIsInBlcmZvcm1hbmNlIiwiXyIsImdldE5vZGVQZXJmb3JtYW5jZSIsInRpbWVPcmlnaW4iLCJnZXRCcm93c2VyUGVyZm9ybWFuY2UiLCJ0aW1lc3RhbXBTb3VyY2UiLCJ0aW1lc3RhbXBXaXRoTXMiLCJ0aW1pbmciLCJuYXZpZ2F0aW9uU3RhcnQiXSwibWFwcGluZ3MiOiJhQUNFLElBQUlBLEVBQW1CLEdBR3ZCLFNBQVNDLEVBQW9CQyxHQUc1QixHQUFHRixFQUFpQkUsR0FDbkIsT0FBT0YsRUFBaUJFLEdBQVVDLFFBR25DLElBQUlDLEVBQVNKLEVBQWlCRSxHQUFZLENBQ3pDRyxFQUFHSCxFQUNISSxHQUFHLEVBQ0hILFFBQVMsSUFVVixPQU5BSSxFQUFRTCxHQUFVTSxLQUFLSixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTRixHQUcvREcsRUFBT0UsR0FBSSxFQUdKRixFQUFPRCxRQUtmRixFQUFvQlEsRUFBSUYsRUFHeEJOLEVBQW9CUyxFQUFJVixFQUd4QkMsRUFBb0JVLEVBQUksU0FBU1IsRUFBU1MsRUFBTUMsR0FDM0NaLEVBQW9CYSxFQUFFWCxFQUFTUyxJQUNsQ0csT0FBT0MsZUFBZWIsRUFBU1MsRUFBTSxDQUFFSyxZQUFZLEVBQU1DLElBQUtMLEtBS2hFWixFQUFvQmtCLEVBQUksU0FBU2hCLEdBQ1gsb0JBQVhpQixRQUEwQkEsT0FBT0MsYUFDMUNOLE9BQU9DLGVBQWViLEVBQVNpQixPQUFPQyxZQUFhLENBQUVDLE1BQU8sV0FFN0RQLE9BQU9DLGVBQWViLEVBQVMsYUFBYyxDQUFFbUIsT0FBTyxLQVF2RHJCLEVBQW9Cc0IsRUFBSSxTQUFTRCxFQUFPRSxHQUV2QyxHQURVLEVBQVBBLElBQVVGLEVBQVFyQixFQUFvQnFCLElBQy9CLEVBQVBFLEVBQVUsT0FB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V0FDTEgsRUFBWUcsV0FRZkgsRUFBWU8sUUFBVVAsRUFBWU8sT0FBT0MsaUJBQW9CVixLQUFLakcsTUFkcEMsSyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMyKTtcbiIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7IiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdEJvb3RzdHJhcDsiLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzICovXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBvbmUgb2YgYSBmZXcgRXJyb3Igb3IgRXJyb3ItbGlrZVxuICoge0BsaW5rIGlzRXJyb3J9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFcnJvcih3YXQpIHtcbiAgICBzd2l0Y2ggKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3YXQpKSB7XG4gICAgICAgIGNhc2UgJ1tvYmplY3QgRXJyb3JdJzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBjYXNlICdbb2JqZWN0IEV4Y2VwdGlvbl0nOlxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIGNhc2UgJ1tvYmplY3QgRE9NRXhjZXB0aW9uXSc6XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBpc0luc3RhbmNlT2Yod2F0LCBFcnJvcik7XG4gICAgfVxufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgRXJyb3JFdmVudFxuICoge0BsaW5rIGlzRXJyb3JFdmVudH0uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Vycm9yRXZlbnQod2F0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3YXQpID09PSAnW29iamVjdCBFcnJvckV2ZW50XSc7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBET01FcnJvclxuICoge0BsaW5rIGlzRE9NRXJyb3J9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNET01FcnJvcih3YXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdhdCkgPT09ICdbb2JqZWN0IERPTUVycm9yXSc7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBET01FeGNlcHRpb25cbiAqIHtAbGluayBpc0RPTUV4Y2VwdGlvbn0uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0RPTUV4Y2VwdGlvbih3YXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdhdCkgPT09ICdbb2JqZWN0IERPTUV4Y2VwdGlvbl0nO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYSBzdHJpbmdcbiAqIHtAbGluayBpc1N0cmluZ30uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1N0cmluZyh3YXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdhdCkgPT09ICdbb2JqZWN0IFN0cmluZ10nO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIGlzIGEgcHJpbWl0aXZlICh1bmRlZmluZWQsIG51bGwsIG51bWJlciwgYm9vbGVhbiwgc3RyaW5nKVxuICoge0BsaW5rIGlzUHJpbWl0aXZlfS5cbiAqXG4gKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC5cbiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUHJpbWl0aXZlKHdhdCkge1xuICAgIHJldHVybiB3YXQgPT09IG51bGwgfHwgKHR5cGVvZiB3YXQgIT09ICdvYmplY3QnICYmIHR5cGVvZiB3YXQgIT09ICdmdW5jdGlvbicpO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSdzIHR5cGUgaXMgYW4gb2JqZWN0IGxpdGVyYWxcbiAqIHtAbGluayBpc1BsYWluT2JqZWN0fS5cbiAqXG4gKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC5cbiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzUGxhaW5PYmplY3Qod2F0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh3YXQpID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGFuIEV2ZW50IGluc3RhbmNlXG4gKiB7QGxpbmsgaXNFdmVudH0uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0V2ZW50KHdhdCkge1xuICAgIHJldHVybiB0eXBlb2YgRXZlbnQgIT09ICd1bmRlZmluZWQnICYmIGlzSW5zdGFuY2VPZih3YXQsIEV2ZW50KTtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGFuIEVsZW1lbnQgaW5zdGFuY2VcbiAqIHtAbGluayBpc0VsZW1lbnR9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHJldHVybnMgQSBib29sZWFuIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50KHdhdCkge1xuICAgIHJldHVybiB0eXBlb2YgRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgaXNJbnN0YW5jZU9mKHdhdCwgRWxlbWVudCk7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhbiByZWdleHBcbiAqIHtAbGluayBpc1JlZ0V4cH0uXG4gKlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1JlZ0V4cCh3YXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHdhdCkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBnaXZlbiB2YWx1ZSBoYXMgYSB0aGVuIGZ1bmN0aW9uLlxuICogQHBhcmFtIHdhdCBBIHZhbHVlIHRvIGJlIGNoZWNrZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1RoZW5hYmxlKHdhdCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICByZXR1cm4gQm9vbGVhbih3YXQgJiYgd2F0LnRoZW4gJiYgdHlwZW9mIHdhdC50aGVuID09PSAnZnVuY3Rpb24nKTtcbn1cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgZ2l2ZW4gdmFsdWUncyB0eXBlIGlzIGEgU3ludGhldGljRXZlbnRcbiAqIHtAbGluayBpc1N5bnRoZXRpY0V2ZW50fS5cbiAqXG4gKiBAcGFyYW0gd2F0IEEgdmFsdWUgdG8gYmUgY2hlY2tlZC5cbiAqIEByZXR1cm5zIEEgYm9vbGVhbiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzU3ludGhldGljRXZlbnQod2F0KSB7XG4gICAgcmV0dXJuIGlzUGxhaW5PYmplY3Qod2F0KSAmJiAnbmF0aXZlRXZlbnQnIGluIHdhdCAmJiAncHJldmVudERlZmF1bHQnIGluIHdhdCAmJiAnc3RvcFByb3BhZ2F0aW9uJyBpbiB3YXQ7XG59XG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGdpdmVuIHZhbHVlJ3MgdHlwZSBpcyBhbiBpbnN0YW5jZSBvZiBwcm92aWRlZCBjb25zdHJ1Y3Rvci5cbiAqIHtAbGluayBpc0luc3RhbmNlT2Z9LlxuICpcbiAqIEBwYXJhbSB3YXQgQSB2YWx1ZSB0byBiZSBjaGVja2VkLlxuICogQHBhcmFtIGJhc2UgQSBjb25zdHJ1Y3RvciB0byBiZSB1c2VkIGluIGEgY2hlY2suXG4gKiBAcmV0dXJucyBBIGJvb2xlYW4gcmVwcmVzZW50aW5nIHRoZSByZXN1bHQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0luc3RhbmNlT2Yod2F0LCBiYXNlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHdhdCBpbnN0YW5jZW9mIGJhc2U7XG4gICAgfVxuICAgIGNhdGNoIChfZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdFJvdXRlckRPTTsiLCJtb2R1bGUuZXhwb3J0cyA9IFByb3BUeXBlczsiLCJpbXBvcnQgeyBpc1JlZ0V4cCwgaXNTdHJpbmcgfSBmcm9tICcuL2lzJztcbi8qKlxuICogVHJ1bmNhdGVzIGdpdmVuIHN0cmluZyB0byB0aGUgbWF4aW11bSBjaGFyYWN0ZXJzIGNvdW50XG4gKlxuICogQHBhcmFtIHN0ciBBbiBvYmplY3QgdGhhdCBjb250YWlucyBzZXJpYWxpemFibGUgdmFsdWVzXG4gKiBAcGFyYW0gbWF4IE1heGltdW0gbnVtYmVyIG9mIGNoYXJhY3RlcnMgaW4gdHJ1bmNhdGVkIHN0cmluZ1xuICogQHJldHVybnMgc3RyaW5nIEVuY29kZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRydW5jYXRlKHN0ciwgbWF4KSB7XG4gICAgaWYgKG1heCA9PT0gdm9pZCAwKSB7IG1heCA9IDA7IH1cbiAgICBpZiAodHlwZW9mIHN0ciAhPT0gJ3N0cmluZycgfHwgbWF4ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIHJldHVybiBzdHIubGVuZ3RoIDw9IG1heCA/IHN0ciA6IHN0ci5zdWJzdHIoMCwgbWF4KSArIFwiLi4uXCI7XG59XG4vKipcbiAqIFRoaXMgaXMgYmFzaWNhbGx5IGp1c3QgYHRyaW1fbGluZWAgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnkvYmxvYi9tYXN0ZXIvc3JjL3NlbnRyeS9sYW5nL2phdmFzY3JpcHQvcHJvY2Vzc29yLnB5I0w2N1xuICpcbiAqIEBwYXJhbSBzdHIgQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgc2VyaWFsaXphYmxlIHZhbHVlc1xuICogQHBhcmFtIG1heCBNYXhpbXVtIG51bWJlciBvZiBjaGFyYWN0ZXJzIGluIHRydW5jYXRlZCBzdHJpbmdcbiAqIEByZXR1cm5zIHN0cmluZyBFbmNvZGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzbmlwTGluZShsaW5lLCBjb2xubykge1xuICAgIHZhciBuZXdMaW5lID0gbGluZTtcbiAgICB2YXIgbGwgPSBuZXdMaW5lLmxlbmd0aDtcbiAgICBpZiAobGwgPD0gMTUwKSB7XG4gICAgICAgIHJldHVybiBuZXdMaW5lO1xuICAgIH1cbiAgICBpZiAoY29sbm8gPiBsbCkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgY29sbm8gPSBsbDtcbiAgICB9XG4gICAgdmFyIHN0YXJ0ID0gTWF0aC5tYXgoY29sbm8gLSA2MCwgMCk7XG4gICAgaWYgKHN0YXJ0IDwgNSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgfVxuICAgIHZhciBlbmQgPSBNYXRoLm1pbihzdGFydCArIDE0MCwgbGwpO1xuICAgIGlmIChlbmQgPiBsbCAtIDUpIHtcbiAgICAgICAgZW5kID0gbGw7XG4gICAgfVxuICAgIGlmIChlbmQgPT09IGxsKSB7XG4gICAgICAgIHN0YXJ0ID0gTWF0aC5tYXgoZW5kIC0gMTQwLCAwKTtcbiAgICB9XG4gICAgbmV3TGluZSA9IG5ld0xpbmUuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgaWYgKHN0YXJ0ID4gMCkge1xuICAgICAgICBuZXdMaW5lID0gXCIne3NuaXB9IFwiICsgbmV3TGluZTtcbiAgICB9XG4gICAgaWYgKGVuZCA8IGxsKSB7XG4gICAgICAgIG5ld0xpbmUgKz0gJyB7c25pcH0nO1xuICAgIH1cbiAgICByZXR1cm4gbmV3TGluZTtcbn1cbi8qKlxuICogSm9pbiB2YWx1ZXMgaW4gYXJyYXlcbiAqIEBwYXJhbSBpbnB1dCBhcnJheSBvZiB2YWx1ZXMgdG8gYmUgam9pbmVkIHRvZ2V0aGVyXG4gKiBAcGFyYW0gZGVsaW1pdGVyIHN0cmluZyB0byBiZSBwbGFjZWQgaW4tYmV0d2VlbiB2YWx1ZXNcbiAqIEByZXR1cm5zIEpvaW5lZCB2YWx1ZXNcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmV4cG9ydCBmdW5jdGlvbiBzYWZlSm9pbihpbnB1dCwgZGVsaW1pdGVyKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGlucHV0KSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L3ByZWZlci1mb3Itb2ZcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGlucHV0W2ldO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgb3V0cHV0LnB1c2goU3RyaW5nKHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKCdbdmFsdWUgY2Fubm90IGJlIHNlcmlhbGl6ZWRdJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dHB1dC5qb2luKGRlbGltaXRlcik7XG59XG4vKipcbiAqIENoZWNrcyBpZiB0aGUgdmFsdWUgbWF0Y2hlcyBhIHJlZ2V4IG9yIGluY2x1ZGVzIHRoZSBzdHJpbmdcbiAqIEBwYXJhbSB2YWx1ZSBUaGUgc3RyaW5nIHZhbHVlIHRvIGJlIGNoZWNrZWQgYWdhaW5zdFxuICogQHBhcmFtIHBhdHRlcm4gRWl0aGVyIGEgcmVnZXggb3IgYSBzdHJpbmcgdGhhdCBtdXN0IGJlIGNvbnRhaW5lZCBpbiB2YWx1ZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNNYXRjaGluZ1BhdHRlcm4odmFsdWUsIHBhdHRlcm4pIHtcbiAgICBpZiAoIWlzU3RyaW5nKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChpc1JlZ0V4cChwYXR0ZXJuKSkge1xuICAgICAgICByZXR1cm4gcGF0dGVybi50ZXN0KHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBwYXR0ZXJuID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUuaW5kZXhPZihwYXR0ZXJuKSAhPT0gLTE7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZy5qcy5tYXAiLCJtb2R1bGUuZXhwb3J0cyA9IFNlbnRyeTsiLCJpbXBvcnQgeyBpc1N0cmluZyB9IGZyb20gJy4vaXMnO1xuaW1wb3J0IHsgbm9ybWFsaXplIH0gZnJvbSAnLi9vYmplY3QnO1xuLyoqXG4gKiBDaGVja3Mgd2hldGhlciB3ZSdyZSBpbiB0aGUgTm9kZS5qcyBvciBCcm93c2VyIGVudmlyb25tZW50XG4gKlxuICogQHJldHVybnMgQW5zd2VyIHRvIGdpdmVuIHF1ZXN0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc05vZGVFbnYoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgPyBwcm9jZXNzIDogMCkgPT09ICdbb2JqZWN0IHByb2Nlc3NdJztcbn1cbi8qKlxuICogUmVxdWlyZXMgYSBtb2R1bGUgd2hpY2ggaXMgcHJvdGVjdGVkIGFnYWluc3QgYnVuZGxlciBtaW5pZmljYXRpb24uXG4gKlxuICogQHBhcmFtIHJlcXVlc3QgVGhlIG1vZHVsZSBwYXRoIHRvIHJlc29sdmVcbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXNcbmV4cG9ydCBmdW5jdGlvbiBkeW5hbWljUmVxdWlyZShtb2QsIHJlcXVlc3QpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgcmV0dXJuIG1vZC5yZXF1aXJlKHJlcXVlc3QpO1xufVxuLyoqIERlZmF1bHQgcmVxdWVzdCBrZXlzIHRoYXQnbGwgYmUgdXNlZCB0byBleHRyYWN0IGRhdGEgZnJvbSB0aGUgcmVxdWVzdCAqL1xudmFyIERFRkFVTFRfUkVRVUVTVF9LRVlTID0gWydjb29raWVzJywgJ2RhdGEnLCAnaGVhZGVycycsICdtZXRob2QnLCAncXVlcnlfc3RyaW5nJywgJ3VybCddO1xuLyoqXG4gKiBOb3JtYWxpemVzIGRhdGEgZnJvbSB0aGUgcmVxdWVzdCBvYmplY3QsIGFjY291bnRpbmcgZm9yIGZyYW1ld29yayBkaWZmZXJlbmNlcy5cbiAqXG4gKiBAcGFyYW0gcmVxIFRoZSByZXF1ZXN0IG9iamVjdCBmcm9tIHdoaWNoIHRvIGV4dHJhY3QgZGF0YVxuICogQHBhcmFtIGtleXMgQW4gb3B0aW9uYWwgYXJyYXkgb2Yga2V5cyB0byBpbmNsdWRlIGluIHRoZSBub3JtYWxpemVkIGRhdGEuIERlZmF1bHRzIHRvIERFRkFVTFRfUkVRVUVTVF9LRVlTIGlmIG5vdFxuICogcHJvdmlkZWQuXG4gKiBAcmV0dXJucyBBbiBvYmplY3QgY29udGFpbmluZyBub3JtYWxpemVkIHJlcXVlc3QgZGF0YVxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdE5vZGVSZXF1ZXN0RGF0YShyZXEsIGtleXMpIHtcbiAgICBpZiAoa2V5cyA9PT0gdm9pZCAwKSB7IGtleXMgPSBERUZBVUxUX1JFUVVFU1RfS0VZUzsgfVxuICAgIC8vIG1ha2Ugc3VyZSB3ZSBjYW4gc2FmZWx5IHVzZSBkeW5hbWljUmVxdWlyZSBiZWxvd1xuICAgIGlmICghaXNOb2RlRW52KCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZ2V0IG5vZGUgcmVxdWVzdCBkYXRhIG91dHNpZGUgb2YgYSBub2RlIGVudmlyb25tZW50XCIpO1xuICAgIH1cbiAgICB2YXIgcmVxdWVzdERhdGEgPSB7fTtcbiAgICAvLyBoZWFkZXJzOlxuICAgIC8vICAgbm9kZSwgZXhwcmVzczogcmVxLmhlYWRlcnNcbiAgICAvLyAgIGtvYTogcmVxLmhlYWRlclxuICAgIHZhciBoZWFkZXJzID0gKHJlcS5oZWFkZXJzIHx8IHJlcS5oZWFkZXIgfHwge30pO1xuICAgIC8vIG1ldGhvZDpcbiAgICAvLyAgIG5vZGUsIGV4cHJlc3MsIGtvYTogcmVxLm1ldGhvZFxuICAgIHZhciBtZXRob2QgPSByZXEubWV0aG9kO1xuICAgIC8vIGhvc3Q6XG4gICAgLy8gICBleHByZXNzOiByZXEuaG9zdG5hbWUgaW4gPiA0IGFuZCByZXEuaG9zdCBpbiA8IDRcbiAgICAvLyAgIGtvYTogcmVxLmhvc3RcbiAgICAvLyAgIG5vZGU6IHJlcS5oZWFkZXJzLmhvc3RcbiAgICB2YXIgaG9zdCA9IHJlcS5ob3N0bmFtZSB8fCByZXEuaG9zdCB8fCBoZWFkZXJzLmhvc3QgfHwgJzxubyBob3N0Pic7XG4gICAgLy8gcHJvdG9jb2w6XG4gICAgLy8gICBub2RlOiA8bi9hPlxuICAgIC8vICAgZXhwcmVzcywga29hOiByZXEucHJvdG9jb2xcbiAgICB2YXIgcHJvdG9jb2wgPSByZXEucHJvdG9jb2wgPT09ICdodHRwcycgfHwgcmVxLnNlY3VyZSB8fCAocmVxLnNvY2tldCB8fCB7fSkuZW5jcnlwdGVkXG4gICAgICAgID8gJ2h0dHBzJ1xuICAgICAgICA6ICdodHRwJztcbiAgICAvLyB1cmwgKGluY2x1ZGluZyBwYXRoIGFuZCBxdWVyeSBzdHJpbmcpOlxuICAgIC8vICAgbm9kZSwgZXhwcmVzczogcmVxLm9yaWdpbmFsVXJsXG4gICAgLy8gICBrb2E6IHJlcS51cmxcbiAgICB2YXIgb3JpZ2luYWxVcmwgPSAocmVxLm9yaWdpbmFsVXJsIHx8IHJlcS51cmwgfHwgJycpO1xuICAgIC8vIGFic29sdXRlIHVybFxuICAgIHZhciBhYnNvbHV0ZVVybCA9IHByb3RvY29sICsgXCI6Ly9cIiArIGhvc3QgKyBvcmlnaW5hbFVybDtcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBzd2l0Y2ggKGtleSkge1xuICAgICAgICAgICAgY2FzZSAnaGVhZGVycyc6XG4gICAgICAgICAgICAgICAgcmVxdWVzdERhdGEuaGVhZGVycyA9IGhlYWRlcnM7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtZXRob2QnOlxuICAgICAgICAgICAgICAgIHJlcXVlc3REYXRhLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3VybCc6XG4gICAgICAgICAgICAgICAgcmVxdWVzdERhdGEudXJsID0gYWJzb2x1dGVVcmw7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdjb29raWVzJzpcbiAgICAgICAgICAgICAgICAvLyBjb29raWVzOlxuICAgICAgICAgICAgICAgIC8vICAgbm9kZSwgZXhwcmVzcywga29hOiByZXEuaGVhZGVycy5jb29raWVcbiAgICAgICAgICAgICAgICAvLyAgIHZlcmNlbCwgc2FpbHMuanMsIGV4cHJlc3MgKHcvIGNvb2tpZSBtaWRkbGV3YXJlKTogcmVxLmNvb2tpZXNcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgICAgICAgcmVxdWVzdERhdGEuY29va2llcyA9IHJlcS5jb29raWVzIHx8IGR5bmFtaWNSZXF1aXJlKG1vZHVsZSwgJ2Nvb2tpZScpLnBhcnNlKGhlYWRlcnMuY29va2llIHx8ICcnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3F1ZXJ5X3N0cmluZyc6XG4gICAgICAgICAgICAgICAgLy8gcXVlcnkgc3RyaW5nOlxuICAgICAgICAgICAgICAgIC8vICAgbm9kZTogcmVxLnVybCAocmF3KVxuICAgICAgICAgICAgICAgIC8vICAgZXhwcmVzcywga29hOiByZXEucXVlcnlcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzXG4gICAgICAgICAgICAgICAgcmVxdWVzdERhdGEucXVlcnlfc3RyaW5nID0gZHluYW1pY1JlcXVpcmUobW9kdWxlLCAndXJsJykucGFyc2Uob3JpZ2luYWxVcmwgfHwgJycsIGZhbHNlKS5xdWVyeTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2RhdGEnOlxuICAgICAgICAgICAgICAgIGlmIChtZXRob2QgPT09ICdHRVQnIHx8IG1ldGhvZCA9PT0gJ0hFQUQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBib2R5IGRhdGE6XG4gICAgICAgICAgICAgICAgLy8gICBub2RlLCBleHByZXNzLCBrb2E6IHJlcS5ib2R5XG4gICAgICAgICAgICAgICAgaWYgKHJlcS5ib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdERhdGEuZGF0YSA9IGlzU3RyaW5nKHJlcS5ib2R5KSA/IHJlcS5ib2R5IDogSlNPTi5zdHJpbmdpZnkobm9ybWFsaXplKHJlcS5ib2R5KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChyZXEsIGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdERhdGFba2V5XSA9IHJlcVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXF1ZXN0RGF0YTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vZGUuanMubWFwIiwibW9kdWxlLmV4cG9ydHMgPSBSZWFjdERPTTsiLCJtb2R1bGUuZXhwb3J0cyA9IExvZ1JvY2tldDsiLCJpbXBvcnQgeyBpc05vZGVFbnYgfSBmcm9tICcuL25vZGUnO1xuaW1wb3J0IHsgc25pcExpbmUgfSBmcm9tICcuL3N0cmluZyc7XG52YXIgZmFsbGJhY2tHbG9iYWxPYmplY3QgPSB7fTtcbi8qKlxuICogU2FmZWx5IGdldCBnbG9iYWwgc2NvcGUgb2JqZWN0XG4gKlxuICogQHJldHVybnMgR2xvYmFsIHNjb3BlIG9iamVjdFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2xvYmFsT2JqZWN0KCkge1xuICAgIHJldHVybiAoaXNOb2RlRW52KClcbiAgICAgICAgPyBnbG9iYWxcbiAgICAgICAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyB3aW5kb3dcbiAgICAgICAgICAgIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICAgICAgPyBzZWxmXG4gICAgICAgICAgICAgICAgOiBmYWxsYmFja0dsb2JhbE9iamVjdCk7XG59XG4vKipcbiAqIFVVSUQ0IGdlbmVyYXRvclxuICpcbiAqIEByZXR1cm5zIHN0cmluZyBHZW5lcmF0ZWQgVVVJRDQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1dWlkNCgpIHtcbiAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4gICAgdmFyIGNyeXB0byA9IGdsb2JhbC5jcnlwdG8gfHwgZ2xvYmFsLm1zQ3J5cHRvO1xuICAgIGlmICghKGNyeXB0byA9PT0gdm9pZCAwKSAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICAgIC8vIFVzZSB3aW5kb3cuY3J5cHRvIEFQSSBpZiBhdmFpbGFibGVcbiAgICAgICAgdmFyIGFyciA9IG5ldyBVaW50MTZBcnJheSg4KTtcbiAgICAgICAgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhhcnIpO1xuICAgICAgICAvLyBzZXQgNCBpbiBieXRlIDdcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgYXJyWzNdID0gKGFyclszXSAmIDB4ZmZmKSB8IDB4NDAwMDtcbiAgICAgICAgLy8gc2V0IDIgbW9zdCBzaWduaWZpY2FudCBiaXRzIG9mIGJ5dGUgOSB0byAnMTAnXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICAgIGFycls0XSA9IChhcnJbNF0gJiAweDNmZmYpIHwgMHg4MDAwO1xuICAgICAgICB2YXIgcGFkID0gZnVuY3Rpb24gKG51bSkge1xuICAgICAgICAgICAgdmFyIHYgPSBudW0udG9TdHJpbmcoMTYpO1xuICAgICAgICAgICAgd2hpbGUgKHYubGVuZ3RoIDwgNCkge1xuICAgICAgICAgICAgICAgIHYgPSBcIjBcIiArIHY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIChwYWQoYXJyWzBdKSArIHBhZChhcnJbMV0pICsgcGFkKGFyclsyXSkgKyBwYWQoYXJyWzNdKSArIHBhZChhcnJbNF0pICsgcGFkKGFycls1XSkgKyBwYWQoYXJyWzZdKSArIHBhZChhcnJbN10pKTtcbiAgICB9XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDUwMzQvaG93LXRvLWNyZWF0ZS1hLWd1aWQtdXVpZC1pbi1qYXZhc2NyaXB0LzIxMTc1MjMjMjExNzUyM1xuICAgIHJldHVybiAneHh4eHh4eHh4eHh4NHh4eHl4eHh4eHh4eHh4eHh4eHgnLnJlcGxhY2UoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWJpdHdpc2VcbiAgICAgICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDA7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICAgIHZhciB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcbiAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgIH0pO1xufVxuLyoqXG4gKiBQYXJzZXMgc3RyaW5nIGZvcm0gb2YgVVJMIGludG8gYW4gb2JqZWN0XG4gKiAvLyBib3Jyb3dlZCBmcm9tIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I2FwcGVuZGl4LUJcbiAqIC8vIGludGVudGlvbmFsbHkgdXNpbmcgcmVnZXggYW5kIG5vdCA8YS8+IGhyZWYgcGFyc2luZyB0cmljayBiZWNhdXNlIFJlYWN0IE5hdGl2ZSBhbmQgb3RoZXJcbiAqIC8vIGVudmlyb25tZW50cyB3aGVyZSBET00gbWlnaHQgbm90IGJlIGF2YWlsYWJsZVxuICogQHJldHVybnMgcGFyc2VkIFVSTCBvYmplY3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlVXJsKHVybCkge1xuICAgIGlmICghdXJsKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgdmFyIG1hdGNoID0gdXJsLm1hdGNoKC9eKChbXjovPyNdKyk6KT8oXFwvXFwvKFteLz8jXSopKT8oW14/I10qKShcXD8oW14jXSopKT8oIyguKikpPyQvKTtcbiAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLy8gY29lcmNlIHRvIHVuZGVmaW5lZCB2YWx1ZXMgdG8gZW1wdHkgc3RyaW5nIHNvIHdlIGRvbid0IGdldCAndW5kZWZpbmVkJ1xuICAgIHZhciBxdWVyeSA9IG1hdGNoWzZdIHx8ICcnO1xuICAgIHZhciBmcmFnbWVudCA9IG1hdGNoWzhdIHx8ICcnO1xuICAgIHJldHVybiB7XG4gICAgICAgIGhvc3Q6IG1hdGNoWzRdLFxuICAgICAgICBwYXRoOiBtYXRjaFs1XSxcbiAgICAgICAgcHJvdG9jb2w6IG1hdGNoWzJdLFxuICAgICAgICByZWxhdGl2ZTogbWF0Y2hbNV0gKyBxdWVyeSArIGZyYWdtZW50LFxuICAgIH07XG59XG4vKipcbiAqIEV4dHJhY3RzIGVpdGhlciBtZXNzYWdlIG9yIHR5cGUrdmFsdWUgZnJvbSBhbiBldmVudCB0aGF0IGNhbiBiZSB1c2VkIGZvciB1c2VyLWZhY2luZyBsb2dzXG4gKiBAcmV0dXJucyBldmVudCdzIGRlc2NyaXB0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRFdmVudERlc2NyaXB0aW9uKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50Lm1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIGV2ZW50Lm1lc3NhZ2U7XG4gICAgfVxuICAgIGlmIChldmVudC5leGNlcHRpb24gJiYgZXZlbnQuZXhjZXB0aW9uLnZhbHVlcyAmJiBldmVudC5leGNlcHRpb24udmFsdWVzWzBdKSB7XG4gICAgICAgIHZhciBleGNlcHRpb24gPSBldmVudC5leGNlcHRpb24udmFsdWVzWzBdO1xuICAgICAgICBpZiAoZXhjZXB0aW9uLnR5cGUgJiYgZXhjZXB0aW9uLnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gZXhjZXB0aW9uLnR5cGUgKyBcIjogXCIgKyBleGNlcHRpb24udmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGV4Y2VwdGlvbi50eXBlIHx8IGV4Y2VwdGlvbi52YWx1ZSB8fCBldmVudC5ldmVudF9pZCB8fCAnPHVua25vd24+JztcbiAgICB9XG4gICAgcmV0dXJuIGV2ZW50LmV2ZW50X2lkIHx8ICc8dW5rbm93bj4nO1xufVxuLyoqIEpTRG9jICovXG5leHBvcnQgZnVuY3Rpb24gY29uc29sZVNhbmRib3goY2FsbGJhY2spIHtcbiAgICB2YXIgZ2xvYmFsID0gZ2V0R2xvYmFsT2JqZWN0KCk7XG4gICAgdmFyIGxldmVscyA9IFsnZGVidWcnLCAnaW5mbycsICd3YXJuJywgJ2Vycm9yJywgJ2xvZycsICdhc3NlcnQnXTtcbiAgICBpZiAoISgnY29uc29sZScgaW4gZ2xvYmFsKSkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2Vzc1xuICAgIHZhciBvcmlnaW5hbENvbnNvbGUgPSBnbG9iYWwuY29uc29sZTtcbiAgICB2YXIgd3JhcHBlZExldmVscyA9IHt9O1xuICAgIC8vIFJlc3RvcmUgYWxsIHdyYXBwZWQgY29uc29sZSBtZXRob2RzXG4gICAgbGV2ZWxzLmZvckVhY2goZnVuY3Rpb24gKGxldmVsKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgaWYgKGxldmVsIGluIGdsb2JhbC5jb25zb2xlICYmIG9yaWdpbmFsQ29uc29sZVtsZXZlbF0uX19zZW50cnlfb3JpZ2luYWxfXykge1xuICAgICAgICAgICAgd3JhcHBlZExldmVsc1tsZXZlbF0gPSBvcmlnaW5hbENvbnNvbGVbbGV2ZWxdO1xuICAgICAgICAgICAgb3JpZ2luYWxDb25zb2xlW2xldmVsXSA9IG9yaWdpbmFsQ29uc29sZVtsZXZlbF0uX19zZW50cnlfb3JpZ2luYWxfXztcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIC8vIFBlcmZvcm0gY2FsbGJhY2sgbWFuaXB1bGF0aW9uc1xuICAgIHZhciByZXN1bHQgPSBjYWxsYmFjaygpO1xuICAgIC8vIFJldmVydCByZXN0b3JhdGlvbiB0byB3cmFwcGVkIHN0YXRlXG4gICAgT2JqZWN0LmtleXMod3JhcHBlZExldmVscykuZm9yRWFjaChmdW5jdGlvbiAobGV2ZWwpIHtcbiAgICAgICAgb3JpZ2luYWxDb25zb2xlW2xldmVsXSA9IHdyYXBwZWRMZXZlbHNbbGV2ZWxdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKipcbiAqIEFkZHMgZXhjZXB0aW9uIHZhbHVlcywgdHlwZSBhbmQgdmFsdWUgdG8gYW4gc3ludGhldGljIEV4Y2VwdGlvbi5cbiAqIEBwYXJhbSBldmVudCBUaGUgZXZlbnQgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHZhbHVlIFZhbHVlIG9mIHRoZSBleGNlcHRpb24uXG4gKiBAcGFyYW0gdHlwZSBUeXBlIG9mIHRoZSBleGNlcHRpb24uXG4gKiBAaGlkZGVuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRFeGNlcHRpb25UeXBlVmFsdWUoZXZlbnQsIHZhbHVlLCB0eXBlKSB7XG4gICAgZXZlbnQuZXhjZXB0aW9uID0gZXZlbnQuZXhjZXB0aW9uIHx8IHt9O1xuICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXMgPSBldmVudC5leGNlcHRpb24udmFsdWVzIHx8IFtdO1xuICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0gPSBldmVudC5leGNlcHRpb24udmFsdWVzWzBdIHx8IHt9O1xuICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0udmFsdWUgPSBldmVudC5leGNlcHRpb24udmFsdWVzWzBdLnZhbHVlIHx8IHZhbHVlIHx8ICcnO1xuICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0udHlwZSA9IGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0udHlwZSB8fCB0eXBlIHx8ICdFcnJvcic7XG59XG4vKipcbiAqIEFkZHMgZXhjZXB0aW9uIG1lY2hhbmlzbSB0byBhIGdpdmVuIGV2ZW50LlxuICogQHBhcmFtIGV2ZW50IFRoZSBldmVudCB0byBtb2RpZnkuXG4gKiBAcGFyYW0gbWVjaGFuaXNtIE1lY2hhbmlzbSBvZiB0aGUgbWVjaGFuaXNtLlxuICogQGhpZGRlblxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXhjZXB0aW9uTWVjaGFuaXNtKGV2ZW50LCBtZWNoYW5pc20pIHtcbiAgICBpZiAobWVjaGFuaXNtID09PSB2b2lkIDApIHsgbWVjaGFuaXNtID0ge307IH1cbiAgICAvLyBUT0RPOiBVc2UgcmVhbCB0eXBlIHdpdGggYGtleW9mIE1lY2hhbmlzbWAgdGhpbmd5IGFuZCBtYXliZSBtYWtlIGl0IGJldHRlcj9cbiAgICB0cnkge1xuICAgICAgICAvLyBAdHMtaWdub3JlIFR5cGUgJ01lY2hhbmlzbSB8IHt9JyBpcyBub3QgYXNzaWduYWJsZSB0byB0eXBlICdNZWNoYW5pc20gfCB1bmRlZmluZWQnXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgIGV2ZW50LmV4Y2VwdGlvbi52YWx1ZXNbMF0ubWVjaGFuaXNtID0gZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXS5tZWNoYW5pc20gfHwge307XG4gICAgICAgIE9iamVjdC5rZXlzKG1lY2hhbmlzbSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIE1lY2hhbmlzbSBoYXMgbm8gaW5kZXggc2lnbmF0dXJlXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgZXZlbnQuZXhjZXB0aW9uLnZhbHVlc1swXS5tZWNoYW5pc21ba2V5XSA9IG1lY2hhbmlzbVtrZXldO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2ggKF9vTykge1xuICAgICAgICAvLyBuby1lbXB0eVxuICAgIH1cbn1cbi8qKlxuICogQSBzYWZlIGZvcm0gb2YgbG9jYXRpb24uaHJlZlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0TG9jYXRpb25IcmVmKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5sb2NhdGlvbi5ocmVmO1xuICAgIH1cbiAgICBjYXRjaCAob08pIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn1cbi8vIGh0dHBzOi8vc2VtdmVyLm9yZy8jaXMtdGhlcmUtYS1zdWdnZXN0ZWQtcmVndWxhci1leHByZXNzaW9uLXJlZ2V4LXRvLWNoZWNrLWEtc2VtdmVyLXN0cmluZ1xudmFyIFNFTVZFUl9SRUdFWFAgPSAvXigwfFsxLTldXFxkKilcXC4oMHxbMS05XVxcZCopXFwuKDB8WzEtOV1cXGQqKSg/Oi0oKD86MHxbMS05XVxcZCp8XFxkKlthLXpBLVotXVswLTlhLXpBLVotXSopKD86XFwuKD86MHxbMS05XVxcZCp8XFxkKlthLXpBLVotXVswLTlhLXpBLVotXSopKSopKT8oPzpcXCsoWzAtOWEtekEtWi1dKyg/OlxcLlswLTlhLXpBLVotXSspKikpPyQvO1xuLyoqXG4gKiBQYXJzZXMgaW5wdXQgaW50byBhIFNlbVZlciBpbnRlcmZhY2VcbiAqIEBwYXJhbSBpbnB1dCBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZW12ZXIgdmVyc2lvblxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VTZW12ZXIoaW5wdXQpIHtcbiAgICB2YXIgbWF0Y2ggPSBpbnB1dC5tYXRjaChTRU1WRVJfUkVHRVhQKSB8fCBbXTtcbiAgICB2YXIgbWFqb3IgPSBwYXJzZUludChtYXRjaFsxXSwgMTApO1xuICAgIHZhciBtaW5vciA9IHBhcnNlSW50KG1hdGNoWzJdLCAxMCk7XG4gICAgdmFyIHBhdGNoID0gcGFyc2VJbnQobWF0Y2hbM10sIDEwKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBidWlsZG1ldGFkYXRhOiBtYXRjaFs1XSxcbiAgICAgICAgbWFqb3I6IGlzTmFOKG1ham9yKSA/IHVuZGVmaW5lZCA6IG1ham9yLFxuICAgICAgICBtaW5vcjogaXNOYU4obWlub3IpID8gdW5kZWZpbmVkIDogbWlub3IsXG4gICAgICAgIHBhdGNoOiBpc05hTihwYXRjaCkgPyB1bmRlZmluZWQgOiBwYXRjaCxcbiAgICAgICAgcHJlcmVsZWFzZTogbWF0Y2hbNF0sXG4gICAgfTtcbn1cbnZhciBkZWZhdWx0UmV0cnlBZnRlciA9IDYwICogMTAwMDsgLy8gNjAgc2Vjb25kc1xuLyoqXG4gKiBFeHRyYWN0cyBSZXRyeS1BZnRlciB2YWx1ZSBmcm9tIHRoZSByZXF1ZXN0IGhlYWRlciBvciByZXR1cm5zIGRlZmF1bHQgdmFsdWVcbiAqIEBwYXJhbSBub3cgY3VycmVudCB1bml4IHRpbWVzdGFtcFxuICogQHBhcmFtIGhlYWRlciBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgJ1JldHJ5LUFmdGVyJyBoZWFkZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmV0cnlBZnRlckhlYWRlcihub3csIGhlYWRlcikge1xuICAgIGlmICghaGVhZGVyKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0UmV0cnlBZnRlcjtcbiAgICB9XG4gICAgdmFyIGhlYWRlckRlbGF5ID0gcGFyc2VJbnQoXCJcIiArIGhlYWRlciwgMTApO1xuICAgIGlmICghaXNOYU4oaGVhZGVyRGVsYXkpKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXJEZWxheSAqIDEwMDA7XG4gICAgfVxuICAgIHZhciBoZWFkZXJEYXRlID0gRGF0ZS5wYXJzZShcIlwiICsgaGVhZGVyKTtcbiAgICBpZiAoIWlzTmFOKGhlYWRlckRhdGUpKSB7XG4gICAgICAgIHJldHVybiBoZWFkZXJEYXRlIC0gbm93O1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFJldHJ5QWZ0ZXI7XG59XG4vKipcbiAqIFRoaXMgZnVuY3Rpb24gYWRkcyBjb250ZXh0IChwcmUvcG9zdC9saW5lKSBsaW5lcyB0byB0aGUgcHJvdmlkZWQgZnJhbWVcbiAqXG4gKiBAcGFyYW0gbGluZXMgc3RyaW5nW10gY29udGFpbmluZyBhbGwgbGluZXNcbiAqIEBwYXJhbSBmcmFtZSBTdGFja0ZyYW1lIHRoYXQgd2lsbCBiZSBtdXRhdGVkXG4gKiBAcGFyYW0gbGluZXNPZkNvbnRleHQgbnVtYmVyIG9mIGNvbnRleHQgbGluZXMgd2Ugd2FudCB0byBhZGQgcHJlL3Bvc3RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZENvbnRleHRUb0ZyYW1lKGxpbmVzLCBmcmFtZSwgbGluZXNPZkNvbnRleHQpIHtcbiAgICBpZiAobGluZXNPZkNvbnRleHQgPT09IHZvaWQgMCkgeyBsaW5lc09mQ29udGV4dCA9IDU7IH1cbiAgICB2YXIgbGluZW5vID0gZnJhbWUubGluZW5vIHx8IDA7XG4gICAgdmFyIG1heExpbmVzID0gbGluZXMubGVuZ3RoO1xuICAgIHZhciBzb3VyY2VMaW5lID0gTWF0aC5tYXgoTWF0aC5taW4obWF4TGluZXMsIGxpbmVubyAtIDEpLCAwKTtcbiAgICBmcmFtZS5wcmVfY29udGV4dCA9IGxpbmVzXG4gICAgICAgIC5zbGljZShNYXRoLm1heCgwLCBzb3VyY2VMaW5lIC0gbGluZXNPZkNvbnRleHQpLCBzb3VyY2VMaW5lKVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChsaW5lKSB7IHJldHVybiBzbmlwTGluZShsaW5lLCAwKTsgfSk7XG4gICAgZnJhbWUuY29udGV4dF9saW5lID0gc25pcExpbmUobGluZXNbTWF0aC5taW4obWF4TGluZXMgLSAxLCBzb3VyY2VMaW5lKV0sIGZyYW1lLmNvbG5vIHx8IDApO1xuICAgIGZyYW1lLnBvc3RfY29udGV4dCA9IGxpbmVzXG4gICAgICAgIC5zbGljZShNYXRoLm1pbihzb3VyY2VMaW5lICsgMSwgbWF4TGluZXMpLCBzb3VyY2VMaW5lICsgMSArIGxpbmVzT2ZDb250ZXh0KVxuICAgICAgICAubWFwKGZ1bmN0aW9uIChsaW5lKSB7IHJldHVybiBzbmlwTGluZShsaW5lLCAwKTsgfSk7XG59XG4vKipcbiAqIFN0cmlwIHRoZSBxdWVyeSBzdHJpbmcgYW5kIGZyYWdtZW50IG9mZiBvZiBhIGdpdmVuIFVSTCBvciBwYXRoIChpZiBwcmVzZW50KVxuICpcbiAqIEBwYXJhbSB1cmxQYXRoIEZ1bGwgVVJMIG9yIHBhdGgsIGluY2x1ZGluZyBwb3NzaWJsZSBxdWVyeSBzdHJpbmcgYW5kL29yIGZyYWdtZW50XG4gKiBAcmV0dXJucyBVUkwgb3IgcGF0aCB3aXRob3V0IHF1ZXJ5IHN0cmluZyBvciBmcmFnbWVudFxuICovXG5leHBvcnQgZnVuY3Rpb24gc3RyaXBVcmxRdWVyeUFuZEZyYWdtZW50KHVybFBhdGgpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcbiAgICByZXR1cm4gdXJsUGF0aC5zcGxpdCgvW1xcPyNdLywgMSlbMF07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1taXNjLmpzLm1hcCIsImltcG9ydCB7IGlzU3RyaW5nIH0gZnJvbSAnLi9pcyc7XG4vKipcbiAqIEdpdmVuIGEgY2hpbGQgRE9NIGVsZW1lbnQsIHJldHVybnMgYSBxdWVyeS1zZWxlY3RvciBzdGF0ZW1lbnQgZGVzY3JpYmluZyB0aGF0XG4gKiBhbmQgaXRzIGFuY2VzdG9yc1xuICogZS5nLiBbSFRNTEVsZW1lbnRdID0+IGJvZHkgPiBkaXYgPiBpbnB1dCNmb28uYnRuW25hbWU9YmF6XVxuICogQHJldHVybnMgZ2VuZXJhdGVkIERPTSBwYXRoXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBodG1sVHJlZUFzU3RyaW5nKGVsZW0pIHtcbiAgICAvLyB0cnkvY2F0Y2ggYm90aDpcbiAgICAvLyAtIGFjY2Vzc2luZyBldmVudC50YXJnZXQgKHNlZSBnZXRzZW50cnkvcmF2ZW4tanMjODM4LCAjNzY4KVxuICAgIC8vIC0gYGh0bWxUcmVlQXNTdHJpbmdgIGJlY2F1c2UgaXQncyBjb21wbGV4LCBhbmQganVzdCBhY2Nlc3NpbmcgdGhlIERPTSBpbmNvcnJlY3RseVxuICAgIC8vIC0gY2FuIHRocm93IGFuIGV4Y2VwdGlvbiBpbiBzb21lIGNpcmN1bXN0YW5jZXMuXG4gICAgdHJ5IHtcbiAgICAgICAgdmFyIGN1cnJlbnRFbGVtID0gZWxlbTtcbiAgICAgICAgdmFyIE1BWF9UUkFWRVJTRV9IRUlHSFQgPSA1O1xuICAgICAgICB2YXIgTUFYX09VVFBVVF9MRU4gPSA4MDtcbiAgICAgICAgdmFyIG91dCA9IFtdO1xuICAgICAgICB2YXIgaGVpZ2h0ID0gMDtcbiAgICAgICAgdmFyIGxlbiA9IDA7XG4gICAgICAgIHZhciBzZXBhcmF0b3IgPSAnID4gJztcbiAgICAgICAgdmFyIHNlcExlbmd0aCA9IHNlcGFyYXRvci5sZW5ndGg7XG4gICAgICAgIHZhciBuZXh0U3RyID0gdm9pZCAwO1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGx1c3BsdXNcbiAgICAgICAgd2hpbGUgKGN1cnJlbnRFbGVtICYmIGhlaWdodCsrIDwgTUFYX1RSQVZFUlNFX0hFSUdIVCkge1xuICAgICAgICAgICAgbmV4dFN0ciA9IF9odG1sRWxlbWVudEFzU3RyaW5nKGN1cnJlbnRFbGVtKTtcbiAgICAgICAgICAgIC8vIGJhaWwgb3V0IGlmXG4gICAgICAgICAgICAvLyAtIG5leHRTdHIgaXMgdGhlICdodG1sJyBlbGVtZW50XG4gICAgICAgICAgICAvLyAtIHRoZSBsZW5ndGggb2YgdGhlIHN0cmluZyB0aGF0IHdvdWxkIGJlIGNyZWF0ZWQgZXhjZWVkcyBNQVhfT1VUUFVUX0xFTlxuICAgICAgICAgICAgLy8gICAoaWdub3JlIHRoaXMgbGltaXQgaWYgd2UgYXJlIG9uIHRoZSBmaXJzdCBpdGVyYXRpb24pXG4gICAgICAgICAgICBpZiAobmV4dFN0ciA9PT0gJ2h0bWwnIHx8IChoZWlnaHQgPiAxICYmIGxlbiArIG91dC5sZW5ndGggKiBzZXBMZW5ndGggKyBuZXh0U3RyLmxlbmd0aCA+PSBNQVhfT1VUUFVUX0xFTikpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG91dC5wdXNoKG5leHRTdHIpO1xuICAgICAgICAgICAgbGVuICs9IG5leHRTdHIubGVuZ3RoO1xuICAgICAgICAgICAgY3VycmVudEVsZW0gPSBjdXJyZW50RWxlbS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQucmV2ZXJzZSgpLmpvaW4oc2VwYXJhdG9yKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9vTykge1xuICAgICAgICByZXR1cm4gJzx1bmtub3duPic7XG4gICAgfVxufVxuLyoqXG4gKiBSZXR1cm5zIGEgc2ltcGxlLCBxdWVyeS1zZWxlY3RvciByZXByZXNlbnRhdGlvbiBvZiBhIERPTSBlbGVtZW50XG4gKiBlLmcuIFtIVE1MRWxlbWVudF0gPT4gaW5wdXQjZm9vLmJ0bltuYW1lPWJhel1cbiAqIEByZXR1cm5zIGdlbmVyYXRlZCBET00gcGF0aFxuICovXG5mdW5jdGlvbiBfaHRtbEVsZW1lbnRBc1N0cmluZyhlbCkge1xuICAgIHZhciBlbGVtID0gZWw7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIHZhciBjbGFzc05hbWU7XG4gICAgdmFyIGNsYXNzZXM7XG4gICAgdmFyIGtleTtcbiAgICB2YXIgYXR0cjtcbiAgICB2YXIgaTtcbiAgICBpZiAoIWVsZW0gfHwgIWVsZW0udGFnTmFtZSkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIG91dC5wdXNoKGVsZW0udGFnTmFtZS50b0xvd2VyQ2FzZSgpKTtcbiAgICBpZiAoZWxlbS5pZCkge1xuICAgICAgICBvdXQucHVzaChcIiNcIiArIGVsZW0uaWQpO1xuICAgIH1cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcHJlZmVyLWNvbnN0XG4gICAgY2xhc3NOYW1lID0gZWxlbS5jbGFzc05hbWU7XG4gICAgaWYgKGNsYXNzTmFtZSAmJiBpc1N0cmluZyhjbGFzc05hbWUpKSB7XG4gICAgICAgIGNsYXNzZXMgPSBjbGFzc05hbWUuc3BsaXQoL1xccysvKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNsYXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIG91dC5wdXNoKFwiLlwiICsgY2xhc3Nlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGFsbG93ZWRBdHRycyA9IFsndHlwZScsICduYW1lJywgJ3RpdGxlJywgJ2FsdCddO1xuICAgIGZvciAoaSA9IDA7IGkgPCBhbGxvd2VkQXR0cnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAga2V5ID0gYWxsb3dlZEF0dHJzW2ldO1xuICAgICAgICBhdHRyID0gZWxlbS5nZXRBdHRyaWJ1dGUoa2V5KTtcbiAgICAgICAgaWYgKGF0dHIpIHtcbiAgICAgICAgICAgIG91dC5wdXNoKFwiW1wiICsga2V5ICsgXCI9XFxcIlwiICsgYXR0ciArIFwiXFxcIl1cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG91dC5qb2luKCcnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJyb3dzZXIuanMubWFwIiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5MaW5rQ29udGFpbmVyID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gdHlwZW9mIG9iajsgfSA6IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbnZhciBfcmVhY3QgPSByZXF1aXJlKCdyZWFjdCcpO1xuXG52YXIgX3JlYWN0MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3JlYWN0KTtcblxudmFyIF9wcm9wVHlwZXMgPSByZXF1aXJlKCdwcm9wLXR5cGVzJyk7XG5cbnZhciBfcHJvcFR5cGVzMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX3Byb3BUeXBlcyk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXItZG9tJyk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIGtleXMpIHsgdmFyIHRhcmdldCA9IHt9OyBmb3IgKHZhciBpIGluIG9iaikgeyBpZiAoa2V5cy5pbmRleE9mKGkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGkpKSBjb250aW51ZTsgdGFyZ2V0W2ldID0gb2JqW2ldOyB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLCBDb25zdHJ1Y3RvcikgeyBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpOyB9IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoIXNlbGYpIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBjYWxsICYmICh0eXBlb2YgY2FsbCA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSA/IGNhbGwgOiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0cyhzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBpZiAodHlwZW9mIHN1cGVyQ2xhc3MgIT09IFwiZnVuY3Rpb25cIiAmJiBzdXBlckNsYXNzICE9PSBudWxsKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJTdXBlciBleHByZXNzaW9uIG11c3QgZWl0aGVyIGJlIG51bGwgb3IgYSBmdW5jdGlvbiwgbm90IFwiICsgdHlwZW9mIHN1cGVyQ2xhc3MpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIGVudW1lcmFibGU6IGZhbHNlLCB3cml0YWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlIH0gfSk7IGlmIChzdXBlckNsYXNzKSBPYmplY3Quc2V0UHJvdG90eXBlT2YgPyBPYmplY3Quc2V0UHJvdG90eXBlT2Yoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIDogc3ViQ2xhc3MuX19wcm90b19fID0gc3VwZXJDbGFzczsgfVxuXG52YXIgaXNNb2RpZmllZEV2ZW50ID0gZnVuY3Rpb24gaXNNb2RpZmllZEV2ZW50KGV2ZW50KSB7XG4gIHJldHVybiAhIShldmVudC5tZXRhS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5IHx8IGV2ZW50LnNoaWZ0S2V5KTtcbn07XG5cbnZhciBMaW5rQ29udGFpbmVyID0gZXhwb3J0cy5MaW5rQ29udGFpbmVyID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKExpbmtDb250YWluZXIsIF9Db21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIExpbmtDb250YWluZXIoKSB7XG4gICAgdmFyIF90ZW1wLCBfdGhpcywgX3JldDtcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBMaW5rQ29udGFpbmVyKTtcblxuICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBhcmdzW19rZXldID0gYXJndW1lbnRzW19rZXldO1xuICAgIH1cblxuICAgIHJldHVybiBfcmV0ID0gKF90ZW1wID0gKF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsLmFwcGx5KF9Db21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpKSwgX3RoaXMpLCBfdGhpcy5oYW5kbGVDbGljayA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgY2hpbGRyZW4gPSBfdGhpcyRwcm9wcy5jaGlsZHJlbixcbiAgICAgICAgICBvbkNsaWNrID0gX3RoaXMkcHJvcHMub25DbGljaztcblxuXG4gICAgICBpZiAoY2hpbGRyZW4ucHJvcHMub25DbGljaykge1xuICAgICAgICBjaGlsZHJlbi5wcm9wcy5vbkNsaWNrKGV2ZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9uQ2xpY2spIHtcbiAgICAgICAgb25DbGljayhldmVudCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZXZlbnQuZGVmYXVsdFByZXZlbnRlZCAmJiAvLyBvbkNsaWNrIHByZXZlbnRlZCBkZWZhdWx0XG4gICAgICBldmVudC5idXR0b24gPT09IDAgJiYgLy8gaWdub3JlIHJpZ2h0IGNsaWNrc1xuICAgICAgIWlzTW9kaWZpZWRFdmVudChldmVudCkgLy8gaWdub3JlIGNsaWNrcyB3aXRoIG1vZGlmaWVyIGtleXNcbiAgICAgICkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICB2YXIgX3RoaXMkcHJvcHMyID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICAgIHJlcGxhY2UgPSBfdGhpcyRwcm9wczIucmVwbGFjZSxcbiAgICAgICAgICAgICAgdG8gPSBfdGhpcyRwcm9wczIudG8sXG4gICAgICAgICAgICAgIGhpc3RvcnkgPSBfdGhpcyRwcm9wczIuaGlzdG9yeTtcblxuXG4gICAgICAgICAgaWYgKHJlcGxhY2UpIHtcbiAgICAgICAgICAgIGhpc3RvcnkucmVwbGFjZSh0byk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpc3RvcnkucHVzaCh0byk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwgX3RlbXApLCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybihfdGhpcywgX3JldCk7XG4gIH1cblxuICBMaW5rQ29udGFpbmVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgaGlzdG9yeSA9IF9wcm9wcy5oaXN0b3J5LFxuICAgICAgICBfbG9jYXRpb24gPSBfcHJvcHMubG9jYXRpb24sXG4gICAgICAgIF9tYXRjaCA9IF9wcm9wcy5tYXRjaCxcbiAgICAgICAgX3N0YXRpY0NvbnRleHQgPSBfcHJvcHMuc3RhdGljQ29udGV4dCxcbiAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIHJlcGxhY2UgPSBfcHJvcHMucmVwbGFjZSxcbiAgICAgICAgdG8gPSBfcHJvcHMudG8sXG4gICAgICAgIGV4YWN0ID0gX3Byb3BzLmV4YWN0LFxuICAgICAgICBzdHJpY3QgPSBfcHJvcHMuc3RyaWN0LFxuICAgICAgICBhY3RpdmVDbGFzc05hbWUgPSBfcHJvcHMuYWN0aXZlQ2xhc3NOYW1lLFxuICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICBhY3RpdmVTdHlsZSA9IF9wcm9wcy5hY3RpdmVTdHlsZSxcbiAgICAgICAgc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgIGdldElzQWN0aXZlID0gX3Byb3BzLmlzQWN0aXZlLFxuICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsnaGlzdG9yeScsICdsb2NhdGlvbicsICdtYXRjaCcsICdzdGF0aWNDb250ZXh0JywgJ2NoaWxkcmVuJywgJ3JlcGxhY2UnLCAndG8nLCAnZXhhY3QnLCAnc3RyaWN0JywgJ2FjdGl2ZUNsYXNzTmFtZScsICdjbGFzc05hbWUnLCAnYWN0aXZlU3R5bGUnLCAnc3R5bGUnLCAnaXNBY3RpdmUnXSk7XG5cbiAgICB2YXIgaHJlZiA9IGhpc3RvcnkuY3JlYXRlSHJlZih0eXBlb2YgdG8gPT09ICdzdHJpbmcnID8geyBwYXRobmFtZTogdG8gfSA6IHRvKTtcblxuICAgIHZhciBjaGlsZCA9IF9yZWFjdDIuZGVmYXVsdC5DaGlsZHJlbi5vbmx5KGNoaWxkcmVuKTtcblxuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfcmVhY3RSb3V0ZXJEb20uUm91dGUsIHtcbiAgICAgIHBhdGg6ICh0eXBlb2YgdG8gPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRvKSkgPT09ICdvYmplY3QnID8gdG8ucGF0aG5hbWUgOiB0byxcbiAgICAgIGV4YWN0OiBleGFjdCxcbiAgICAgIHN0cmljdDogc3RyaWN0LFxuICAgICAgY2hpbGRyZW46IGZ1bmN0aW9uIGNoaWxkcmVuKF9yZWYpIHtcbiAgICAgICAgdmFyIGxvY2F0aW9uID0gX3JlZi5sb2NhdGlvbixcbiAgICAgICAgICAgIG1hdGNoID0gX3JlZi5tYXRjaDtcblxuICAgICAgICB2YXIgaXNBY3RpdmUgPSAhIShnZXRJc0FjdGl2ZSA/IGdldElzQWN0aXZlKG1hdGNoLCBsb2NhdGlvbikgOiBtYXRjaCk7XG5cbiAgICAgICAgcmV0dXJuIF9yZWFjdDIuZGVmYXVsdC5jbG9uZUVsZW1lbnQoY2hpbGQsIF9leHRlbmRzKHt9LCBwcm9wcywge1xuICAgICAgICAgIGNsYXNzTmFtZTogW2NsYXNzTmFtZSwgY2hpbGQucHJvcHMuY2xhc3NOYW1lLCBpc0FjdGl2ZSA/IGFjdGl2ZUNsYXNzTmFtZSA6IG51bGxdLmpvaW4oJyAnKS50cmltKCksXG4gICAgICAgICAgc3R5bGU6IGlzQWN0aXZlID8gX2V4dGVuZHMoe30sIHN0eWxlLCBhY3RpdmVTdHlsZSkgOiBzdHlsZSxcbiAgICAgICAgICBocmVmOiBocmVmLFxuICAgICAgICAgIG9uQ2xpY2s6IF90aGlzMi5oYW5kbGVDbGlja1xuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgcmV0dXJuIExpbmtDb250YWluZXI7XG59KF9yZWFjdC5Db21wb25lbnQpO1xuXG5MaW5rQ29udGFpbmVyLnByb3BUeXBlcyA9IHtcbiAgaGlzdG9yeTogX3Byb3BUeXBlczIuZGVmYXVsdC5zaGFwZSh7XG4gICAgcHVzaDogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgcmVwbGFjZTogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWQsXG4gICAgY3JlYXRlSHJlZjogX3Byb3BUeXBlczIuZGVmYXVsdC5mdW5jLmlzUmVxdWlyZWRcbiAgfSkuaXNSZXF1aXJlZCxcbiAgbG9jYXRpb246IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBtYXRjaDogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIHN0YXRpY0NvbnRleHQ6IF9wcm9wVHlwZXMyLmRlZmF1bHQub2JqZWN0LFxuICBjaGlsZHJlbjogX3Byb3BUeXBlczIuZGVmYXVsdC5lbGVtZW50LmlzUmVxdWlyZWQsXG4gIG9uQ2xpY2s6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuYyxcbiAgcmVwbGFjZTogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICB0bzogX3Byb3BUeXBlczIuZGVmYXVsdC5vbmVPZlR5cGUoW19wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLCBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdF0pLmlzUmVxdWlyZWQsXG4gIGV4YWN0OiBfcHJvcFR5cGVzMi5kZWZhdWx0LmJvb2wsXG4gIHN0cmljdDogX3Byb3BUeXBlczIuZGVmYXVsdC5ib29sLFxuICBjbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBhY3RpdmVDbGFzc05hbWU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuc3RyaW5nLFxuICBzdHlsZTogX3Byb3BUeXBlczIuZGVmYXVsdC5vYmplY3QsXG4gIGFjdGl2ZVN0eWxlOiBfcHJvcFR5cGVzMi5kZWZhdWx0Lm9iamVjdCxcbiAgaXNBY3RpdmU6IF9wcm9wVHlwZXMyLmRlZmF1bHQuZnVuY1xufTtcbkxpbmtDb250YWluZXIuZGVmYXVsdFByb3BzID0ge1xuICByZXBsYWNlOiBmYWxzZSxcbiAgZXhhY3Q6IGZhbHNlLFxuICBzdHJpY3Q6IGZhbHNlLFxuICBhY3RpdmVDbGFzc05hbWU6ICdhY3RpdmUnXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gKDAsIF9yZWFjdFJvdXRlckRvbS53aXRoUm91dGVyKShMaW5rQ29udGFpbmVyKTsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9yaWdpbmFsTW9kdWxlKSB7XG5cdGlmICghb3JpZ2luYWxNb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0dmFyIG1vZHVsZSA9IE9iamVjdC5jcmVhdGUob3JpZ2luYWxNb2R1bGUpO1xuXHRcdC8vIG1vZHVsZS5wYXJlbnQgPSB1bmRlZmluZWQgYnkgZGVmYXVsdFxuXHRcdGlmICghbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImxvYWRlZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5sO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwiaWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUuaTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImV4cG9ydHNcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBTZW50cnkuSW50ZWdyYXRpb25zOyIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gIHZhbHVlOiB0cnVlXG59KTtcbmV4cG9ydHMuZGVmYXVsdCA9IHNldHVwUmVhY3Q7XG5cbnZhciBfcmVhY3REb20gPSByZXF1aXJlKCdyZWFjdC1kb20nKTtcblxudmFyIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSA9IHZvaWQgMDtcbi8vIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2Jsb2IvdjE2LjUuMS9wYWNrYWdlcy9yZWFjdC1kb20vc3JjL2NsaWVudC9SZWFjdERPTS5qcyNMNzUwXG52YXIgc2VjcmV0ID0gX3JlYWN0RG9tLl9fU0VDUkVUX0lOVEVSTkFMU19ET19OT1RfVVNFX09SX1lPVV9XSUxMX0JFX0ZJUkVEO1xuaWYgKHNlY3JldCAmJiBzZWNyZXQuRXZlbnRzICYmIHNlY3JldC5FdmVudHNbM10pIHtcbiAgaW5qZWN0RXZlbnRQbHVnaW5zQnlOYW1lID0gc2VjcmV0LkV2ZW50c1szXTtcbn0gZWxzZSB7XG4gIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSA9IGZ1bmN0aW9uIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSgpIHtcbiAgICBjb25zb2xlLndhcm4oJ2xvZ3JvY2tldC1yZWFjdCBkb2VzIG5vdCB3b3JrIHdpdGggdGhpcyB2ZXJzaW9uIG9mIFJlYWN0Jyk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHNldHVwUmVhY3QoKSB7XG4gIGluamVjdEV2ZW50UGx1Z2luc0J5TmFtZSh7XG4gICAgUmVzcG9uZGVyRXZlbnRQbHVnaW46IHtcbiAgICAgIGV4dHJhY3RFdmVudHM6IGZ1bmN0aW9uIGxvZ1JvY2tldFJlYWN0RXZlbnRIb29rKHRvcExldmVsVHlwZSwgdGFyZ2V0SW5zdCwgZmliZXJOb2RlLCBuYXRpdmVFdmVudCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICh0b3BMZXZlbFR5cGUgIT09ICdjbGljaycgfHwgIWZpYmVyTm9kZSB8fCAhbmF0aXZlRXZlbnQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgY3VycmVudEVsZW1lbnQgPSBmaWJlck5vZGU7XG5cbiAgICAgICAgICB2YXIgbmFtZXMgPSBbXTtcbiAgICAgICAgICB3aGlsZSAoY3VycmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gdHlwZW9mIGN1cnJlbnRFbGVtZW50LmVsZW1lbnRUeXBlID09PSAnZnVuY3Rpb24nICYmIGN1cnJlbnRFbGVtZW50LmVsZW1lbnRUeXBlLmRpc3BsYXlOYW1lO1xuICAgICAgICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgICAgICAgbmFtZXMucHVzaChuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY3VycmVudEVsZW1lbnQucmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cbiAgICAgICAgICBuYXRpdmVFdmVudC5fX2xyTmFtZSA9IG5hbWVzO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2xvZ3JvY2tldC1yZWFjdCBjYXVnaHQgYW4gZXJyb3Igd2hpbGUgaG9va2luZyBpbnRvIFJlYWN0LiBQbGVhc2UgbWFrZSBzdXJlIHlvdSBhcmUgdXNpbmcgdGhlIGNvcnJlY3QgdmVyc2lvbiBvZiBsb2dyb2NrZXQtcmVhY3QgZm9yIHlvdXIgdmVyc2lvbiBvZiByZWFjdC1kb20uJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzWydkZWZhdWx0J107IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5MaW5rQ29udGFpbmVyID0gZXhwb3J0cy5JbmRleExpbmtDb250YWluZXIgPSB1bmRlZmluZWQ7XG5cbnZhciBfSW5kZXhMaW5rQ29udGFpbmVyMiA9IHJlcXVpcmUoJy4vSW5kZXhMaW5rQ29udGFpbmVyJyk7XG5cbnZhciBfSW5kZXhMaW5rQ29udGFpbmVyMyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX0luZGV4TGlua0NvbnRhaW5lcjIpO1xuXG52YXIgX0xpbmtDb250YWluZXIyID0gcmVxdWlyZSgnLi9MaW5rQ29udGFpbmVyJyk7XG5cbnZhciBfTGlua0NvbnRhaW5lcjMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9MaW5rQ29udGFpbmVyMik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuSW5kZXhMaW5rQ29udGFpbmVyID0gX0luZGV4TGlua0NvbnRhaW5lcjMuZGVmYXVsdDtcbmV4cG9ydHMuTGlua0NvbnRhaW5lciA9IF9MaW5rQ29udGFpbmVyMy5kZWZhdWx0OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlYWN0SXMgPSByZXF1aXJlKCdyZWFjdC1pcycpO1xuXG4vKipcbiAqIENvcHlyaWdodCAyMDE1LCBZYWhvbyEgSW5jLlxuICogQ29weXJpZ2h0cyBsaWNlbnNlZCB1bmRlciB0aGUgTmV3IEJTRCBMaWNlbnNlLiBTZWUgdGhlIGFjY29tcGFueWluZyBMSUNFTlNFIGZpbGUgZm9yIHRlcm1zLlxuICovXG52YXIgUkVBQ1RfU1RBVElDUyA9IHtcbiAgY2hpbGRDb250ZXh0VHlwZXM6IHRydWUsXG4gIGNvbnRleHRUeXBlOiB0cnVlLFxuICBjb250ZXh0VHlwZXM6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIGdldERlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZ2V0RGVyaXZlZFN0YXRlRnJvbUVycm9yOiB0cnVlLFxuICBnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHM6IHRydWUsXG4gIG1peGluczogdHJ1ZSxcbiAgcHJvcFR5cGVzOiB0cnVlLFxuICB0eXBlOiB0cnVlXG59O1xudmFyIEtOT1dOX1NUQVRJQ1MgPSB7XG4gIG5hbWU6IHRydWUsXG4gIGxlbmd0aDogdHJ1ZSxcbiAgcHJvdG90eXBlOiB0cnVlLFxuICBjYWxsZXI6IHRydWUsXG4gIGNhbGxlZTogdHJ1ZSxcbiAgYXJndW1lbnRzOiB0cnVlLFxuICBhcml0eTogdHJ1ZVxufTtcbnZhciBGT1JXQVJEX1JFRl9TVEFUSUNTID0ge1xuICAnJCR0eXBlb2YnOiB0cnVlLFxuICByZW5kZXI6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZVxufTtcbnZhciBNRU1PX1NUQVRJQ1MgPSB7XG4gICckJHR5cGVvZic6IHRydWUsXG4gIGNvbXBhcmU6IHRydWUsXG4gIGRlZmF1bHRQcm9wczogdHJ1ZSxcbiAgZGlzcGxheU5hbWU6IHRydWUsXG4gIHByb3BUeXBlczogdHJ1ZSxcbiAgdHlwZTogdHJ1ZVxufTtcbnZhciBUWVBFX1NUQVRJQ1MgPSB7fTtcblRZUEVfU1RBVElDU1tyZWFjdElzLkZvcndhcmRSZWZdID0gRk9SV0FSRF9SRUZfU1RBVElDUztcblRZUEVfU1RBVElDU1tyZWFjdElzLk1lbW9dID0gTUVNT19TVEFUSUNTO1xuXG5mdW5jdGlvbiBnZXRTdGF0aWNzKGNvbXBvbmVudCkge1xuICAvLyBSZWFjdCB2MTYuMTEgYW5kIGJlbG93XG4gIGlmIChyZWFjdElzLmlzTWVtbyhjb21wb25lbnQpKSB7XG4gICAgcmV0dXJuIE1FTU9fU1RBVElDUztcbiAgfSAvLyBSZWFjdCB2MTYuMTIgYW5kIGFib3ZlXG5cblxuICByZXR1cm4gVFlQRV9TVEFUSUNTW2NvbXBvbmVudFsnJCR0eXBlb2YnXV0gfHwgUkVBQ1RfU1RBVElDUztcbn1cblxudmFyIGRlZmluZVByb3BlcnR5ID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIGdldE93blByb3BlcnR5TmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcztcbnZhciBnZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xudmFyIGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XG52YXIgZ2V0UHJvdG90eXBlT2YgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2Y7XG52YXIgb2JqZWN0UHJvdG90eXBlID0gT2JqZWN0LnByb3RvdHlwZTtcbmZ1bmN0aW9uIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKHRhcmdldENvbXBvbmVudCwgc291cmNlQ29tcG9uZW50LCBibGFja2xpc3QpIHtcbiAgaWYgKHR5cGVvZiBzb3VyY2VDb21wb25lbnQgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgaG9pc3Qgb3ZlciBzdHJpbmcgKGh0bWwpIGNvbXBvbmVudHNcbiAgICBpZiAob2JqZWN0UHJvdG90eXBlKSB7XG4gICAgICB2YXIgaW5oZXJpdGVkQ29tcG9uZW50ID0gZ2V0UHJvdG90eXBlT2Yoc291cmNlQ29tcG9uZW50KTtcblxuICAgICAgaWYgKGluaGVyaXRlZENvbXBvbmVudCAmJiBpbmhlcml0ZWRDb21wb25lbnQgIT09IG9iamVjdFByb3RvdHlwZSkge1xuICAgICAgICBob2lzdE5vblJlYWN0U3RhdGljcyh0YXJnZXRDb21wb25lbnQsIGluaGVyaXRlZENvbXBvbmVudCwgYmxhY2tsaXN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IGdldE93blByb3BlcnR5TmFtZXMoc291cmNlQ29tcG9uZW50KTtcblxuICAgIGlmIChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgICAgIGtleXMgPSBrZXlzLmNvbmNhdChnZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlQ29tcG9uZW50KSk7XG4gICAgfVxuXG4gICAgdmFyIHRhcmdldFN0YXRpY3MgPSBnZXRTdGF0aWNzKHRhcmdldENvbXBvbmVudCk7XG4gICAgdmFyIHNvdXJjZVN0YXRpY3MgPSBnZXRTdGF0aWNzKHNvdXJjZUNvbXBvbmVudCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgICBpZiAoIUtOT1dOX1NUQVRJQ1Nba2V5XSAmJiAhKGJsYWNrbGlzdCAmJiBibGFja2xpc3Rba2V5XSkgJiYgIShzb3VyY2VTdGF0aWNzICYmIHNvdXJjZVN0YXRpY3Nba2V5XSkgJiYgISh0YXJnZXRTdGF0aWNzICYmIHRhcmdldFN0YXRpY3Nba2V5XSkpIHtcbiAgICAgICAgdmFyIGRlc2NyaXB0b3IgPSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlQ29tcG9uZW50LCBrZXkpO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgLy8gQXZvaWQgZmFpbHVyZXMgZnJvbSByZWFkLW9ubHkgcHJvcGVydGllc1xuICAgICAgICAgIGRlZmluZVByb3BlcnR5KHRhcmdldENvbXBvbmVudCwga2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0Q29tcG9uZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhvaXN0Tm9uUmVhY3RTdGF0aWNzO1xuIiwiaW1wb3J0IHsgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGh0bWxUcmVlQXNTdHJpbmcgfSBmcm9tICcuL2Jyb3dzZXInO1xuaW1wb3J0IHsgaXNFbGVtZW50LCBpc0Vycm9yLCBpc0V2ZW50LCBpc0luc3RhbmNlT2YsIGlzUGxhaW5PYmplY3QsIGlzUHJpbWl0aXZlLCBpc1N5bnRoZXRpY0V2ZW50IH0gZnJvbSAnLi9pcyc7XG5pbXBvcnQgeyBNZW1vIH0gZnJvbSAnLi9tZW1vJztcbmltcG9ydCB7IGdldEZ1bmN0aW9uTmFtZSB9IGZyb20gJy4vc3RhY2t0cmFjZSc7XG5pbXBvcnQgeyB0cnVuY2F0ZSB9IGZyb20gJy4vc3RyaW5nJztcbi8qKlxuICogV3JhcCBhIGdpdmVuIG9iamVjdCBtZXRob2Qgd2l0aCBhIGhpZ2hlci1vcmRlciBmdW5jdGlvblxuICpcbiAqIEBwYXJhbSBzb3VyY2UgQW4gb2JqZWN0IHRoYXQgY29udGFpbnMgYSBtZXRob2QgdG8gYmUgd3JhcHBlZC5cbiAqIEBwYXJhbSBuYW1lIEEgbmFtZSBvZiBtZXRob2QgdG8gYmUgd3JhcHBlZC5cbiAqIEBwYXJhbSByZXBsYWNlbWVudCBBIGZ1bmN0aW9uIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gd3JhcCBhIGdpdmVuIG1ldGhvZC5cbiAqIEByZXR1cm5zIHZvaWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZpbGwoc291cmNlLCBuYW1lLCByZXBsYWNlbWVudCkge1xuICAgIGlmICghKG5hbWUgaW4gc291cmNlKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBvcmlnaW5hbCA9IHNvdXJjZVtuYW1lXTtcbiAgICB2YXIgd3JhcHBlZCA9IHJlcGxhY2VtZW50KG9yaWdpbmFsKTtcbiAgICAvLyBNYWtlIHN1cmUgaXQncyBhIGZ1bmN0aW9uIGZpcnN0LCBhcyB3ZSBuZWVkIHRvIGF0dGFjaCBhbiBlbXB0eSBwcm90b3R5cGUgZm9yIGBkZWZpbmVQcm9wZXJ0aWVzYCB0byB3b3JrXG4gICAgLy8gb3RoZXJ3aXNlIGl0J2xsIHRocm93IFwiVHlwZUVycm9yOiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyBjYWxsZWQgb24gbm9uLW9iamVjdFwiXG4gICAgaWYgKHR5cGVvZiB3cmFwcGVkID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3cmFwcGVkLnByb3RvdHlwZSA9IHdyYXBwZWQucHJvdG90eXBlIHx8IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMod3JhcHBlZCwge1xuICAgICAgICAgICAgICAgIF9fc2VudHJ5X29yaWdpbmFsX186IHtcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBvcmlnaW5hbCxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF9Pbykge1xuICAgICAgICAgICAgLy8gVGhpcyBjYW4gdGhyb3cgaWYgbXVsdGlwbGUgZmlsbCBoYXBwZW5zIG9uIGEgZ2xvYmFsIG9iamVjdCBsaWtlIFhNTEh0dHBSZXF1ZXN0XG4gICAgICAgICAgICAvLyBGaXhlcyBodHRwczovL2dpdGh1Yi5jb20vZ2V0c2VudHJ5L3NlbnRyeS1qYXZhc2NyaXB0L2lzc3Vlcy8yMDQzXG4gICAgICAgIH1cbiAgICB9XG4gICAgc291cmNlW25hbWVdID0gd3JhcHBlZDtcbn1cbi8qKlxuICogRW5jb2RlcyBnaXZlbiBvYmplY3QgaW50byB1cmwtZnJpZW5kbHkgZm9ybWF0XG4gKlxuICogQHBhcmFtIG9iamVjdCBBbiBvYmplY3QgdGhhdCBjb250YWlucyBzZXJpYWxpemFibGUgdmFsdWVzXG4gKiBAcmV0dXJucyBzdHJpbmcgRW5jb2RlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gdXJsRW5jb2RlKG9iamVjdCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhvYmplY3QpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKGtleSkgeyByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChvYmplY3Rba2V5XSk7IH0pXG4gICAgICAgIC5qb2luKCcmJyk7XG59XG4vKipcbiAqIFRyYW5zZm9ybXMgYW55IG9iamVjdCBpbnRvIGFuIG9iamVjdCBsaXRlcmFsIHdpdGggYWxsIGl0J3MgYXR0cmlidXRlc1xuICogYXR0YWNoZWQgdG8gaXQuXG4gKlxuICogQHBhcmFtIHZhbHVlIEluaXRpYWwgc291cmNlIHRoYXQgd2UgaGF2ZSB0byB0cmFuc2Zvcm0gaW4gb3JkZXIgdG8gYmUgdXNhYmxlIGJ5IHRoZSBzZXJpYWxpemVyXG4gKi9cbmZ1bmN0aW9uIGdldFdhbGtTb3VyY2UodmFsdWUpIHtcbiAgICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICAgICAgdmFyIGVycm9yID0gdmFsdWU7XG4gICAgICAgIHZhciBlcnIgPSB7XG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgICAgbmFtZTogZXJyb3IubmFtZSxcbiAgICAgICAgICAgIHN0YWNrOiBlcnJvci5zdGFjayxcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiBlcnJvcikge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlcnJvciwgaSkpIHtcbiAgICAgICAgICAgICAgICBlcnJbaV0gPSBlcnJvcltpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZXJyO1xuICAgIH1cbiAgICBpZiAoaXNFdmVudCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIGV2ZW50XzEgPSB2YWx1ZTtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgICBzb3VyY2UudHlwZSA9IGV2ZW50XzEudHlwZTtcbiAgICAgICAgLy8gQWNjZXNzaW5nIGV2ZW50LnRhcmdldCBjYW4gdGhyb3cgKHNlZSBnZXRzZW50cnkvcmF2ZW4tanMjODM4LCAjNzY4KVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc291cmNlLnRhcmdldCA9IGlzRWxlbWVudChldmVudF8xLnRhcmdldClcbiAgICAgICAgICAgICAgICA/IGh0bWxUcmVlQXNTdHJpbmcoZXZlbnRfMS50YXJnZXQpXG4gICAgICAgICAgICAgICAgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZXZlbnRfMS50YXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChfb08pIHtcbiAgICAgICAgICAgIHNvdXJjZS50YXJnZXQgPSAnPHVua25vd24+JztcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc291cmNlLmN1cnJlbnRUYXJnZXQgPSBpc0VsZW1lbnQoZXZlbnRfMS5jdXJyZW50VGFyZ2V0KVxuICAgICAgICAgICAgICAgID8gaHRtbFRyZWVBc1N0cmluZyhldmVudF8xLmN1cnJlbnRUYXJnZXQpXG4gICAgICAgICAgICAgICAgOiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZXZlbnRfMS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoX29PKSB7XG4gICAgICAgICAgICBzb3VyY2UuY3VycmVudFRhcmdldCA9ICc8dW5rbm93bj4nO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgQ3VzdG9tRXZlbnQgIT09ICd1bmRlZmluZWQnICYmIGlzSW5zdGFuY2VPZih2YWx1ZSwgQ3VzdG9tRXZlbnQpKSB7XG4gICAgICAgICAgICBzb3VyY2UuZGV0YWlsID0gZXZlbnRfMS5kZXRhaWw7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSBpbiBldmVudF8xKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV2ZW50XzEsIGkpKSB7XG4gICAgICAgICAgICAgICAgc291cmNlW2ldID0gZXZlbnRfMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4vKiogQ2FsY3VsYXRlcyBieXRlcyBzaXplIG9mIGlucHV0IHN0cmluZyAqL1xuZnVuY3Rpb24gdXRmOExlbmd0aCh2YWx1ZSkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgcmV0dXJuIH4tZW5jb2RlVVJJKHZhbHVlKS5zcGxpdCgvJS4ufC4vKS5sZW5ndGg7XG59XG4vKiogQ2FsY3VsYXRlcyBieXRlcyBzaXplIG9mIGlucHV0IG9iamVjdCAqL1xuZnVuY3Rpb24ganNvblNpemUodmFsdWUpIHtcbiAgICByZXR1cm4gdXRmOExlbmd0aChKU09OLnN0cmluZ2lmeSh2YWx1ZSkpO1xufVxuLyoqIEpTRG9jICovXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplVG9TaXplKG9iamVjdCwgXG4vLyBEZWZhdWx0IE5vZGUuanMgUkVQTCBkZXB0aFxuZGVwdGgsIFxuLy8gMTAwa0IsIGFzIDIwMGtCIGlzIG1heCBwYXlsb2FkIHNpemUsIHNvIGhhbGYgc291bmRzIHJlYXNvbmFibGVcbm1heFNpemUpIHtcbiAgICBpZiAoZGVwdGggPT09IHZvaWQgMCkgeyBkZXB0aCA9IDM7IH1cbiAgICBpZiAobWF4U2l6ZSA9PT0gdm9pZCAwKSB7IG1heFNpemUgPSAxMDAgKiAxMDI0OyB9XG4gICAgdmFyIHNlcmlhbGl6ZWQgPSBub3JtYWxpemUob2JqZWN0LCBkZXB0aCk7XG4gICAgaWYgKGpzb25TaXplKHNlcmlhbGl6ZWQpID4gbWF4U2l6ZSkge1xuICAgICAgICByZXR1cm4gbm9ybWFsaXplVG9TaXplKG9iamVjdCwgZGVwdGggLSAxLCBtYXhTaXplKTtcbiAgICB9XG4gICAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG59XG4vKiogVHJhbnNmb3JtcyBhbnkgaW5wdXQgdmFsdWUgaW50byBhIHN0cmluZyBmb3JtLCBlaXRoZXIgcHJpbWl0aXZlIHZhbHVlIG9yIGEgdHlwZSBvZiB0aGUgaW5wdXQgKi9cbmZ1bmN0aW9uIHNlcmlhbGl6ZVZhbHVlKHZhbHVlKSB7XG4gICAgdmFyIHR5cGUgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgIC8vIE5vZGUuanMgUkVQTCBub3RhdGlvblxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgICAgIHJldHVybiAnW09iamVjdF0nO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgICByZXR1cm4gJ1tBcnJheV0nO1xuICAgIH1cbiAgICB2YXIgbm9ybWFsaXplZCA9IG5vcm1hbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICByZXR1cm4gaXNQcmltaXRpdmUobm9ybWFsaXplZCkgPyBub3JtYWxpemVkIDogdHlwZTtcbn1cbi8qKlxuICogbm9ybWFsaXplVmFsdWUoKVxuICpcbiAqIFRha2VzIHVuc2VyaWFsaXphYmxlIGlucHV0IGFuZCBtYWtlIGl0IHNlcmlhbGl6YWJsZSBmcmllbmRseVxuICpcbiAqIC0gdHJhbnNsYXRlcyB1bmRlZmluZWQvTmFOIHZhbHVlcyB0byBcIlt1bmRlZmluZWRdXCIvXCJbTmFOXVwiIHJlc3BlY3RpdmVseSxcbiAqIC0gc2VyaWFsaXplcyBFcnJvciBvYmplY3RzXG4gKiAtIGZpbHRlciBnbG9iYWwgb2JqZWN0c1xuICovXG5mdW5jdGlvbiBub3JtYWxpemVWYWx1ZSh2YWx1ZSwga2V5KSB7XG4gICAgaWYgKGtleSA9PT0gJ2RvbWFpbicgJiYgdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZS5fZXZlbnRzKSB7XG4gICAgICAgIHJldHVybiAnW0RvbWFpbl0nO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSAnZG9tYWluRW1pdHRlcicpIHtcbiAgICAgICAgcmV0dXJuICdbRG9tYWluRW1pdHRlcl0nO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgPT09IGdsb2JhbCkge1xuICAgICAgICByZXR1cm4gJ1tHbG9iYWxdJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlID09PSB3aW5kb3cpIHtcbiAgICAgICAgcmV0dXJuICdbV2luZG93XSc7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlID09PSBkb2N1bWVudCkge1xuICAgICAgICByZXR1cm4gJ1tEb2N1bWVudF0nO1xuICAgIH1cbiAgICAvLyBSZWFjdCdzIFN5bnRoZXRpY0V2ZW50IHRoaW5neVxuICAgIGlmIChpc1N5bnRoZXRpY0V2ZW50KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gJ1tTeW50aGV0aWNFdmVudF0nO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJyAmJiB2YWx1ZSAhPT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuICdbTmFOXSc7XG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHJldHVybiAnW3VuZGVmaW5lZF0nO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBcIltGdW5jdGlvbjogXCIgKyBnZXRGdW5jdGlvbk5hbWUodmFsdWUpICsgXCJdXCI7XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbi8qKlxuICogV2Fsa3MgYW4gb2JqZWN0IHRvIHBlcmZvcm0gYSBub3JtYWxpemF0aW9uIG9uIGl0XG4gKlxuICogQHBhcmFtIGtleSBvZiBvYmplY3QgdGhhdCdzIHdhbGtlZCBpbiBjdXJyZW50IGl0ZXJhdGlvblxuICogQHBhcmFtIHZhbHVlIG9iamVjdCB0byBiZSB3YWxrZWRcbiAqIEBwYXJhbSBkZXB0aCBPcHRpb25hbCBudW1iZXIgaW5kaWNhdGluZyBob3cgZGVlcCBzaG91bGQgd2Fsa2luZyBiZSBwZXJmb3JtZWRcbiAqIEBwYXJhbSBtZW1vIE9wdGlvbmFsIE1lbW8gY2xhc3MgaGFuZGxpbmcgZGVjeWNsaW5nXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvZXhwbGljaXQtbW9kdWxlLWJvdW5kYXJ5LXR5cGVzXG5leHBvcnQgZnVuY3Rpb24gd2FsayhrZXksIHZhbHVlLCBkZXB0aCwgbWVtbykge1xuICAgIGlmIChkZXB0aCA9PT0gdm9pZCAwKSB7IGRlcHRoID0gK0luZmluaXR5OyB9XG4gICAgaWYgKG1lbW8gPT09IHZvaWQgMCkgeyBtZW1vID0gbmV3IE1lbW8oKTsgfVxuICAgIC8vIElmIHdlIHJlYWNoIHRoZSBtYXhpbXVtIGRlcHRoLCBzZXJpYWxpemUgd2hhdGV2ZXIgaGFzIGxlZnRcbiAgICBpZiAoZGVwdGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZVZhbHVlKHZhbHVlKTtcbiAgICB9XG4gICAgLyogZXNsaW50LWRpc2FibGUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1tZW1iZXItYWNjZXNzICovXG4gICAgLy8gSWYgdmFsdWUgaW1wbGVtZW50cyBgdG9KU09OYCBtZXRob2QsIGNhbGwgaXQgYW5kIHJldHVybiBlYXJseVxuICAgIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2YWx1ZS50b0pTT04gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvSlNPTigpO1xuICAgIH1cbiAgICAvKiBlc2xpbnQtZW5hYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtbWVtYmVyLWFjY2VzcyAqL1xuICAgIC8vIElmIG5vcm1hbGl6ZWQgdmFsdWUgaXMgYSBwcmltaXRpdmUsIHRoZXJlIGFyZSBubyBicmFuY2hlcyBsZWZ0IHRvIHdhbGssIHNvIHdlIGNhbiBqdXN0IGJhaWwgb3V0LCBhcyB0aGVyZXMgbm8gcG9pbnQgaW4gZ29pbmcgZG93biB0aGF0IGJyYW5jaCBhbnkgZnVydGhlclxuICAgIHZhciBub3JtYWxpemVkID0gbm9ybWFsaXplVmFsdWUodmFsdWUsIGtleSk7XG4gICAgaWYgKGlzUHJpbWl0aXZlKG5vcm1hbGl6ZWQpKSB7XG4gICAgICAgIHJldHVybiBub3JtYWxpemVkO1xuICAgIH1cbiAgICAvLyBDcmVhdGUgc291cmNlIHRoYXQgd2Ugd2lsbCB1c2UgZm9yIG5leHQgaXR0ZXJhdGlvbnMsIGVpdGhlciBvYmplY3RpZmllZCBlcnJvciBvYmplY3QgKEVycm9yIHR5cGUgd2l0aCBleHRyYWN0ZWQga2V5czp2YWx1ZSBwYWlycykgb3IgdGhlIGlucHV0IGl0c2VsZlxuICAgIHZhciBzb3VyY2UgPSBnZXRXYWxrU291cmNlKHZhbHVlKTtcbiAgICAvLyBDcmVhdGUgYW4gYWNjdW11bGF0b3IgdGhhdCB3aWxsIGFjdCBhcyBhIHBhcmVudCBmb3IgYWxsIGZ1dHVyZSBpdHRlcmF0aW9ucyBvZiB0aGF0IGJyYW5jaFxuICAgIHZhciBhY2MgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IFtdIDoge307XG4gICAgLy8gSWYgd2UgYWxyZWFkeSB3YWxrZWQgdGhhdCBicmFuY2gsIGJhaWwgb3V0LCBhcyBpdCdzIGNpcmN1bGFyIHJlZmVyZW5jZVxuICAgIGlmIChtZW1vLm1lbW9pemUodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiAnW0NpcmN1bGFyIH5dJztcbiAgICB9XG4gICAgLy8gV2FsayBhbGwga2V5cyBvZiB0aGUgc291cmNlXG4gICAgZm9yICh2YXIgaW5uZXJLZXkgaW4gc291cmNlKSB7XG4gICAgICAgIC8vIEF2b2lkIGl0ZXJhdGluZyBvdmVyIGZpZWxkcyBpbiB0aGUgcHJvdG90eXBlIGlmIHRoZXkndmUgc29tZWhvdyBiZWVuIGV4cG9zZWQgdG8gZW51bWVyYXRpb24uXG4gICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwgaW5uZXJLZXkpKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSB3YWxrIHRocm91Z2ggYWxsIHRoZSBjaGlsZCBub2Rlc1xuICAgICAgICBhY2NbaW5uZXJLZXldID0gd2Fsayhpbm5lcktleSwgc291cmNlW2lubmVyS2V5XSwgZGVwdGggLSAxLCBtZW1vKTtcbiAgICB9XG4gICAgLy8gT25jZSB3YWxrZWQgdGhyb3VnaCBhbGwgdGhlIGJyYW5jaGVzLCByZW1vdmUgdGhlIHBhcmVudCBmcm9tIG1lbW8gc3RvcmFnZVxuICAgIG1lbW8udW5tZW1vaXplKHZhbHVlKTtcbiAgICAvLyBSZXR1cm4gYWNjdW11bGF0ZWQgdmFsdWVzXG4gICAgcmV0dXJuIGFjYztcbn1cbi8qKlxuICogbm9ybWFsaXplKClcbiAqXG4gKiAtIENyZWF0ZXMgYSBjb3B5IHRvIHByZXZlbnQgb3JpZ2luYWwgaW5wdXQgbXV0YXRpb25cbiAqIC0gU2tpcCBub24tZW51bWVyYWJsZXJzXG4gKiAtIENhbGxzIGB0b0pTT05gIGlmIGltcGxlbWVudGVkXG4gKiAtIFJlbW92ZXMgY2lyY3VsYXIgcmVmZXJlbmNlc1xuICogLSBUcmFuc2xhdGVzIG5vbi1zZXJpYWxpemVhYmxlIHZhbHVlcyAodW5kZWZpbmVkL05hTi9GdW5jdGlvbnMpIHRvIHNlcmlhbGl6YWJsZSBmb3JtYXRcbiAqIC0gVHJhbnNsYXRlcyBrbm93biBnbG9iYWwgb2JqZWN0cy9DbGFzc2VzIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uc1xuICogLSBUYWtlcyBjYXJlIG9mIEVycm9yIG9iamVjdHMgc2VyaWFsaXphdGlvblxuICogLSBPcHRpb25hbGx5IGxpbWl0IGRlcHRoIG9mIGZpbmFsIG91dHB1dFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZShpbnB1dCwgZGVwdGgpIHtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpbnB1dCwgZnVuY3Rpb24gKGtleSwgdmFsdWUpIHsgcmV0dXJuIHdhbGsoa2V5LCB2YWx1ZSwgZGVwdGgpOyB9KSk7XG4gICAgfVxuICAgIGNhdGNoIChfb08pIHtcbiAgICAgICAgcmV0dXJuICcqKm5vbi1zZXJpYWxpemFibGUqKic7XG4gICAgfVxufVxuLyoqXG4gKiBHaXZlbiBhbnkgY2FwdHVyZWQgZXhjZXB0aW9uLCBleHRyYWN0IGl0cyBrZXlzIGFuZCBjcmVhdGUgYSBzb3J0ZWRcbiAqIGFuZCB0cnVuY2F0ZWQgbGlzdCB0aGF0IHdpbGwgYmUgdXNlZCBpbnNpZGUgdGhlIGV2ZW50IG1lc3NhZ2UuXG4gKiBlZy4gYE5vbi1lcnJvciBleGNlcHRpb24gY2FwdHVyZWQgd2l0aCBrZXlzOiBmb28sIGJhciwgYmF6YFxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2V4cGxpY2l0LW1vZHVsZS1ib3VuZGFyeS10eXBlc1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RFeGNlcHRpb25LZXlzRm9yTWVzc2FnZShleGNlcHRpb24sIG1heExlbmd0aCkge1xuICAgIGlmIChtYXhMZW5ndGggPT09IHZvaWQgMCkgeyBtYXhMZW5ndGggPSA0MDsgfVxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZ2V0V2Fsa1NvdXJjZShleGNlcHRpb24pKTtcbiAgICBrZXlzLnNvcnQoKTtcbiAgICBpZiAoIWtleXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAnW29iamVjdCBoYXMgbm8ga2V5c10nO1xuICAgIH1cbiAgICBpZiAoa2V5c1swXS5sZW5ndGggPj0gbWF4TGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiB0cnVuY2F0ZShrZXlzWzBdLCBtYXhMZW5ndGgpO1xuICAgIH1cbiAgICBmb3IgKHZhciBpbmNsdWRlZEtleXMgPSBrZXlzLmxlbmd0aDsgaW5jbHVkZWRLZXlzID4gMDsgaW5jbHVkZWRLZXlzLS0pIHtcbiAgICAgICAgdmFyIHNlcmlhbGl6ZWQgPSBrZXlzLnNsaWNlKDAsIGluY2x1ZGVkS2V5cykuam9pbignLCAnKTtcbiAgICAgICAgaWYgKHNlcmlhbGl6ZWQubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5jbHVkZWRLZXlzID09PSBrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydW5jYXRlKHNlcmlhbGl6ZWQsIG1heExlbmd0aCk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbn1cbi8qKlxuICogR2l2ZW4gYW55IG9iamVjdCwgcmV0dXJuIHRoZSBuZXcgb2JqZWN0IHdpdGggcmVtb3ZlZCBrZXlzIHRoYXQgdmFsdWUgd2FzIGB1bmRlZmluZWRgLlxuICogV29ya3MgcmVjdXJzaXZlbHkgb24gb2JqZWN0cyBhbmQgYXJyYXlzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJvcFVuZGVmaW5lZEtleXModmFsKSB7XG4gICAgdmFyIGVfMSwgX2E7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QodmFsKSkge1xuICAgICAgICB2YXIgb2JqID0gdmFsO1xuICAgICAgICB2YXIgcnYgPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIF9iID0gX192YWx1ZXMoT2JqZWN0LmtleXMob2JqKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIga2V5ID0gX2MudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBvYmpba2V5XSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcnZba2V5XSA9IGRyb3BVbmRlZmluZWRLZXlzKG9ialtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcnY7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgcmV0dXJuIHZhbC5tYXAoZHJvcFVuZGVmaW5lZEtleXMpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JqZWN0LmpzLm1hcCIsInZhciBkZWZhdWx0RnVuY3Rpb25OYW1lID0gJzxhbm9ueW1vdXM+Jztcbi8qKlxuICogU2FmZWx5IGV4dHJhY3QgZnVuY3Rpb24gbmFtZSBmcm9tIGl0c2VsZlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RnVuY3Rpb25OYW1lKGZuKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCFmbiB8fCB0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0RnVuY3Rpb25OYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmbi5uYW1lIHx8IGRlZmF1bHRGdW5jdGlvbk5hbWU7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIEp1c3QgYWNjZXNzaW5nIGN1c3RvbSBwcm9wcyBpbiBzb21lIFNlbGVuaXVtIGVudmlyb25tZW50c1xuICAgICAgICAvLyBjYW4gY2F1c2UgYSBcIlBlcm1pc3Npb24gZGVuaWVkXCIgZXhjZXB0aW9uIChzZWUgcmF2ZW4tanMjNDk1KS5cbiAgICAgICAgcmV0dXJuIGRlZmF1bHRGdW5jdGlvbk5hbWU7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RhY2t0cmFjZS5qcy5tYXAiLCIvKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3MgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnkgKi9cbi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9leHBsaWNpdC1tb2R1bGUtYm91bmRhcnktdHlwZXMgKi9cbi8qKlxuICogTWVtbyBjbGFzcyB1c2VkIGZvciBkZWN5Y2xlIGpzb24gb2JqZWN0cy4gVXNlcyBXZWFrU2V0IGlmIGF2YWlsYWJsZSBvdGhlcndpc2UgYXJyYXkuXG4gKi9cbnZhciBNZW1vID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1lbW8oKSB7XG4gICAgICAgIHRoaXMuX2hhc1dlYWtTZXQgPSB0eXBlb2YgV2Vha1NldCA9PT0gJ2Z1bmN0aW9uJztcbiAgICAgICAgdGhpcy5faW5uZXIgPSB0aGlzLl9oYXNXZWFrU2V0ID8gbmV3IFdlYWtTZXQoKSA6IFtdO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIG9iaiB0byByZW1lbWJlci5cbiAgICAgKiBAcGFyYW0gb2JqIE9iamVjdCB0byByZW1lbWJlclxuICAgICAqL1xuICAgIE1lbW8ucHJvdG90eXBlLm1lbW9pemUgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgICAgIGlmICh0aGlzLl9oYXNXZWFrU2V0KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5faW5uZXIuaGFzKG9iaikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2lubmVyLmFkZChvYmopO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvcHJlZmVyLWZvci1vZlxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2lubmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSB0aGlzLl9pbm5lcltpXTtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gb2JqKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5faW5uZXIucHVzaChvYmopO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIG9iamVjdCBmcm9tIGludGVybmFsIHN0b3JhZ2UuXG4gICAgICogQHBhcmFtIG9iaiBPYmplY3QgdG8gZm9yZ2V0XG4gICAgICovXG4gICAgTWVtby5wcm90b3R5cGUudW5tZW1vaXplID0gZnVuY3Rpb24gKG9iaikge1xuICAgICAgICBpZiAodGhpcy5faGFzV2Vha1NldCkge1xuICAgICAgICAgICAgdGhpcy5faW5uZXIuZGVsZXRlKG9iaik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuX2lubmVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lubmVyW2ldID09PSBvYmopIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faW5uZXIuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBNZW1vO1xufSgpKTtcbmV4cG9ydCB7IE1lbW8gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lbW8uanMubWFwIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwidmFyIGFwaSA9IHJlcXVpcmUoXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCIpO1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi9ub2RlX21vZHVsZXMvbWluaS1jc3MtZXh0cmFjdC1wbHVnaW4vZGlzdC9sb2FkZXIuanMhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9BcHAuY3NzXCIpO1xuXG4gICAgICAgICAgICBjb250ZW50ID0gY29udGVudC5fX2VzTW9kdWxlID8gY29udGVudC5kZWZhdWx0IDogY29udGVudDtcblxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICBjb250ZW50ID0gW1ttb2R1bGUuaWQsIGNvbnRlbnQsICcnXV07XG4gICAgICAgICAgICB9XG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuaW5zZXJ0ID0gXCJoZWFkXCI7XG5vcHRpb25zLnNpbmdsZXRvbiA9IGZhbHNlO1xuXG52YXIgdXBkYXRlID0gYXBpKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxubW9kdWxlLmV4cG9ydHMgPSBjb250ZW50LmxvY2FscyB8fCB7fTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIGlzT2xkSUUgPSBmdW5jdGlvbiBpc09sZElFKCkge1xuICB2YXIgbWVtbztcbiAgcmV0dXJuIGZ1bmN0aW9uIG1lbW9yaXplKCkge1xuICAgIGlmICh0eXBlb2YgbWVtbyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIC8vIFRlc3QgZm9yIElFIDw9IDkgYXMgcHJvcG9zZWQgYnkgQnJvd3NlcmhhY2tzXG4gICAgICAvLyBAc2VlIGh0dHA6Ly9icm93c2VyaGFja3MuY29tLyNoYWNrLWU3MWQ4NjkyZjY1MzM0MTczZmVlNzE1YzIyMmNiODA1XG4gICAgICAvLyBUZXN0cyBmb3IgZXhpc3RlbmNlIG9mIHN0YW5kYXJkIGdsb2JhbHMgaXMgdG8gYWxsb3cgc3R5bGUtbG9hZGVyXG4gICAgICAvLyB0byBvcGVyYXRlIGNvcnJlY3RseSBpbnRvIG5vbi1zdGFuZGFyZCBlbnZpcm9ubWVudHNcbiAgICAgIC8vIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIvaXNzdWVzLzE3N1xuICAgICAgbWVtbyA9IEJvb2xlYW4od2luZG93ICYmIGRvY3VtZW50ICYmIGRvY3VtZW50LmFsbCAmJiAhd2luZG93LmF0b2IpO1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vO1xuICB9O1xufSgpO1xuXG52YXIgZ2V0VGFyZ2V0ID0gZnVuY3Rpb24gZ2V0VGFyZ2V0KCkge1xuICB2YXIgbWVtbyA9IHt9O1xuICByZXR1cm4gZnVuY3Rpb24gbWVtb3JpemUodGFyZ2V0KSB7XG4gICAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICAgIH1cblxuICAgIHJldHVybiBtZW1vW3RhcmdldF07XG4gIH07XG59KCk7XG5cbnZhciBzdHlsZXNJbkRvbSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRG9tLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRG9tW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM11cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5Eb21baW5kZXhdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRG9tW2luZGV4XS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlc0luRG9tLnB1c2goe1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiBhZGRTdHlsZShvYmosIG9wdGlvbnMpLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xuICB2YXIgYXR0cmlidXRlcyA9IG9wdGlvbnMuYXR0cmlidXRlcyB8fCB7fTtcblxuICBpZiAodHlwZW9mIGF0dHJpYnV0ZXMubm9uY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSAndW5kZWZpbmVkJyA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICAgIGlmIChub25jZSkge1xuICAgICAgYXR0cmlidXRlcy5ub25jZSA9IG5vbmNlO1xuICAgIH1cbiAgfVxuXG4gIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHN0eWxlLnNldEF0dHJpYnV0ZShrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG4gIH0pO1xuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5pbnNlcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRpb25zLmluc2VydChzdHlsZSk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHRhcmdldCA9IGdldFRhcmdldChvcHRpb25zLmluc2VydCB8fCAnaGVhZCcpO1xuXG4gICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gICAgfVxuXG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgfVxuXG4gIHJldHVybiBzdHlsZTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGUucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGUpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxudmFyIHJlcGxhY2VUZXh0ID0gZnVuY3Rpb24gcmVwbGFjZVRleHQoKSB7XG4gIHZhciB0ZXh0U3RvcmUgPSBbXTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHJlcGxhY2UoaW5kZXgsIHJlcGxhY2VtZW50KSB7XG4gICAgdGV4dFN0b3JlW2luZGV4XSA9IHJlcGxhY2VtZW50O1xuICAgIHJldHVybiB0ZXh0U3RvcmUuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ1xcbicpO1xuICB9O1xufSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlLCBpbmRleCwgcmVtb3ZlLCBvYmopIHtcbiAgdmFyIGNzcyA9IHJlbW92ZSA/ICcnIDogb2JqLm1lZGlhID8gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKS5jb25jYXQob2JqLmNzcywgXCJ9XCIpIDogb2JqLmNzczsgLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IHJlcGxhY2VUZXh0KGluZGV4LCBjc3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBjc3NOb2RlID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKTtcbiAgICB2YXIgY2hpbGROb2RlcyA9IHN0eWxlLmNoaWxkTm9kZXM7XG5cbiAgICBpZiAoY2hpbGROb2Rlc1tpbmRleF0pIHtcbiAgICAgIHN0eWxlLnJlbW92ZUNoaWxkKGNoaWxkTm9kZXNbaW5kZXhdKTtcbiAgICB9XG5cbiAgICBpZiAoY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgIHN0eWxlLmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGNzc05vZGUpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseVRvVGFnKHN0eWxlLCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IG9iai5jc3M7XG4gIHZhciBtZWRpYSA9IG9iai5tZWRpYTtcbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKG1lZGlhKSB7XG4gICAgc3R5bGUuc2V0QXR0cmlidXRlKCdtZWRpYScsIG1lZGlhKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZS5yZW1vdmVBdHRyaWJ1dGUoJ21lZGlhJyk7XG4gIH1cblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSAndW5kZWZpbmVkJykge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBpZiAoc3R5bGUuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlLnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGUuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGUucmVtb3ZlQ2hpbGQoc3R5bGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxudmFyIHNpbmdsZXRvbiA9IG51bGw7XG52YXIgc2luZ2xldG9uQ291bnRlciA9IDA7XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgc3R5bGU7XG4gIHZhciB1cGRhdGU7XG4gIHZhciByZW1vdmU7XG5cbiAgaWYgKG9wdGlvbnMuc2luZ2xldG9uKSB7XG4gICAgdmFyIHN0eWxlSW5kZXggPSBzaW5nbGV0b25Db3VudGVyKys7XG4gICAgc3R5bGUgPSBzaW5nbGV0b24gfHwgKHNpbmdsZXRvbiA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSk7XG4gICAgdXBkYXRlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCBmYWxzZSk7XG4gICAgcmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlLCBzdHlsZUluZGV4LCB0cnVlKTtcbiAgfSBlbHNlIHtcbiAgICBzdHlsZSA9IGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgICB1cGRhdGUgPSBhcHBseVRvVGFnLmJpbmQobnVsbCwgc3R5bGUsIG9wdGlvbnMpO1xuXG4gICAgcmVtb3ZlID0gZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlKTtcbiAgICB9O1xuICB9XG5cbiAgdXBkYXRlKG9iaik7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGVTdHlsZShuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlbW92ZSgpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTsgLy8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG4gIC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2VcblxuICBpZiAoIW9wdGlvbnMuc2luZ2xldG9uICYmIHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG4gIH1cblxuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG5ld0xpc3QpICE9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRvbVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRG9tW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRvbVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRvbS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuSW5kZXhMaW5rQ29udGFpbmVyID0gdW5kZWZpbmVkO1xuXG52YXIgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9O1xuXG52YXIgX3JlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxudmFyIF9yZWFjdDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9yZWFjdCk7XG5cbnZhciBfcmVhY3RSb3V0ZXJEb20gPSByZXF1aXJlKCdyZWFjdC1yb3V0ZXItZG9tJyk7XG5cbnZhciBfTGlua0NvbnRhaW5lciA9IHJlcXVpcmUoJy4vTGlua0NvbnRhaW5lcicpO1xuXG52YXIgX0xpbmtDb250YWluZXIyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfTGlua0NvbnRhaW5lcik7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKCFzZWxmKSB7IHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihcInRoaXMgaGFzbid0IGJlZW4gaW5pdGlhbGlzZWQgLSBzdXBlcigpIGhhc24ndCBiZWVuIGNhbGxlZFwiKTsgfSByZXR1cm4gY2FsbCAmJiAodHlwZW9mIGNhbGwgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikgPyBjYWxsIDogc2VsZjsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb24sIG5vdCBcIiArIHR5cGVvZiBzdXBlckNsYXNzKTsgfSBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MgJiYgc3VwZXJDbGFzcy5wcm90b3R5cGUsIHsgY29uc3RydWN0b3I6IHsgdmFsdWU6IHN1YkNsYXNzLCBlbnVtZXJhYmxlOiBmYWxzZSwgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LnNldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKSA6IHN1YkNsYXNzLl9fcHJvdG9fXyA9IHN1cGVyQ2xhc3M7IH1cblxuLy8gRG9uJ3QgdXNlIGEgc3RhdGVsZXNzIGZ1bmN0aW9uLCB0byBhbGxvdyB1c2VycyB0byBzZXQgYSByZWYuXG4vKiBlc2xpbnQtZGlzYWJsZSByZWFjdC9wcmVmZXItc3RhdGVsZXNzLWZ1bmN0aW9uICovXG52YXIgSW5kZXhMaW5rQ29udGFpbmVyID0gZXhwb3J0cy5JbmRleExpbmtDb250YWluZXIgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoSW5kZXhMaW5rQ29udGFpbmVyLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBJbmRleExpbmtDb250YWluZXIoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEluZGV4TGlua0NvbnRhaW5lcik7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIEluZGV4TGlua0NvbnRhaW5lci5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHJldHVybiBfcmVhY3QyLmRlZmF1bHQuY3JlYXRlRWxlbWVudChfTGlua0NvbnRhaW5lcjIuZGVmYXVsdCwgX2V4dGVuZHMoe30sIHRoaXMucHJvcHMsIHsgZXhhY3Q6IHRydWUgfSkpO1xuICB9O1xuXG4gIHJldHVybiBJbmRleExpbmtDb250YWluZXI7XG59KF9yZWFjdDIuZGVmYXVsdC5Db21wb25lbnQpO1xuLyogZXNsaW50LWVuYWJsZSByZWFjdC9wcmVmZXItc3RhdGVsZXNzLWZ1bmN0aW9uICovXG5cbmV4cG9ydHMuZGVmYXVsdCA9ICgwLCBfcmVhY3RSb3V0ZXJEb20ud2l0aFJvdXRlcikoSW5kZXhMaW5rQ29udGFpbmVyKTsiLCJtb2R1bGUuZXhwb3J0cyA9IG1sNTsiLCIndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtaXMuZGV2ZWxvcG1lbnQuanMnKTtcbn1cbiIsIi8qKiBAbGljZW5zZSBSZWFjdCB2MTYuMTMuMVxuICogcmVhY3QtaXMucHJvZHVjdGlvbi5taW4uanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7dmFyIGI9XCJmdW5jdGlvblwiPT09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmZvcixjPWI/U3ltYm9sLmZvcihcInJlYWN0LmVsZW1lbnRcIik6NjAxMDMsZD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5wb3J0YWxcIik6NjAxMDYsZT1iP1N5bWJvbC5mb3IoXCJyZWFjdC5mcmFnbWVudFwiKTo2MDEwNyxmPWI/U3ltYm9sLmZvcihcInJlYWN0LnN0cmljdF9tb2RlXCIpOjYwMTA4LGc9Yj9TeW1ib2wuZm9yKFwicmVhY3QucHJvZmlsZXJcIik6NjAxMTQsaD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5wcm92aWRlclwiKTo2MDEwOSxrPWI/U3ltYm9sLmZvcihcInJlYWN0LmNvbnRleHRcIik6NjAxMTAsbD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5hc3luY19tb2RlXCIpOjYwMTExLG09Yj9TeW1ib2wuZm9yKFwicmVhY3QuY29uY3VycmVudF9tb2RlXCIpOjYwMTExLG49Yj9TeW1ib2wuZm9yKFwicmVhY3QuZm9yd2FyZF9yZWZcIik6NjAxMTIscD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5zdXNwZW5zZVwiKTo2MDExMyxxPWI/XG5TeW1ib2wuZm9yKFwicmVhY3Quc3VzcGVuc2VfbGlzdFwiKTo2MDEyMCxyPWI/U3ltYm9sLmZvcihcInJlYWN0Lm1lbW9cIik6NjAxMTUsdD1iP1N5bWJvbC5mb3IoXCJyZWFjdC5sYXp5XCIpOjYwMTE2LHY9Yj9TeW1ib2wuZm9yKFwicmVhY3QuYmxvY2tcIik6NjAxMjEsdz1iP1N5bWJvbC5mb3IoXCJyZWFjdC5mdW5kYW1lbnRhbFwiKTo2MDExNyx4PWI/U3ltYm9sLmZvcihcInJlYWN0LnJlc3BvbmRlclwiKTo2MDExOCx5PWI/U3ltYm9sLmZvcihcInJlYWN0LnNjb3BlXCIpOjYwMTE5O1xuZnVuY3Rpb24geihhKXtpZihcIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hKXt2YXIgdT1hLiQkdHlwZW9mO3N3aXRjaCh1KXtjYXNlIGM6c3dpdGNoKGE9YS50eXBlLGEpe2Nhc2UgbDpjYXNlIG06Y2FzZSBlOmNhc2UgZzpjYXNlIGY6Y2FzZSBwOnJldHVybiBhO2RlZmF1bHQ6c3dpdGNoKGE9YSYmYS4kJHR5cGVvZixhKXtjYXNlIGs6Y2FzZSBuOmNhc2UgdDpjYXNlIHI6Y2FzZSBoOnJldHVybiBhO2RlZmF1bHQ6cmV0dXJuIHV9fWNhc2UgZDpyZXR1cm4gdX19fWZ1bmN0aW9uIEEoYSl7cmV0dXJuIHooYSk9PT1tfWV4cG9ydHMuQXN5bmNNb2RlPWw7ZXhwb3J0cy5Db25jdXJyZW50TW9kZT1tO2V4cG9ydHMuQ29udGV4dENvbnN1bWVyPWs7ZXhwb3J0cy5Db250ZXh0UHJvdmlkZXI9aDtleHBvcnRzLkVsZW1lbnQ9YztleHBvcnRzLkZvcndhcmRSZWY9bjtleHBvcnRzLkZyYWdtZW50PWU7ZXhwb3J0cy5MYXp5PXQ7ZXhwb3J0cy5NZW1vPXI7ZXhwb3J0cy5Qb3J0YWw9ZDtcbmV4cG9ydHMuUHJvZmlsZXI9ZztleHBvcnRzLlN0cmljdE1vZGU9ZjtleHBvcnRzLlN1c3BlbnNlPXA7ZXhwb3J0cy5pc0FzeW5jTW9kZT1mdW5jdGlvbihhKXtyZXR1cm4gQShhKXx8eihhKT09PWx9O2V4cG9ydHMuaXNDb25jdXJyZW50TW9kZT1BO2V4cG9ydHMuaXNDb250ZXh0Q29uc3VtZXI9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT1rfTtleHBvcnRzLmlzQ29udGV4dFByb3ZpZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09aH07ZXhwb3J0cy5pc0VsZW1lbnQ9ZnVuY3Rpb24oYSl7cmV0dXJuXCJvYmplY3RcIj09PXR5cGVvZiBhJiZudWxsIT09YSYmYS4kJHR5cGVvZj09PWN9O2V4cG9ydHMuaXNGb3J3YXJkUmVmPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09bn07ZXhwb3J0cy5pc0ZyYWdtZW50PWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09ZX07ZXhwb3J0cy5pc0xhenk9ZnVuY3Rpb24oYSl7cmV0dXJuIHooYSk9PT10fTtcbmV4cG9ydHMuaXNNZW1vPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09cn07ZXhwb3J0cy5pc1BvcnRhbD1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWR9O2V4cG9ydHMuaXNQcm9maWxlcj1mdW5jdGlvbihhKXtyZXR1cm4geihhKT09PWd9O2V4cG9ydHMuaXNTdHJpY3RNb2RlPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09Zn07ZXhwb3J0cy5pc1N1c3BlbnNlPWZ1bmN0aW9uKGEpe3JldHVybiB6KGEpPT09cH07XG5leHBvcnRzLmlzVmFsaWRFbGVtZW50VHlwZT1mdW5jdGlvbihhKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGF8fFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhfHxhPT09ZXx8YT09PW18fGE9PT1nfHxhPT09Znx8YT09PXB8fGE9PT1xfHxcIm9iamVjdFwiPT09dHlwZW9mIGEmJm51bGwhPT1hJiYoYS4kJHR5cGVvZj09PXR8fGEuJCR0eXBlb2Y9PT1yfHxhLiQkdHlwZW9mPT09aHx8YS4kJHR5cGVvZj09PWt8fGEuJCR0eXBlb2Y9PT1ufHxhLiQkdHlwZW9mPT09d3x8YS4kJHR5cGVvZj09PXh8fGEuJCR0eXBlb2Y9PT15fHxhLiQkdHlwZW9mPT09dil9O2V4cG9ydHMudHlwZU9mPXo7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiZnVuY3Rpb24gdG9WYWwobWl4KSB7XG5cdHZhciBrLCB5LCBzdHI9Jyc7XG5cblx0aWYgKHR5cGVvZiBtaXggPT09ICdzdHJpbmcnIHx8IHR5cGVvZiBtaXggPT09ICdudW1iZXInKSB7XG5cdFx0c3RyICs9IG1peDtcblx0fSBlbHNlIGlmICh0eXBlb2YgbWl4ID09PSAnb2JqZWN0Jykge1xuXHRcdGlmIChBcnJheS5pc0FycmF5KG1peCkpIHtcblx0XHRcdGZvciAoaz0wOyBrIDwgbWl4Lmxlbmd0aDsgaysrKSB7XG5cdFx0XHRcdGlmIChtaXhba10pIHtcblx0XHRcdFx0XHRpZiAoeSA9IHRvVmFsKG1peFtrXSkpIHtcblx0XHRcdFx0XHRcdHN0ciAmJiAoc3RyICs9ICcgJyk7XG5cdFx0XHRcdFx0XHRzdHIgKz0geTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Zm9yIChrIGluIG1peCkge1xuXHRcdFx0XHRpZiAobWl4W2tdKSB7XG5cdFx0XHRcdFx0c3RyICYmIChzdHIgKz0gJyAnKTtcblx0XHRcdFx0XHRzdHIgKz0gaztcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdHJldHVybiBzdHI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uICgpIHtcblx0dmFyIGk9MCwgdG1wLCB4LCBzdHI9Jyc7XG5cdHdoaWxlIChpIDwgYXJndW1lbnRzLmxlbmd0aCkge1xuXHRcdGlmICh0bXAgPSBhcmd1bWVudHNbaSsrXSkge1xuXHRcdFx0aWYgKHggPSB0b1ZhbCh0bXApKSB7XG5cdFx0XHRcdHN0ciAmJiAoc3RyICs9ICcgJyk7XG5cdFx0XHRcdHN0ciArPSB4XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiBzdHI7XG59XG4iLCJleHBvcnQgZGVmYXVsdCAoKSA9PiBjb25zb2xlO1xuZXhwb3J0IGZ1bmN0aW9uIHVzZUxvZ2dlcigpIHtcbiAgcmV0dXJuIGNvbnNvbGU7XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tIFwicmVhY3QtYm9vdHN0cmFwXCI7XG5pbXBvcnQgeyBMaW5rIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxuaW1wb3J0IHsgdXNlTG9nZ2VyIH0gZnJvbSBcImxvZ1wiO1xuXG50eXBlIEhlbGxvUHJvcHMgPSB7XG4gIG5leHQ6IHN0cmluZztcbn07XG5cbmNvbnN0IEhlbGxvID0gKHsgbmV4dCB9OiBIZWxsb1Byb3BzKSA9PiB7XG4gIGNvbnN0IExPRyA9IHVzZUxvZ2dlcigpO1xuICBMT0cuaW5mbyhcIltXaWRnZXRdIEhlbGxvXCIpO1xuXG4gIHJldHVybiAoXG4gICAgPExpbmsgdG89e25leHR9PlxuICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZS1wcmltYXJ5XCIgc2l6ZT1cImxnXCI+XG4gICAgICAgIHN0YXJ0XG4gICAgICA8L0J1dHRvbj5cbiAgICA8L0xpbms+XG4gICk7XG59O1xuZXhwb3J0IGRlZmF1bHQgSGVsbG87XG4iLCJleHBvcnQgZGVmYXVsdCBfX3dlYnBhY2tfcHVibGljX3BhdGhfXyArIFwiMzk0MWExZWFiNDAyNzYyNDMzMzJkZjY3NmUwNmEwMTMub2dnXCI7IiwiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gXCJyZWFjdC1ib290c3RyYXBcIjtcblxuaW1wb3J0IGdldExvZ2dlciBmcm9tIFwibG9nXCI7XG5cbmltcG9ydCBzYW1wbGUgZnJvbSBcImF1ZGlvL2M0Lm9nZ1wiO1xuXG5jb25zdCBsb2dnZXIgPSBnZXRMb2dnZXIoKTtcblxuY29uc3QgcGxheSA9IChvbkVuZDogKCkgPT4gdm9pZCkgPT4ge1xuICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhzYW1wbGUpO1xuICBhdWRpby5vbmVuZGVkID0gb25FbmQ7XG4gIGF1ZGlvLnBsYXkoKTtcbn07XG5cbmNvbnN0IFBsYXllciA9ICgpID0+IHtcbiAgbG9nZ2VyLmluZm8oXCJbV2lkZ2V0XSBQbGF5ZXJcIik7XG4gIGNvbnN0IFtpc1BsYXlpbmcsIHNldElzUGxheWluZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsb2dnZXIuaW5mbyhcIkNoYW5nZWQgcGxheWluZzogJXNcIiwgaXNQbGF5aW5nKTtcbiAgfSwgW2lzUGxheWluZ10pO1xuXG4gIGNvbnN0IG1lc3NhZ2UgPSBpc1BsYXlpbmcgPyBcInBsYXlpbmcuLi5cIiA6IFwicGxheSByZWZlcmVuY2VcIjtcblxuICByZXR1cm4gKFxuICAgIDxCdXR0b25cbiAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lLXByaW1hcnlcIlxuICAgICAgc2l6ZT1cImxnXCJcbiAgICAgIGRpc2FibGVkPXtpc1BsYXlpbmd9XG4gICAgICBvbkNsaWNrPXsoKSA9PiB7XG4gICAgICAgIHNldElzUGxheWluZyh0cnVlKTtcbiAgICAgICAgcGxheSgoKSA9PiBzZXRJc1BsYXlpbmcoZmFsc2UpKTtcbiAgICAgIH19XG4gICAgPlxuICAgICAge21lc3NhZ2V9XG4gICAgPC9CdXR0b24+XG4gICk7XG59O1xuZXhwb3J0IGRlZmF1bHQgUGxheWVyO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQnV0dG9uLCBCdXR0b25Hcm91cCB9IGZyb20gXCJyZWFjdC1ib290c3RyYXBcIjtcbmltcG9ydCB7IExpbmtDb250YWluZXIgfSBmcm9tIFwicmVhY3Qtcm91dGVyLWJvb3RzdHJhcFwiO1xuaW1wb3J0IFBsYXllciBmcm9tIFwiLi4vY29tcG9uZW50cy9QbGF5ZXJcIjtcblxudHlwZSBQcmV2aWV3UHJvcHMgPSB7XG4gIG5leHQ6IHN0cmluZztcbn07XG5cbmV4cG9ydCBkZWZhdWx0ICh7IG5leHQgfTogUHJldmlld1Byb3BzKSA9PiAoXG4gIDxCdXR0b25Hcm91cD5cbiAgICA8UGxheWVyIC8+XG5cbiAgICA8TGlua0NvbnRhaW5lciB0bz17bmV4dH0+XG4gICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJvdXRsaW5lLXByaW1hcnlcIiBzaXplPVwibGdcIj5cbiAgICAgICAgc3RhcnRcbiAgICAgIDwvQnV0dG9uPlxuICAgIDwvTGlua0NvbnRhaW5lcj5cbiAgPC9CdXR0b25Hcm91cD5cbik7XG4iLCJmdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpOyB2YXIga2V5LCBpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc291cmNlU3ltYm9sS2V5cyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoc291cmNlKTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCkgeyBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTsgdmFyIHRhcmdldCA9IHt9OyB2YXIgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7IHZhciBrZXksIGk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZUtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5pbXBvcnQgUmVhY3QsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG52YXIgU3RhckZpbGwgPSBmb3J3YXJkUmVmKGZ1bmN0aW9uIChfcmVmLCByZWYpIHtcbiAgdmFyIGNvbG9yID0gX3JlZi5jb2xvcixcbiAgICAgIHNpemUgPSBfcmVmLnNpemUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIFtcImNvbG9yXCIsIFwic2l6ZVwiXSk7XG5cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX2V4dGVuZHMoe1xuICAgIHJlZjogcmVmLFxuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgdmlld0JveDogXCIwIDAgMTYgMTZcIixcbiAgICB3aWR0aDogc2l6ZSxcbiAgICBoZWlnaHQ6IHNpemUsXG4gICAgZmlsbDogY29sb3JcbiAgfSwgcmVzdCksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0zLjYxMiAxNS40NDNjLS4zODYuMTk4LS44MjQtLjE0OS0uNzQ2LS41OTJsLjgzLTQuNzNMLjE3MyA2Ljc2NWMtLjMyOS0uMzE0LS4xNTgtLjg4OC4yODMtLjk1bDQuODk4LS42OTZMNy41MzguNzkyYy4xOTctLjM5LjczLS4zOS45MjcgMGwyLjE4NCA0LjMyNyA0Ljg5OC42OTZjLjQ0MS4wNjIuNjEyLjYzNi4yODMuOTVsLTMuNTIzIDMuMzU2LjgzIDQuNzNjLjA3OC40NDMtLjM2Ljc5LS43NDYuNTkyTDggMTMuMTg3bC00LjM4OSAyLjI1NnpcIlxuICB9KSk7XG59KTtcblN0YXJGaWxsLnByb3BUeXBlcyA9IHtcbiAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXJdKVxufTtcblN0YXJGaWxsLmRlZmF1bHRQcm9wcyA9IHtcbiAgY29sb3I6ICdjdXJyZW50Q29sb3InLFxuICBzaXplOiAnMWVtJ1xufTtcbmV4cG9ydCBkZWZhdWx0IFN0YXJGaWxsOyIsImZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2Uoc291cmNlLCBleGNsdWRlZCk7IHZhciBrZXksIGk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpOyBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykgeyBrZXkgPSBzb3VyY2VTeW1ib2xLZXlzW2ldOyBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlOyBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlOyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmltcG9ydCBSZWFjdCwgeyBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbnZhciBTdGFyID0gZm9yd2FyZFJlZihmdW5jdGlvbiAoX3JlZiwgcmVmKSB7XG4gIHZhciBjb2xvciA9IF9yZWYuY29sb3IsXG4gICAgICBzaXplID0gX3JlZi5zaXplLFxuICAgICAgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcmVmLCBbXCJjb2xvclwiLCBcInNpemVcIl0pO1xuXG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9leHRlbmRzKHtcbiAgICByZWY6IHJlZixcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE2IDE2XCIsXG4gICAgd2lkdGg6IHNpemUsXG4gICAgaGVpZ2h0OiBzaXplLFxuICAgIGZpbGw6IGNvbG9yXG4gIH0sIHJlc3QpLCBSZWFjdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZmlsbFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTIuODY2IDE0Ljg1Yy0uMDc4LjQ0NC4zNi43OTEuNzQ2LjU5M2w0LjM5LTIuMjU2IDQuMzg5IDIuMjU2Yy4zODYuMTk4LjgyNC0uMTQ5Ljc0Ni0uNTkybC0uODMtNC43MyAzLjUyMy0zLjM1NmMuMzI5LS4zMTQuMTU4LS44ODgtLjI4My0uOTVsLTQuODk4LS42OTZMOC40NjUuNzkyYS41MTMuNTEzIDAgMCAwLS45MjcgMEw1LjM1NCA1LjEybC00Ljg5OC42OTZjLS40NDEuMDYyLS42MTIuNjM2LS4yODMuOTVsMy41MjMgMy4zNTYtLjgzIDQuNzN6bTQuOTA1LTIuNzY3bC0zLjY4NiAxLjg5NC42OTQtMy45NTdhLjU2NS41NjUgMCAwIDAtLjE2My0uNTA1TDEuNzEgNi43NDVsNC4wNTItLjU3NmEuNTI1LjUyNSAwIDAgMCAuMzkzLS4yODhsMS44NDctMy42NTggMS44NDYgMy42NThhLjUyNS41MjUgMCAwIDAgLjM5My4yODhsNC4wNTIuNTc1LTIuOTA2IDIuNzdhLjU2NC41NjQgMCAwIDAtLjE2My41MDZsLjY5NCAzLjk1Ny0zLjY4Ni0xLjg5NGEuNTAzLjUwMyAwIDAgMC0uNDYxIDB6XCJcbiAgfSkpO1xufSk7XG5TdGFyLnByb3BUeXBlcyA9IHtcbiAgY29sb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHNpemU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXJdKVxufTtcblN0YXIuZGVmYXVsdFByb3BzID0ge1xuICBjb2xvcjogJ2N1cnJlbnRDb2xvcicsXG4gIHNpemU6ICcxZW0nXG59O1xuZXhwb3J0IGRlZmF1bHQgU3RhcjsiLCJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBBbGVydCwgQ29udGFpbmVyLCBSb3csIENvbCB9IGZyb20gXCJyZWFjdC1ib290c3RyYXBcIjtcbmltcG9ydCB7IFN0YXIsIFN0YXJGaWxsIH0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcC1pY29uc1wiO1xuXG5pbXBvcnQgeyBTYW1wbGUsIFJlY29yZGluZyB9IGZyb20gXCJwaXRjaC9waXRjaFwiO1xuaW1wb3J0IHsgUGl0Y2ggfSBmcm9tIFwicGl0Y2gvbm90ZXNcIjtcbmltcG9ydCBjbHN4IGZyb20gXCJjbHN4XCI7XG5cbnR5cGUgUmF0aW5nUHJvcHMgPSB7XG4gIG5vOiBudW1iZXI7XG4gIG9mOiBudW1iZXI7XG59O1xuZnVuY3Rpb24gUmF0aW5nKHsgbm8sIG9mIH06IFJhdGluZ1Byb3BzKSB7XG4gIGNvbnN0IHN0YXJzID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgb2Y7IGkgKz0gMSkge1xuICAgIHN0YXJzLnB1c2goaSA8PSBubyA/IDxTdGFyRmlsbCBrZXk9e2l9IC8+IDogPFN0YXIga2V5PXtpfSAvPik7XG4gIH1cblxuICByZXR1cm4gPGRpdiBjbGFzc05hbWU9e2Nsc3goXCJ0ZXh0LXByaW1hcnlcIiwgXCJkaXNwbGF5LTNcIil9PntzdGFyc308L2Rpdj47XG59XG5cbmV4cG9ydCB0eXBlIFN1bW1hcnlQcm9wcyA9IHtcbiAgcmVjb3JkaW5nOiBSZWNvcmRpbmc7XG4gIHJlZmVyZW5jZTogUGl0Y2g7XG59O1xuXG5jb25zdCBzdW0gPSAoYTogbnVtYmVyLCBiOiBudW1iZXIpID0+IGEgKyBiO1xuZXhwb3J0IGRlZmF1bHQgKHsgcmVjb3JkaW5nLCByZWZlcmVuY2UgfTogU3VtbWFyeVByb3BzKSA9PiB7XG4gIGNvbnN0IG5vbkVtcHR5ID0gcmVjb3JkaW5nLmZpbHRlcigocz86IFNhbXBsZSkgPT4gISFzKTtcbiAgY29uc3QgZnJlcVJlc3VsdCA9XG4gICAgbm9uRW1wdHlcbiAgICAgIC5tYXAoKHM6IFNhbXBsZSkgPT4gcyEuZnJlcXVlbmN5IC0gcmVmZXJlbmNlLmZyZXF1ZW5jeSlcbiAgICAgIC5yZWR1Y2Uoc3VtLCAwKSAvIG5vbkVtcHR5Lmxlbmd0aDtcblxuICBjb25zdCBtaWRpUmVzdWx0ID1cbiAgICBub25FbXB0eVxuICAgICAgLm1hcCgoczogU2FtcGxlKSA9PiBNYXRoLmFicyhzIS5ub3RlIC0gcmVmZXJlbmNlLm5vdGUpKVxuICAgICAgLnJlZHVjZShzdW0sIDApIC8gbm9uRW1wdHkubGVuZ3RoO1xuXG4gIGxldCBzdGFyQ291bnQ6IG51bWJlcjtcbiAgaWYgKG1pZGlSZXN1bHQgPD0gMC41KSB7XG4gICAgc3RhckNvdW50ID0gNTtcbiAgfSBlbHNlIGlmIChtaWRpUmVzdWx0IDw9IDEpIHtcbiAgICAvLyB3aXRoaW4gaGFsZiBzdGVwXG4gICAgc3RhckNvdW50ID0gNDtcbiAgfSBlbHNlIGlmIChtaWRpUmVzdWx0IDw9IDIpIHtcbiAgICAvLyB3aXRoaW4gd2hvbGUgc3RlcFxuICAgIHN0YXJDb3VudCA9IDM7XG4gIH0gZWxzZSBpZiAobWlkaVJlc3VsdCA8PSA0KSB7XG4gICAgLy8gd2l0aGluIHRoaXJkXG4gICAgc3RhckNvdW50ID0gMjtcbiAgfSBlbHNlIGlmIChtaWRpUmVzdWx0IDw9IDcpIHtcbiAgICAvLyB3aXRoaW5uIGZpZnRoXG4gICAgc3RhckNvdW50ID0gMTtcbiAgfSBlbHNlIHtcbiAgICAvLyB5b3Ugc3Vja1xuICAgIHN0YXJDb3VudCA9IDA7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxDb250YWluZXI+XG4gICAgICA8Um93PlxuICAgICAgICA8Q29sIGNsYXNzTmFtZT1cInBiLTNcIj5cbiAgICAgICAgICA8UmF0aW5nIG5vPXtzdGFyQ291bnR9IG9mPXs1fSAvPlxuICAgICAgICA8L0NvbD5cbiAgICAgIDwvUm93PlxuXG4gICAgICA8Um93PlxuICAgICAgICA8Q29sIGNsYXNzTmFtZT17Y2xzeChcImNvbC1tZC02XCIsIFwib2Zmc2V0LW1kLTNcIil9PlxuICAgICAgICAgIDxBbGVydCB2YXJpYW50PVwic3VjY2Vzc1wiPlxuICAgICAgICAgICAgUmVjZWl2ZWQge25vbkVtcHR5Lmxlbmd0aH0gc2FtcGxlKHMpIGF2ZXJhZ2luZyB0byB7ZnJlcVJlc3VsdH0gZnJvbVxuICAgICAgICAgICAgQzxzdWI+NDwvc3ViPi5cbiAgICAgICAgICA8L0FsZXJ0PlxuICAgICAgICA8L0NvbD5cbiAgICAgIDwvUm93PlxuICAgIDwvQ29udGFpbmVyPlxuICApO1xufTtcbiIsImltcG9ydCBTdW1tYXJ5LCB7IFN1bW1hcnlQcm9wcyB9IGZyb20gXCJjb21wb25lbnRzL1N1bW1hcnlcIjtcbmltcG9ydCBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZUxvY2F0aW9uIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICBjb25zdCB7IHN0YXRlIH0gPSB1c2VMb2NhdGlvbjxTdW1tYXJ5UHJvcHM+KCk7XG5cbiAgcmV0dXJuIDxTdW1tYXJ5IHJlY29yZGluZz17c3RhdGUucmVjb3JkaW5nfSByZWZlcmVuY2U9e3N0YXRlLnJlZmVyZW5jZX0gLz47XG59O1xuIiwiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxyXG4gICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxyXG4gICAgICAgIGZ1bmN0aW9uIHN0ZXAocmVzdWx0KSB7IHJlc3VsdC5kb25lID8gcmVzb2x2ZShyZXN1bHQudmFsdWUpIDogYWRvcHQocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpOyB9XHJcbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XHJcbiAgICB2YXIgXyA9IHsgbGFiZWw6IDAsIHNlbnQ6IGZ1bmN0aW9uKCkgeyBpZiAodFswXSAmIDEpIHRocm93IHRbMV07IHJldHVybiB0WzFdOyB9LCB0cnlzOiBbXSwgb3BzOiBbXSB9LCBmLCB5LCB0LCBnO1xyXG4gICAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAob3ApIHtcclxuICAgICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKF8pIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcclxuICAgICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG9wWzBdKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IF8ubGFiZWwrKzsgeSA9IG9wWzFdOyBvcCA9IFswXTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHQgPSBfLnRyeXMsIHQgPSB0Lmxlbmd0aCA+IDAgJiYgdFt0Lmxlbmd0aCAtIDFdKSAmJiAob3BbMF0gPT09IDYgfHwgb3BbMF0gPT09IDIpKSB7IF8gPSAwOyBjb250aW51ZTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgJiYgXy5sYWJlbCA8IHRbMl0pIHsgXy5sYWJlbCA9IHRbMl07IF8ub3BzLnB1c2gob3ApOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cclxuICAgICAgICBpZiAob3BbMF0gJiA1KSB0aHJvdyBvcFsxXTsgcmV0dXJuIHsgdmFsdWU6IG9wWzBdID8gb3BbMV0gOiB2b2lkIDAsIGRvbmU6IHRydWUgfTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY3JlYXRlQmluZGluZyhvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhZXhwb3J0cy5oYXNPd25Qcm9wZXJ0eShwKSkgZXhwb3J0c1twXSA9IG1bcF07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgcHJpdmF0ZU1hcCkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIGdldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBwcml2YXRlTWFwLmdldChyZWNlaXZlcik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwLCB2YWx1ZSkge1xyXG4gICAgaWYgKCFwcml2YXRlTWFwLmhhcyhyZWNlaXZlcikpIHtcclxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXR0ZW1wdGVkIHRvIHNldCBwcml2YXRlIGZpZWxkIG9uIG5vbi1pbnN0YW5jZVwiKTtcclxuICAgIH1cclxuICAgIHByaXZhdGVNYXAuc2V0KHJlY2VpdmVyLCB2YWx1ZSk7XHJcbiAgICByZXR1cm4gdmFsdWU7XHJcbn1cclxuIiwiaW1wb3J0IHsgX19hc3NpZ24sIF9fZXh0ZW5kcywgX19yZWFkIH0gZnJvbSBcInRzbGliXCI7XG4vKiBlc2xpbnQtZGlzYWJsZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55ICovXG5pbXBvcnQgeyBnZXRDdXJyZW50SHViIH0gZnJvbSAnQHNlbnRyeS9icm93c2VyJztcbmltcG9ydCB7IHRpbWVzdGFtcFdpdGhNcyB9IGZyb20gJ0BzZW50cnkvdXRpbHMnO1xuaW1wb3J0IGhvaXN0Tm9uUmVhY3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmV4cG9ydCB2YXIgVU5LTk9XTl9DT01QT05FTlQgPSAndW5rbm93bic7XG52YXIgVFJBQ0lOR19HRVRURVIgPSB7XG4gICAgaWQ6ICdUcmFjaW5nJyxcbn07XG52YXIgZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uID0gbnVsbDtcbi8qKiBAZGVwcmVjYXRlZCByZW1vdmUgd2hlbiBAc2VudHJ5L2FwbSBubyBsb25nZXIgdXNlZCAqL1xudmFyIGdldFRyYWNpbmdJbnRlZ3JhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb247XG4gICAgfVxuICAgIGdsb2JhbFRyYWNpbmdJbnRlZ3JhdGlvbiA9IGdldEN1cnJlbnRIdWIoKS5nZXRJbnRlZ3JhdGlvbihUUkFDSU5HX0dFVFRFUik7XG4gICAgcmV0dXJuIGdsb2JhbFRyYWNpbmdJbnRlZ3JhdGlvbjtcbn07XG4vKipcbiAqIHB1c2hBY3Rpdml0eSBjcmVhdGVzIGFuIG5ldyByZWFjdCBhY3Rpdml0eS5cbiAqIElzIGEgbm8tb3AgaWYgVHJhY2luZyBpbnRlZ3JhdGlvbiBpcyBub3QgdmFsaWRcbiAqIEBwYXJhbSBuYW1lIGRpc3BsYXlOYW1lIG9mIGNvbXBvbmVudCB0aGF0IHN0YXJ0ZWQgYWN0aXZpdHlcbiAqIEBkZXByZWNhdGVkIHJlbW92ZSB3aGVuIEBzZW50cnkvYXBtIG5vIGxvbmdlciB1c2VkXG4gKi9cbmZ1bmN0aW9uIHB1c2hBY3Rpdml0eShuYW1lLCBvcCkge1xuICAgIGlmIChnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb24uY29uc3RydWN0b3IucHVzaEFjdGl2aXR5KG5hbWUsIHtcbiAgICAgICAgZGVzY3JpcHRpb246IFwiPFwiICsgbmFtZSArIFwiPlwiLFxuICAgICAgICBvcDogXCJyZWFjdC5cIiArIG9wLFxuICAgIH0pO1xufVxuLyoqXG4gKiBwb3BBY3Rpdml0eSByZW1vdmVzIGEgUmVhY3QgYWN0aXZpdHkuXG4gKiBJcyBhIG5vLW9wIGlmIFRyYWNpbmcgaW50ZWdyYXRpb24gaXMgbm90IHZhbGlkLlxuICogQHBhcmFtIGFjdGl2aXR5IGlkIG9mIGFjdGl2aXR5IHRoYXQgaXMgYmVpbmcgcG9wcGVkXG4gKiBAZGVwcmVjYXRlZCByZW1vdmUgd2hlbiBAc2VudHJ5L2FwbSBubyBsb25nZXIgdXNlZFxuICovXG5mdW5jdGlvbiBwb3BBY3Rpdml0eShhY3Rpdml0eSkge1xuICAgIGlmIChhY3Rpdml0eSA9PT0gbnVsbCB8fCBnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb24gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBnbG9iYWxUcmFjaW5nSW50ZWdyYXRpb24uY29uc3RydWN0b3IucG9wQWN0aXZpdHkoYWN0aXZpdHkpO1xufVxuLyoqXG4gKiBPYnRhaW4gYSBzcGFuIGdpdmVuIGFuIGFjdGl2aXR5IGlkLlxuICogSXMgYSBuby1vcCBpZiBUcmFjaW5nIGludGVncmF0aW9uIGlzIG5vdCB2YWxpZC5cbiAqIEBwYXJhbSBhY3Rpdml0eSBhY3Rpdml0eSBpZCBhc3NvY2lhdGVkIHdpdGggb2J0YWluZWQgc3BhblxuICogQGRlcHJlY2F0ZWQgcmVtb3ZlIHdoZW4gQHNlbnRyeS9hcG0gbm8gbG9uZ2VyIHVzZWRcbiAqL1xuZnVuY3Rpb24gZ2V0QWN0aXZpdHlTcGFuKGFjdGl2aXR5KSB7XG4gICAgaWYgKGFjdGl2aXR5ID09PSBudWxsIHx8IGdsb2JhbFRyYWNpbmdJbnRlZ3JhdGlvbiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICByZXR1cm4gZ2xvYmFsVHJhY2luZ0ludGVncmF0aW9uLmNvbnN0cnVjdG9yLmdldEFjdGl2aXR5U3BhbihhY3Rpdml0eSk7XG59XG4vKipcbiAqIFRoZSBQcm9maWxlciBjb21wb25lbnQgbGV2ZXJhZ2VzIFNlbnRyeSdzIFRyYWNpbmcgaW50ZWdyYXRpb24gdG8gZ2VuZXJhdGVcbiAqIHNwYW5zIGJhc2VkIG9uIGNvbXBvbmVudCBsaWZlY3ljbGVzLlxuICovXG52YXIgUHJvZmlsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKFByb2ZpbGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFByb2ZpbGVyKHByb3BzKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHByb3BzKSB8fCB0aGlzO1xuICAgICAgICAvLyBUaGUgYWN0aXZpdHkgcmVwcmVzZW50aW5nIGhvdyBsb25nIGl0IHRha2VzIHRvIG1vdW50IGEgY29tcG9uZW50LlxuICAgICAgICBfdGhpcy5fbW91bnRBY3Rpdml0eSA9IG51bGw7XG4gICAgICAgIC8vIFRoZSBzcGFuIG9mIHRoZSBtb3VudCBhY3Rpdml0eVxuICAgICAgICBfdGhpcy5fbW91bnRTcGFuID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgX2EgPSBfdGhpcy5wcm9wcywgbmFtZSA9IF9hLm5hbWUsIF9iID0gX2EuZGlzYWJsZWQsIGRpc2FibGVkID0gX2IgPT09IHZvaWQgMCA/IGZhbHNlIDogX2I7XG4gICAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgICAgICB9XG4gICAgICAgIC8vIElmIHRoZXkgYXJlIHVzaW5nIEBzZW50cnkvYXBtLCB3ZSBuZWVkIHRvIHB1c2gvcG9wIGFjdGl2aXRpZXNcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgIGlmIChnZXRUcmFjaW5nSW50ZWdyYXRpb24oKSkge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgICAgICBfdGhpcy5fbW91bnRBY3Rpdml0eSA9IHB1c2hBY3Rpdml0eShuYW1lLCAnbW91bnQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBhY3RpdmVUcmFuc2FjdGlvbiA9IGdldEFjdGl2ZVRyYW5zYWN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoYWN0aXZlVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fbW91bnRTcGFuID0gYWN0aXZlVHJhbnNhY3Rpb24uc3RhcnRDaGlsZCh7XG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIjxcIiArIG5hbWUgKyBcIj5cIixcbiAgICAgICAgICAgICAgICAgICAgb3A6ICdyZWFjdC5tb3VudCcsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICAvLyBJZiBhIGNvbXBvbmVudCBtb3VudGVkLCB3ZSBjYW4gZmluaXNoIHRoZSBtb3VudCBhY3Rpdml0eS5cbiAgICBQcm9maWxlci5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLl9tb3VudFNwYW4pIHtcbiAgICAgICAgICAgIHRoaXMuX21vdW50U3Bhbi5maW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZXByZWNhdGlvbi9kZXByZWNhdGlvblxuICAgICAgICAgICAgdGhpcy5fbW91bnRTcGFuID0gZ2V0QWN0aXZpdHlTcGFuKHRoaXMuX21vdW50QWN0aXZpdHkpO1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRlcHJlY2F0aW9uL2RlcHJlY2F0aW9uXG4gICAgICAgICAgICBwb3BBY3Rpdml0eSh0aGlzLl9tb3VudEFjdGl2aXR5KTtcbiAgICAgICAgICAgIHRoaXMuX21vdW50QWN0aXZpdHkgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBQcm9maWxlci5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciB1cGRhdGVQcm9wcyA9IF9hLnVwZGF0ZVByb3BzLCBfYiA9IF9hLmluY2x1ZGVVcGRhdGVzLCBpbmNsdWRlVXBkYXRlcyA9IF9iID09PSB2b2lkIDAgPyB0cnVlIDogX2I7XG4gICAgICAgIC8vIE9ubHkgZ2VuZXJhdGUgYW4gdXBkYXRlIHNwYW4gaWYgaGFzVXBkYXRlU3BhbiBpcyB0cnVlLCBpZiB0aGVyZSBpcyBhIHZhbGlkIG1vdW50U3BhbixcbiAgICAgICAgLy8gYW5kIGlmIHRoZSB1cGRhdGVQcm9wcyBoYXZlIGNoYW5nZWQuIEl0IGlzIG9rIHRvIG5vdCBkbyBhIGRlZXAgZXF1YWxpdHkgY2hlY2sgaGVyZSBhcyBpdCBpcyBleHBlbnNpdmUuXG4gICAgICAgIC8vIFdlIGFyZSBqdXN0IHRyeWluZyB0byBnaXZlIGJhc2VsaW5lIGNsdWVzIGZvciBmdXJ0aGVyIGludmVzdGlnYXRpb24uXG4gICAgICAgIGlmIChpbmNsdWRlVXBkYXRlcyAmJiB0aGlzLl9tb3VudFNwYW4gJiYgdXBkYXRlUHJvcHMgIT09IHRoaXMucHJvcHMudXBkYXRlUHJvcHMpIHtcbiAgICAgICAgICAgIC8vIFNlZSB3aGF0IHByb3BzIGhhdmVkIGNoYW5nZWQgYmV0d2VlbiB0aGUgcHJldmlvdXMgcHJvcHMsIGFuZCB0aGUgY3VycmVudCBwcm9wcy4gVGhpcyBpc1xuICAgICAgICAgICAgLy8gc2V0IGFzIGRhdGEgb24gdGhlIHNwYW4uIFdlIGp1c3Qgc3RvcmUgdGhlIHByb3Aga2V5cyBhcyB0aGUgdmFsdWVzIGNvdWxkIGJlIHBvdGVuaWFsbHkgdmVyeSBsYXJnZS5cbiAgICAgICAgICAgIHZhciBjaGFuZ2VkUHJvcHMgPSBPYmplY3Qua2V5cyh1cGRhdGVQcm9wcykuZmlsdGVyKGZ1bmN0aW9uIChrKSB7IHJldHVybiB1cGRhdGVQcm9wc1trXSAhPT0gX3RoaXMucHJvcHMudXBkYXRlUHJvcHNba107IH0pO1xuICAgICAgICAgICAgaWYgKGNoYW5nZWRQcm9wcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIHVwZGF0ZSBzcGFuIGlzIGEgcG9pbnQgaW4gdGltZSBzcGFuIHdpdGggMCBkdXJhdGlvbiwganVzdCBzaWduaWZ5aW5nIHRoYXQgdGhlIGNvbXBvbmVudFxuICAgICAgICAgICAgICAgIC8vIGhhcyBiZWVuIHVwZGF0ZWQuXG4gICAgICAgICAgICAgICAgdmFyIG5vdyA9IHRpbWVzdGFtcFdpdGhNcygpO1xuICAgICAgICAgICAgICAgIHRoaXMuX21vdW50U3Bhbi5zdGFydENoaWxkKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hhbmdlZFByb3BzOiBjaGFuZ2VkUHJvcHMsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIjxcIiArIHRoaXMucHJvcHMubmFtZSArIFwiPlwiLFxuICAgICAgICAgICAgICAgICAgICBlbmRUaW1lc3RhbXA6IG5vdyxcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwicmVhY3QudXBkYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiBub3csXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIElmIGEgY29tcG9uZW50IGlzIHVubW91bnRlZCwgd2UgY2FuIHNheSBpdCBpcyBubyBsb25nZXIgb24gdGhlIHNjcmVlbi5cbiAgICAvLyBUaGlzIG1lYW5zIHdlIGNhbiBmaW5pc2ggdGhlIHNwYW4gcmVwcmVzZW50aW5nIHRoZSBjb21wb25lbnQgcmVuZGVyLlxuICAgIFByb2ZpbGVyLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcywgbmFtZSA9IF9hLm5hbWUsIF9iID0gX2EuaW5jbHVkZVJlbmRlciwgaW5jbHVkZVJlbmRlciA9IF9iID09PSB2b2lkIDAgPyB0cnVlIDogX2I7XG4gICAgICAgIGlmICh0aGlzLl9tb3VudFNwYW4gJiYgaW5jbHVkZVJlbmRlcikge1xuICAgICAgICAgICAgLy8gSWYgd2Ugd2VyZSBhYmxlIHRvIG9idGFpbiB0aGUgc3BhbklkIG9mIHRoZSBtb3VudCBhY3Rpdml0eSwgd2Ugc2hvdWxkIHNldCB0aGVcbiAgICAgICAgICAgIC8vIG5leHQgYWN0aXZpdHkgYXMgYSBjaGlsZCB0byB0aGUgY29tcG9uZW50IG1vdW50IGFjdGl2aXR5LlxuICAgICAgICAgICAgdGhpcy5fbW91bnRTcGFuLnN0YXJ0Q2hpbGQoe1xuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBcIjxcIiArIG5hbWUgKyBcIj5cIixcbiAgICAgICAgICAgICAgICBlbmRUaW1lc3RhbXA6IHRpbWVzdGFtcFdpdGhNcygpLFxuICAgICAgICAgICAgICAgIG9wOiBcInJlYWN0LnJlbmRlclwiLFxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wOiB0aGlzLl9tb3VudFNwYW4uZW5kVGltZXN0YW1wLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFByb2ZpbGVyLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICAgIH07XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9tZW1iZXItb3JkZXJpbmdcbiAgICBQcm9maWxlci5kZWZhdWx0UHJvcHMgPSB7XG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgaW5jbHVkZVJlbmRlcjogdHJ1ZSxcbiAgICAgICAgaW5jbHVkZVVwZGF0ZXM6IHRydWUsXG4gICAgfTtcbiAgICByZXR1cm4gUHJvZmlsZXI7XG59KFJlYWN0LkNvbXBvbmVudCkpO1xuLyoqXG4gKiB3aXRoUHJvZmlsZXIgaXMgYSBoaWdoZXIgb3JkZXIgY29tcG9uZW50IHRoYXQgd3JhcHMgYVxuICogY29tcG9uZW50IGluIGEge0BsaW5rIFByb2ZpbGVyfSBjb21wb25lbnQuIEl0IGlzIHJlY29tbWVuZGVkIHRoYXRcbiAqIHRoZSBoaWdoZXIgb3JkZXIgY29tcG9uZW50IGJlIHVzZWQgb3ZlciB0aGUgcmVndWxhciB7QGxpbmsgUHJvZmlsZXJ9IGNvbXBvbmVudC5cbiAqXG4gKiBAcGFyYW0gV3JhcHBlZENvbXBvbmVudCBjb21wb25lbnQgdGhhdCBpcyB3cmFwcGVkIGJ5IFByb2ZpbGVyXG4gKiBAcGFyYW0gb3B0aW9ucyB0aGUge0BsaW5rIFByb2ZpbGVyUHJvcHN9IHlvdSBjYW4gcGFzcyBpbnRvIHRoZSBQcm9maWxlclxuICovXG5mdW5jdGlvbiB3aXRoUHJvZmlsZXIoV3JhcHBlZENvbXBvbmVudCwgXG4vLyBXZSBkbyBub3Qgd2FudCB0byBoYXZlIGB1cGRhdGVQcm9wc2AgZ2l2ZW4gaW4gb3B0aW9ucywgaXQgaXMgaW5zdGVhZCBmaWxsZWQgdGhyb3VnaCB0aGUgSE9DLlxub3B0aW9ucykge1xuICAgIHZhciBjb21wb25lbnREaXNwbGF5TmFtZSA9IChvcHRpb25zICYmIG9wdGlvbnMubmFtZSkgfHwgV3JhcHBlZENvbXBvbmVudC5kaXNwbGF5TmFtZSB8fCBXcmFwcGVkQ29tcG9uZW50Lm5hbWUgfHwgVU5LTk9XTl9DT01QT05FTlQ7XG4gICAgdmFyIFdyYXBwZWQgPSBmdW5jdGlvbiAocHJvcHMpIHsgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFByb2ZpbGVyLCBfX2Fzc2lnbih7fSwgb3B0aW9ucywgeyBuYW1lOiBjb21wb25lbnREaXNwbGF5TmFtZSwgdXBkYXRlUHJvcHM6IHByb3BzIH0pLFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZWRDb21wb25lbnQsIF9fYXNzaWduKHt9LCBwcm9wcykpKSk7IH07XG4gICAgV3JhcHBlZC5kaXNwbGF5TmFtZSA9IFwicHJvZmlsZXIoXCIgKyBjb21wb25lbnREaXNwbGF5TmFtZSArIFwiKVwiO1xuICAgIC8vIENvcHkgb3ZlciBzdGF0aWMgbWV0aG9kcyBmcm9tIFdyYXBwZWQgY29tcG9uZW50IHRvIFByb2ZpbGVyIEhPQ1xuICAgIC8vIFNlZTogaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL2hpZ2hlci1vcmRlci1jb21wb25lbnRzLmh0bWwjc3RhdGljLW1ldGhvZHMtbXVzdC1iZS1jb3BpZWQtb3ZlclxuICAgIGhvaXN0Tm9uUmVhY3RTdGF0aWNzKFdyYXBwZWQsIFdyYXBwZWRDb21wb25lbnQpO1xuICAgIHJldHVybiBXcmFwcGVkO1xufVxuLyoqXG4gKlxuICogYHVzZVByb2ZpbGVyYCBpcyBhIFJlYWN0IGhvb2sgdGhhdCBwcm9maWxlcyBhIFJlYWN0IGNvbXBvbmVudC5cbiAqXG4gKiBSZXF1aXJlcyBSZWFjdCAxNi44IG9yIGFib3ZlLlxuICogQHBhcmFtIG5hbWUgZGlzcGxheU5hbWUgb2YgY29tcG9uZW50IGJlaW5nIHByb2ZpbGVkXG4gKi9cbmZ1bmN0aW9uIHVzZVByb2ZpbGVyKG5hbWUsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSB7XG4gICAgICAgIGRpc2FibGVkOiBmYWxzZSxcbiAgICAgICAgaGFzUmVuZGVyU3BhbjogdHJ1ZSxcbiAgICB9OyB9XG4gICAgdmFyIF9hID0gX19yZWFkKFJlYWN0LnVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5kaXNhYmxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYWN0aXZlVHJhbnNhY3Rpb24gPSBnZXRBY3RpdmVUcmFuc2FjdGlvbigpO1xuICAgICAgICBpZiAoYWN0aXZlVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIHJldHVybiBhY3RpdmVUcmFuc2FjdGlvbi5zdGFydENoaWxkKHtcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogXCI8XCIgKyBuYW1lICsgXCI+XCIsXG4gICAgICAgICAgICAgICAgb3A6ICdyZWFjdC5tb3VudCcsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pLCAxKSwgbW91bnRTcGFuID0gX2FbMF07XG4gICAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG1vdW50U3Bhbikge1xuICAgICAgICAgICAgbW91bnRTcGFuLmZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAobW91bnRTcGFuICYmIG9wdGlvbnMuaGFzUmVuZGVyU3Bhbikge1xuICAgICAgICAgICAgICAgIG1vdW50U3Bhbi5zdGFydENoaWxkKHtcbiAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFwiPFwiICsgbmFtZSArIFwiPlwiLFxuICAgICAgICAgICAgICAgICAgICBlbmRUaW1lc3RhbXA6IHRpbWVzdGFtcFdpdGhNcygpLFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJyZWFjdC5yZW5kZXJcIixcbiAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lc3RhbXA6IG1vdW50U3Bhbi5lbmRUaW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIFdlIG9ubHkgd2FudCB0aGlzIHRvIHJ1biBvbmNlLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaG9va3MvZXhoYXVzdGl2ZS1kZXBzXG4gICAgfSwgW10pO1xufVxuZXhwb3J0IHsgd2l0aFByb2ZpbGVyLCBQcm9maWxlciwgdXNlUHJvZmlsZXIgfTtcbi8qKiBHcmFicyBhY3RpdmUgdHJhbnNhY3Rpb24gb2ZmIHNjb3BlICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWN0aXZlVHJhbnNhY3Rpb24oaHViKSB7XG4gICAgaWYgKGh1YiA9PT0gdm9pZCAwKSB7IGh1YiA9IGdldEN1cnJlbnRIdWIoKTsgfVxuICAgIGlmIChodWIpIHtcbiAgICAgICAgdmFyIHNjb3BlID0gaHViLmdldFNjb3BlKCk7XG4gICAgICAgIGlmIChzY29wZSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjb3BlLmdldFRyYW5zYWN0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByb2ZpbGVyLmpzLm1hcCIsImNvbnN0IG5vdGVzOiBzdHJpbmdbXSA9IFtcbiAgXCJBXCIsIC8vIDIxXG4gIFwiQuKZrVwiLCAvLyAyMlxuICBcIkJcIiwgLy8gMjNcbiAgXCJDXCIsIC8vIDI0XG4gIFwiQ+KZr1wiLCAvLyAyNVxuICBcIkRcIiwgLy8gMjZcbiAgXCJE4pmvXCIsIC8vIDI3XG4gIFwiRVwiLCAvLyAyOFxuICBcIkZcIiwgLy8gMjlcbiAgXCJG4pmvXCIsIC8vIDMwXG4gIFwiR1wiLCAvLyAzMVxuICBcIkfima9cIiwgLy8gMzJcbl07XG5jb25zdCBuYW1lID0gKG5vdGU6IG51bWJlcik6IHN0cmluZyA9PiBub3Rlc1sobm90ZSAtIDIxKSAlIDEyXTtcbmNvbnN0IG9jdGF2ZSA9IChub3RlOiBudW1iZXIpOiBudW1iZXIgPT4gTWF0aC5mbG9vcihub3RlIC8gMTIgLSAxKTtcblxuY29uc3Qgbm90ZVRvRnJlcSA9IChub3RlOiBudW1iZXIpOiBudW1iZXIgPT4gNDQwICogKChub3RlIC0gNjkpIC8gMTIpICoqIDI7XG5cbmNvbnN0IGZyZXFUb05vdGUgPSAoZnJlcTogbnVtYmVyKTogbnVtYmVyID0+IDY5ICsgMTIgKiBNYXRoLmxvZzIoZnJlcSAvIDQ0MCk7XG5cbmNvbnN0IGRpZmYgPSAoYTogbnVtYmVyLCBiOiBudW1iZXIpOiBudW1iZXIgPT4gMTIwMCAqIE1hdGgubG9nMihiIC8gYSk7XG5cbmNsYXNzIE5vdGUge1xuICByZWFkb25seSBmcmVxdWVuY3k6IG51bWJlcjtcblxuICByZWFkb25seSBub3RlOiBudW1iZXI7XG5cbiAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuXG4gIHJlYWRvbmx5IG9jdGF2ZTogbnVtYmVyO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgcmVhZG9ubHkgX2ZyZXE6IG51bWJlcikge1xuICAgIHRoaXMubm90ZSA9IE1hdGgucm91bmQoZnJlcVRvTm90ZShfZnJlcSkpO1xuXG4gICAgdGhpcy5mcmVxdWVuY3kgPSBub3RlVG9GcmVxKHRoaXMubm90ZSk7XG4gICAgdGhpcy5uYW1lID0gbmFtZSh0aGlzLm5vdGUpO1xuICAgIHRoaXMub2N0YXZlID0gb2N0YXZlKHRoaXMubm90ZSk7XG4gIH1cbn1cblxudHlwZSBQaXRjaCA9IHtcbiAgdGFyZ2V0OiBOb3RlO1xuICBub3RlOiBudW1iZXI7XG4gIGZyZXF1ZW5jeTogbnVtYmVyO1xuICBkaWZmOiBudW1iZXI7XG59O1xuXG5jb25zdCBub3RlID0gKGZyZXE/OiBudW1iZXIgfCBudWxsKTogUGl0Y2ggfCBudWxsID0+IHtcbiAgaWYgKGZyZXEgPT09IHVuZGVmaW5lZCB8fCBmcmVxID09PSBudWxsKSByZXR1cm4gbnVsbDtcblxuICBjb25zdCBuID0gbmV3IE5vdGUoZnJlcSk7XG4gIHJldHVybiB7XG4gICAgZnJlcXVlbmN5OiBmcmVxLFxuICAgIHRhcmdldDogbixcbiAgICBub3RlOiBmcmVxVG9Ob3RlKGZyZXEpLFxuICAgIGRpZmY6IGRpZmYobi5mcmVxdWVuY3ksIGZyZXEpLFxuICB9O1xufTtcblxuZXhwb3J0IHsgbmFtZSwgb2N0YXZlLCBub3RlLCBOb3RlLCBQaXRjaCwgZnJlcVRvTm90ZSwgbm90ZVRvRnJlcSwgZGlmZiB9O1xuIiwiaW1wb3J0IFwibWw1XCI7XG5cbmltcG9ydCB7IG5vdGUsIFBpdGNoIH0gZnJvbSBcInBpdGNoL25vdGVzXCI7XG5pbXBvcnQgZ2V0TG9nZ2VyIGZyb20gXCJsb2dcIjtcblxuY29uc3QgTE9HID0gZ2V0TG9nZ2VyKCk7XG5cbmV4cG9ydCB0eXBlIFNhbXBsZSA9IFBpdGNoIHwgbnVsbDtcbmV4cG9ydCB0eXBlIFJlY29yZGluZyA9IFNhbXBsZVtdO1xuXG50eXBlIFBpdGNoR2VuZXJhdG9yID0gQXN5bmNHZW5lcmF0b3I8U2FtcGxlPjtcblxuY29uc3QgTU9ERUxfVVJMID1cbiAgXCJodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvZ2gvbWw1anMvbWw1LWRhdGEtYW5kLW1vZGVscy9tb2RlbHMvcGl0Y2gtZGV0ZWN0aW9uL2NyZXBlL1wiO1xuXG5hc3luYyBmdW5jdGlvbiogbWw1UGl0Y2hEZXRlY3Rpb24oXG4gIGN0eDogQXVkaW9Db250ZXh0LFxuICBzdHJlYW06IE1lZGlhU3RyZWFtXG4pOiBQaXRjaEdlbmVyYXRvciB7XG4gIGNvbnN0IHBpdGNoRGV0ZWN0aW9uOiBhbnkgPSBtbDUucGl0Y2hEZXRlY3Rpb24oTU9ERUxfVVJMLCBjdHgsIHN0cmVhbSk7XG4gIExPRy5pbmZvKFwiQ3JlYXRlZCBwaXRjaCBkZXRlY3Rpb24uXCIsIHBpdGNoRGV0ZWN0aW9uKTtcblxuICBhd2FpdCBwaXRjaERldGVjdGlvbi5yZWFkeTtcbiAgTE9HLmluZm8oXCJJbml0aWFsaXplZCB0aGUgbW9kZWwuXCIpO1xuXG4gIHdoaWxlIChzdHJlYW0uYWN0aXZlICYmIGN0eC5zdGF0ZSA9PT0gXCJydW5uaW5nXCIpIHtcbiAgICAvLyBUaGlzIGlzIGZpbmUgYXMgdGhpcyBpcyBhIGdlbmVyYXRvciBjb2RlLlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1hd2FpdC1pbi1sb29wXG4gICAgY29uc3QgcGl0Y2ggPSBhd2FpdCBwaXRjaERldGVjdGlvbi5nZXRQaXRjaCgpO1xuICAgIGlmIChwaXRjaCA9PT0gbnVsbCkge1xuICAgICAgTE9HLmRlYnVnKFwiU2tpcHBpbmdcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHlpZWxkIG5vdGUocGl0Y2gpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBQaXRjaEdlbmVyYXRvciwgbWw1UGl0Y2hEZXRlY3Rpb24gfTtcbiIsImltcG9ydCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcblxudHlwZSBHZW5lcmF0b3JDb21wb25lbnRQcm9wczxUPiA9IHtcbiAgZ2VuZXJhdG9yOiBBc3luY0dlbmVyYXRvcjxUIHwgbnVsbCwgYW55LCBhbnk+O1xuICBjaGlsZHJlbjogYW55O1xuICBvblRpY2s/OiAodDogVCB8IG51bGwpID0+IHZvaWQ7XG59O1xuXG5mdW5jdGlvbiBHZW5lcmF0b3JDb21wb25lbnQ8VD4ocHJvcHM6IEdlbmVyYXRvckNvbXBvbmVudFByb3BzPFQ+KSB7XG4gIGNvbnN0IFtmbGFnLCBzZXRGbGFnXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2N1cnJlbnRWYWx1ZSwgc2V0Q3VycmVudFZhbHVlXSA9IHVzZVN0YXRlPFQgfCB1bmRlZmluZWQ+KCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsZXQgbW91bnRlZCA9IHRydWU7XG5cbiAgICBwcm9wcy5nZW5lcmF0b3IubmV4dCgpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5kb25lIHx8ICFtb3VudGVkKSByZXR1cm47XG5cbiAgICAgIHNldEN1cnJlbnRWYWx1ZShyZXN1bHQudmFsdWUgfHwgdW5kZWZpbmVkKTtcbiAgICAgIHNldEZsYWcoIWZsYWcpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIG1vdW50ZWQgPSBmYWxzZTtcbiAgICB9O1xuICB9LCBbZmxhZ10pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHByb3BzLm9uVGljayAmJiBjdXJyZW50VmFsdWUpIHtcbiAgICAgIHByb3BzLm9uVGljayhjdXJyZW50VmFsdWUpO1xuICAgIH1cbiAgfSwgW2N1cnJlbnRWYWx1ZV0pO1xuXG4gIGlmICh0eXBlb2YgcHJvcHMuY2hpbGRyZW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBwcm9wcy5jaGlsZHJlbihjdXJyZW50VmFsdWUpO1xuICB9XG4gIHJldHVybiBwcm9wcy5jaGlsZHJlbjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgR2VuZXJhdG9yQ29tcG9uZW50O1xuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgUGl0Y2hHZW5lcmF0b3IsIFNhbXBsZSB9IGZyb20gXCJwaXRjaC9waXRjaFwiO1xuaW1wb3J0IHNhbXBsZSBmcm9tIFwiYXVkaW8vYzQub2dnXCI7XG5cbmltcG9ydCBnZXRMb2dnZXIgZnJvbSBcImxvZ1wiO1xuaW1wb3J0IHsgQnV0dG9uLCBTcGlubmVyIH0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuaW1wb3J0IEdlbmVyYXRvckNvbXBvbmVudCBmcm9tIFwiLi9HZW5lcmF0b3JDb21wb25lbnRcIjtcblxuY29uc3QgTE9HID0gZ2V0TG9nZ2VyKCk7XG5cbnR5cGUgUmVjb3JkaW5nID0gU2FtcGxlW107XG50eXBlIFBpdGNoUmVjb3JkZXJQcm9wcyA9IHtcbiAgcGl0Y2hHZW5lcmF0b3I6IFBpdGNoR2VuZXJhdG9yO1xuICB0aW1lb3V0TXM6IG51bWJlcjtcbiAgb25GaW5pc2g6IChzYW1wbGVzOiBSZWNvcmRpbmcpID0+IHZvaWQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBQaXRjaFJlY29yZGVyKHtcbiAgcGl0Y2hHZW5lcmF0b3IsXG4gIHRpbWVvdXRNcyxcbiAgb25GaW5pc2gsXG59OiBQaXRjaFJlY29yZGVyUHJvcHMpIHtcbiAgY29uc3QgW3JlY29yZGluZywgc2V0UmVjb3JkaW5nXSA9IHVzZVN0YXRlPFJlY29yZGluZz4oW10pO1xuICBjb25zdCBbc3RhcnRlZCwgc2V0U3RhcnRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtmaW5pc2hlZCwgc2V0RmluaXNoZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbY291bnRkb3duLCBzZXRDb3VudGRvd25dID0gdXNlU3RhdGU8bnVtYmVyPigwKTtcblxuICBjb25zdCBhdWRpbyA9IG5ldyBBdWRpbyhzYW1wbGUpO1xuICBhdWRpby5wbGF5KCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXN0YXJ0ZWQpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7fTtcbiAgICB9XG4gICAgTE9HLmluZm8oXCJTZXR0aW5nIHVwIHRoZSB0aW1lb3V0LlwiKTtcbiAgICBjb25zdCB0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBzZXRGaW5pc2hlZCh0cnVlKTtcbiAgICAgIHNldFN0YXJ0ZWQoZmFsc2UpO1xuICAgIH0sIHRpbWVvdXRNcyk7XG4gICAgTE9HLmluZm8oXCJTZXQgdXAgdGltZXIgJWQgZm9yICVkIG1zLlwiLCB0LCB0aW1lb3V0TXMpO1xuXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIExPRy5pbmZvKFwiQ2xlYXJpbmcgb3V0IHRoZSB0aW1lb3V0ICVkLlwiLCB0KTtcbiAgICAgIGNsZWFyVGltZW91dCh0KTtcbiAgICB9O1xuICB9LCBbc3RhcnRlZF0pO1xuXG4gIC8vIEludGVydmFsIHNldCB1cC5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIXN0YXJ0ZWQpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7fTtcbiAgICB9XG5cbiAgICBzZXRDb3VudGRvd24odGltZW91dE1zIC8gMTAwMCk7XG4gICAgTE9HLmluZm8oXCJTZXR0aW5nIHRoZSBpbnRlcnZhbCB3aXRoIGNvdW50ZG93biAlZC5cIiwgdGltZW91dE1zKTtcbiAgICBjb25zdCBpbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHNldENvdW50ZG93bigocHJldikgPT4gcHJldiAtIDEpLCAxMDAwKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBMT0cuaW5mbyhcIkNsZWFyaW5nIG91dCB0aGUgaW50ZXJ2YWwgJWQuXCIsIGludGVydmFsKTtcbiAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuICAgIH07XG4gIH0sIFtzdGFydGVkXSk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoZmluaXNoZWQpIHtcbiAgICAgIExPRy5pbmZvKFwiRmluaXNoaW5nIHJlY29yZGluZy5cIik7XG4gICAgICBvbkZpbmlzaChyZWNvcmRpbmcpO1xuICAgIH1cbiAgfSwgW2ZpbmlzaGVkLCByZWNvcmRpbmddKTtcblxuICBjb25zdCBhZGRTYW1wbGUgPSAocDogU2FtcGxlKSA9PiB7XG4gICAgY29uc3QgbmV3UmVjb3JkaW5nID0gcmVjb3JkaW5nLmNvbmNhdChbcF0pO1xuICAgIHNldFJlY29yZGluZyhuZXdSZWNvcmRpbmcpO1xuICAgIGlmICghc3RhcnRlZCkge1xuICAgICAgc2V0U3RhcnRlZCh0cnVlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgbGFiZWwgPSAhc3RhcnRlZCA/IChcbiAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1pbmZvXCI+c3RhcnQgc2luZ2luZyE8L2gzPlxuICApIDogKFxuICAgIDxCdXR0b24gdmFyaWFudD1cIm91dGxpbmUtcHJpbWFyeVwiIGRpc2FibGVkPlxuICAgICAgPFNwaW5uZXJcbiAgICAgICAgYXM9XCJzcGFuXCJcbiAgICAgICAgYW5pbWF0aW9uPVwiZ3Jvd1wiXG4gICAgICAgIHJvbGU9XCJzdGF0dXNcIlxuICAgICAgICBhcmlhLWhpZGRlbj1cInRydWVcIlxuICAgICAgICBzaXplPVwic21cIlxuICAgICAgICBjbGFzc05hbWU9XCJtci0yXCJcbiAgICAgICAgdmFyaWFudD1cImRhbmdlclwiXG4gICAgICAvPlxuICAgICAge2NvdW50ZG93bn0uLi5cbiAgICA8L0J1dHRvbj5cbiAgKTtcblxuICByZXR1cm4gcGl0Y2hHZW5lcmF0b3IgPyAoXG4gICAgPEdlbmVyYXRvckNvbXBvbmVudCBnZW5lcmF0b3I9e3BpdGNoR2VuZXJhdG9yfSBvblRpY2s9e2FkZFNhbXBsZX0+XG4gICAgICB7bGFiZWx9XG4gICAgPC9HZW5lcmF0b3JDb21wb25lbnQ+XG4gICkgOiAoXG4gICAgPFNwaW5uZXIgYW5pbWF0aW9uPVwiYm9yZGVyXCIgdmFyaWFudD1cInByaW1hcnlcIiAvPlxuICApO1xufVxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBnZXRMb2dnZXIsIHsgdXNlTG9nZ2VyIH0gZnJvbSBcImxvZ1wiO1xuaW1wb3J0ICogYXMgU2VudHJ5IGZyb20gXCJAc2VudHJ5L3JlYWN0XCI7XG5cbmltcG9ydCB7IG1sNVBpdGNoRGV0ZWN0aW9uLCBQaXRjaEdlbmVyYXRvciwgUmVjb3JkaW5nIH0gZnJvbSBcInBpdGNoL3BpdGNoXCI7XG5pbXBvcnQgeyBQaXRjaCwgbm90ZSwgbm90ZVRvRnJlcSB9IGZyb20gXCJwaXRjaC9ub3Rlc1wiO1xuXG5pbXBvcnQgeyBSZWRpcmVjdCB9IGZyb20gXCJyZWFjdC1yb3V0ZXItZG9tXCI7XG5pbXBvcnQgeyBTcGlubmVyIH0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuaW1wb3J0IFBpdGNoUmVjb3JkZXIgZnJvbSBcIi4vUGl0Y2hSZWNvcmRlclwiO1xuXG5jb25zdCBMT0cgPSBnZXRMb2dnZXIoKTtcblxudHlwZSBEZXRlY3Rpb25Qcm9wcyA9IHtcbiAgbmV4dDogc3RyaW5nO1xufTtcblxuZnVuY3Rpb24gdXNlTWljcm9waG9uZSgpIHtcbiAgY29uc3QgW3N0cmVhbSwgc2V0U3RyZWFtXSA9IHVzZVN0YXRlPE1lZGlhU3RyZWFtPigpO1xuICBjb25zdCBsb2dnZXIgPSB1c2VMb2dnZXIoKTtcblxuICAvLyBTZXQgdXAgdGhlIG1pY3JvcGhvbmUuIERvIGl0IG9uY2UsIHNvIFtdIGRlcGVuZGVuY3kuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbG9nZ2VyLmluZm8oXCJBY3F1aXJpbmcgbWljcm9waG9uZS5cIik7XG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlc1xuICAgICAgLmdldFVzZXJNZWRpYSh7XG4gICAgICAgIGF1ZGlvOiB0cnVlLFxuICAgICAgICB2aWRlbzogZmFsc2UsXG4gICAgICB9KVxuICAgICAgLnRoZW4oKG5ld1N0cmVhbSkgPT4ge1xuICAgICAgICBsb2dnZXIuZGVidWcoXG4gICAgICAgICAgXCJNaWNyb3Bob25lIGluaXRpYWxpemVkIHdpdGggc3RyZWFtOiAlaiwgYWN0aXZlPywgJXMsIHN0YXRlOiAlcy5cIixcbiAgICAgICAgICBuZXdTdHJlYW0sXG4gICAgICAgICAgbmV3U3RyZWFtLmFjdGl2ZSxcbiAgICAgICAgICBuZXdTdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXS5yZWFkeVN0YXRlXG4gICAgICAgICk7XG4gICAgICAgIHNldFN0cmVhbShuZXdTdHJlYW0pO1xuICAgICAgfSk7XG4gIH0sIFtdKTtcblxuICByZXR1cm4gc3RyZWFtO1xufVxuXG5jb25zdCBEZXRlY3Rpb24gPSAoeyBuZXh0OiBwYXRoIH06IERldGVjdGlvblByb3BzKSA9PiB7XG4gIExPRy5pbmZvKFwiW1dpZGdldF0gUmVjb3JkZXJcIik7XG4gIFNlbnRyeS51c2VQcm9maWxlcihcIlBpdGNoRGV0ZWN0aW9uXCIpO1xuXG4gIC8vIHdlYmtpdCB2cyBhbGwgdGhlIG90aGVyc1xuICAvLyBAdHMtaWdub3JlXG4gIGNvbnN0IEF1ZGlvQ3R4ID0gd2luZG93LkF1ZGlvQ29udGV4dCB8fCB3aW5kb3cud2Via2l0QXVkaW9Db250ZXh0O1xuXG4gIC8vIEF1ZGlvIGludGVyZmFjZXNcbiAgY29uc3QgW2F1ZGlvQ29udGV4dF0gPSB1c2VTdGF0ZShuZXcgQXVkaW9DdHgoKSk7IC8vIHJlYWQtb25seVxuICBjb25zdCBbXG4gICAgcGl0Y2hEZXRlY3Rpb25HZW5lcmF0b3IsXG4gICAgc2V0UGl0Y2hEZXRlY3Rpb25HZW5lcmF0b3IsXG4gIF0gPSB1c2VTdGF0ZTxQaXRjaEdlbmVyYXRvcj4oKTtcbiAgY29uc3QgW3JlY29yZGluZywgc2V0UmVjb3JkaW5nXSA9IHVzZVN0YXRlPFJlY29yZGluZz4oKTtcblxuICAvLyBTZXQgdXAgdGhlIG1pY3JvcGhvbmUuIERvIGl0IG9uY2UsIHNvIFtdIGRlcGVuZGVuY3kuXG4gIGNvbnN0IHN0cmVhbSA9IHVzZU1pY3JvcGhvbmUoKTtcblxuICAvLyBDb25maWd1cmUgdGhlIGF1ZGlvIHN0cmVhbS5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoc3RyZWFtID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAoKSA9PiB7fTtcbiAgICB9XG5cbiAgICBMT0cuaW5mbyhcbiAgICAgIFwiU2V0dGluZyB1cCB0aGUgY29udGV4dCBpbiBzdGF0ZSAlaiBhbmQgc3RyZWFtICVqXCIsXG4gICAgICBhdWRpb0NvbnRleHQuc3RhdGUsXG4gICAgICBzdHJlYW0uaWRcbiAgICApO1xuICAgIGNvbnN0IG5vZGUgPSBhdWRpb0NvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2Uoc3RyZWFtKTtcblxuICAgIExPRy5pbmZvKFwiTWVkaWEgc3RyZWFtIHNvdXJjZSBjcmVhdGVkLlwiLCBub2RlKTtcbiAgICBzZXRQaXRjaERldGVjdGlvbkdlbmVyYXRvcihtbDVQaXRjaERldGVjdGlvbihhdWRpb0NvbnRleHQsIHN0cmVhbSkpO1xuICAgIGF1ZGlvQ29udGV4dC5yZXN1bWUoKTtcblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBMT0cuaW5mbyhcIkNsZWFudXAgdGhlIGF1ZGlvIHNldHRpbmdzXCIpO1xuICAgICAgTE9HLmRlYnVnKFwiU3RvcCBhbGwgdHJhY2tzIGluIHRoZSBzdHJlYW0gJWouXCIsIHN0cmVhbSk7XG4gICAgICBzdHJlYW0/LmdldFRyYWNrcygpLmZvckVhY2goKHQpID0+IHQuc3RvcCgpKTtcblxuICAgICAgTE9HLmRlYnVnKFwiU3VzcGVuZCBhdWRpbyBjb250ZXh0ICVqLlwiLCBhdWRpb0NvbnRleHQpO1xuICAgICAgYXVkaW9Db250ZXh0LnN1c3BlbmQoKTtcbiAgICB9O1xuICB9LCBbc3RyZWFtXSk7XG5cbiAgLy8gRmluaXNoZWQgcmVjb3JkaW5nLlxuICBpZiAocmVjb3JkaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCByZWZlcmVuY2VQaXRjaCA9IG5vdGUobm90ZVRvRnJlcSg2MCkpIGFzIFBpdGNoO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVkaXJlY3RcbiAgICAgICAgdG89e3tcbiAgICAgICAgICBwYXRobmFtZTogcGF0aCxcbiAgICAgICAgICBzdGF0ZTogeyByZWNvcmRpbmcsIHJlZmVyZW5jZTogcmVmZXJlbmNlUGl0Y2ggfSxcbiAgICAgICAgfX1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIC8vIHJlY29yZGluZyBpcyBzZXQgdXAuXG4gIGlmIChwaXRjaERldGVjdGlvbkdlbmVyYXRvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8UGl0Y2hSZWNvcmRlclxuICAgICAgICBvbkZpbmlzaD17KHJlc3VsdCkgPT4ge1xuICAgICAgICAgIHNldFJlY29yZGluZyhyZXN1bHQpO1xuICAgICAgICB9fVxuICAgICAgICBwaXRjaEdlbmVyYXRvcj17cGl0Y2hEZXRlY3Rpb25HZW5lcmF0b3J9XG4gICAgICAgIHRpbWVvdXRNcz17NTAwMH1cbiAgICAgIC8+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiA8U3Bpbm5lciBhbmltYXRpb249XCJib3JkZXJcIiB2YXJpYW50PVwicHJpbWFyeVwiIC8+O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgRGV0ZWN0aW9uO1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgQnJvd3NlclJvdXRlciBhcyBSb3V0ZXIsIFJvdXRlLCBTd2l0Y2ggfSBmcm9tIFwicmVhY3Qtcm91dGVyLWRvbVwiO1xuaW1wb3J0IFwiLi9BcHAuY3NzXCI7XG5cbmltcG9ydCBjbHN4IGZyb20gXCJjbHN4XCI7XG5cbmltcG9ydCBnZXRMb2dnZXIgZnJvbSBcImxvZ1wiO1xuaW1wb3J0IHsgQ29udGFpbmVyIH0gZnJvbSBcInJlYWN0LWJvb3RzdHJhcFwiO1xuaW1wb3J0IEhlbGxvIGZyb20gXCJwYWdlcy9IZWxsb1wiO1xuaW1wb3J0IFByZXZpZXcgZnJvbSBcInBhZ2VzL1ByZXZpZXdcIjtcbmltcG9ydCBSZXN1bHQgZnJvbSBcInBhZ2VzL1Jlc3VsdFwiO1xuaW1wb3J0IERldGVjdGlvbiBmcm9tIFwiY29tcG9uZW50cy9QaXRjaERldGVjdGlvblwiO1xuXG5jb25zdCBMT0cgPSBnZXRMb2dnZXIoKTtcblxuZXhwb3J0IGRlZmF1bHQgKCkgPT4ge1xuICBMT0cuaW5mbyhcIlN0YXJ0aW5nIGFwcC5cIik7XG4gIHJldHVybiAoXG4gICAgPENvbnRhaW5lcj5cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPXtjbHN4KFwidGV4dC1jZW50ZXJcIiwgXCJtdC01XCIpfT5cbiAgICAgICAgPGgxIGNsYXNzTmFtZT17Y2xzeChcImRpc3BsYXktMVwiLCBcInRleHQtcHJpbWFyeVwiLCBcInRpdGxlXCIpfT52b2NhbGx5PC9oMT5cbiAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtc2Vjb25kYXJ5XCI+aG93IGNsZWFuIGNhbiB5b3Ugc2luZz88L2gyPlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIDxtYWluIGNsYXNzTmFtZT17Y2xzeChcInRleHQtY2VudGVyXCIsIFwicHktNVwiKX0gcm9sZT1cIm1haW5cIj5cbiAgICAgICAgPFJvdXRlcj5cbiAgICAgICAgICA8U3dpdGNoPlxuICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvcHJldmlld1wiPlxuICAgICAgICAgICAgICA8UHJldmlldyBuZXh0PVwiL3JlY29yZFwiIC8+XG4gICAgICAgICAgICA8L1JvdXRlPlxuICAgICAgICAgICAgPFJvdXRlIHBhdGg9XCIvcmVjb3JkXCI+XG4gICAgICAgICAgICAgIDxEZXRlY3Rpb24gbmV4dD1cIi9zdW1tYXJ5XCIgLz5cbiAgICAgICAgICAgIDwvUm91dGU+XG4gICAgICAgICAgICA8Um91dGUgcGF0aD1cIi9zdW1tYXJ5XCI+XG4gICAgICAgICAgICAgIDxSZXN1bHQgLz5cbiAgICAgICAgICAgIDwvUm91dGU+XG4gICAgICAgICAgICA8Um91dGUgcGF0aD1cIi9cIj5cbiAgICAgICAgICAgICAgPEhlbGxvIG5leHQ9XCIvcHJldmlld1wiIC8+XG4gICAgICAgICAgICA8L1JvdXRlPlxuICAgICAgICAgIDwvU3dpdGNoPlxuICAgICAgICA8L1JvdXRlcj5cbiAgICAgIDwvbWFpbj5cblxuICAgICAgPGZvb3RlciBjbGFzc05hbWU9e2Nsc3goXCJweS0zXCIsIFwiYm9yZGVyLXRvcFwiLCBcInRleHQtbXV0ZWRcIil9PlxuICAgICAgICA8Q29udGFpbmVyPlxuICAgICAgICAgIDxwPnZvY2FsbHkuYXBwIDIwMjA8L3A+XG4gICAgICAgIDwvQ29udGFpbmVyPlxuICAgICAgPC9mb290ZXI+XG4gICAgPC9Db250YWluZXI+XG4gICk7XG59O1xuIiwiaW1wb3J0ICogYXMgU2VudHJ5IGZyb20gXCJAc2VudHJ5L3JlYWN0XCI7XG5pbXBvcnQgKiBhcyBJbnRlZ3JhdGlvbnMgZnJvbSBcIkBzZW50cnkvaW50ZWdyYXRpb25zXCI7XG5pbXBvcnQgeyBJbnRlZ3JhdGlvbnMgYXMgVHJhY2luZ0ludGVncmF0aW9ucyB9IGZyb20gXCJAc2VudHJ5L3RyYWNpbmdcIjtcblxuaW1wb3J0IExvZ1JvY2tldCBmcm9tIFwibG9ncm9ja2V0XCI7XG5pbXBvcnQgc2V0dXBMb2dSb2NrZXRSZWFjdCBmcm9tIFwibG9ncm9ja2V0LXJlYWN0XCI7XG5cbmRlY2xhcmUgY29uc3QgUkVMRUFTRTogc3RyaW5nO1xuXG5leHBvcnQgZGVmYXVsdCAoKSA9PiB7XG4gIFNlbnRyeS5pbml0KHtcbiAgICBkc246XG4gICAgICBcImh0dHBzOi8vZmZlNDM5YWM2NWI4NDg4OWEzNzUxODAzN2EyM2E3YjFAbzQzMzU1Ny5pbmdlc3Quc2VudHJ5LmlvLzUzODg5MTdcIixcbiAgICByZWxlYXNlOiBSRUxFQVNFLFxuICAgIGVudmlyb25tZW50OiBcInRlc3RpbmdcIixcbiAgICBpbnRlZ3JhdGlvbnM6IFtcbiAgICAgIG5ldyBJbnRlZ3JhdGlvbnMuQ2FwdHVyZUNvbnNvbGUoe1xuICAgICAgICBsZXZlbHM6IFtcImluZm9cIl0sXG4gICAgICB9KSxcbiAgICAgIG5ldyBUcmFjaW5nSW50ZWdyYXRpb25zLkJyb3dzZXJUcmFjaW5nKCksXG4gICAgXSxcbiAgfSk7XG5cbiAgTG9nUm9ja2V0LmluaXQoXCI2YXlxaTcvdm9jYWxseXRlc3RcIiwge1xuICAgIHJlbGVhc2U6IFJFTEVBU0UsXG4gIH0pO1xuICBzZXR1cExvZ1JvY2tldFJlYWN0KExvZ1JvY2tldCk7XG59O1xuIiwiaW1wb3J0ICogYXMgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tIFwicmVhY3QtZG9tXCI7XG5cbmltcG9ydCBpbml0IGZyb20gXCJpbml0XCI7XG5pbXBvcnQgQXBwIGZyb20gXCIuL0FwcFwiO1xuXG5pbml0KCk7XG5cblJlYWN0RE9NLnJlbmRlcig8QXBwIC8+LCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFwcFwiKSk7XG4iLCJpbXBvcnQgeyBnZXRHbG9iYWxPYmplY3QgfSBmcm9tICcuL21pc2MnO1xuaW1wb3J0IHsgZHluYW1pY1JlcXVpcmUsIGlzTm9kZUVudiB9IGZyb20gJy4vbm9kZSc7XG4vKipcbiAqIEEgVGltZXN0YW1wU291cmNlIGltcGxlbWVudGF0aW9uIGZvciBlbnZpcm9ubWVudHMgdGhhdCBkbyBub3Qgc3VwcG9ydCB0aGUgUGVyZm9ybWFuY2UgV2ViIEFQSSBuYXRpdmVseS5cbiAqXG4gKiBOb3RlIHRoYXQgdGhpcyBUaW1lc3RhbXBTb3VyY2UgZG9lcyBub3QgdXNlIGEgbW9ub3RvbmljIGNsb2NrLiBBIGNhbGwgdG8gYG5vd1NlY29uZHNgIG1heSByZXR1cm4gYSB0aW1lc3RhbXAgZWFybGllclxuICogdGhhbiBhIHByZXZpb3VzbHkgcmV0dXJuZWQgdmFsdWUuIFdlIGRvIG5vdCB0cnkgdG8gZW11bGF0ZSBhIG1vbm90b25pYyBiZWhhdmlvciBpbiBvcmRlciB0byBmYWNpbGl0YXRlIGRlYnVnZ2luZy4gSXRcbiAqIGlzIG1vcmUgb2J2aW91cyB0byBleHBsYWluIFwid2h5IGRvZXMgbXkgc3BhbiBoYXZlIG5lZ2F0aXZlIGR1cmF0aW9uXCIgdGhhbiBcIndoeSBteSBzcGFucyBoYXZlIHplcm8gZHVyYXRpb25cIi5cbiAqL1xudmFyIGRhdGVUaW1lc3RhbXBTb3VyY2UgPSB7XG4gICAgbm93U2Vjb25kczogZnVuY3Rpb24gKCkgeyByZXR1cm4gRGF0ZS5ub3coKSAvIDEwMDA7IH0sXG59O1xuLyoqXG4gKiBSZXR1cm5zIGEgd3JhcHBlciBhcm91bmQgdGhlIG5hdGl2ZSBQZXJmb3JtYW5jZSBBUEkgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiwgb3IgdW5kZWZpbmVkIGZvciBicm93c2VycyB0aGF0IGRvIG5vdFxuICogc3VwcG9ydCB0aGUgQVBJLlxuICpcbiAqIFdyYXBwaW5nIHRoZSBuYXRpdmUgQVBJIHdvcmtzIGFyb3VuZCBkaWZmZXJlbmNlcyBpbiBiZWhhdmlvciBmcm9tIGRpZmZlcmVudCBicm93c2Vycy5cbiAqL1xuZnVuY3Rpb24gZ2V0QnJvd3NlclBlcmZvcm1hbmNlKCkge1xuICAgIHZhciBwZXJmb3JtYW5jZSA9IGdldEdsb2JhbE9iamVjdCgpLnBlcmZvcm1hbmNlO1xuICAgIGlmICghcGVyZm9ybWFuY2UgfHwgIXBlcmZvcm1hbmNlLm5vdykge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICAvLyBSZXBsYWNlIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gd2l0aCBvdXIgb3duIHRpbWVPcmlnaW4gYmFzZWQgb24gRGF0ZS5ub3coKS5cbiAgICAvL1xuICAgIC8vIFRoaXMgaXMgYSBwYXJ0aWFsIHdvcmthcm91bmQgZm9yIGJyb3dzZXJzIHJlcG9ydGluZyBwZXJmb3JtYW5jZS50aW1lT3JpZ2luIHN1Y2ggdGhhdCBwZXJmb3JtYW5jZS50aW1lT3JpZ2luICtcbiAgICAvLyBwZXJmb3JtYW5jZS5ub3coKSBnaXZlcyBhIGRhdGUgYXJiaXRyYXJpbHkgaW4gdGhlIHBhc3QuXG4gICAgLy9cbiAgICAvLyBBZGRpdGlvbmFsbHksIGNvbXB1dGluZyB0aW1lT3JpZ2luIGluIHRoaXMgd2F5IGZpbGxzIHRoZSBnYXAgZm9yIGJyb3dzZXJzIHdoZXJlIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gaXNcbiAgICAvLyB1bmRlZmluZWQuXG4gICAgLy9cbiAgICAvLyBUaGUgYXNzdW1wdGlvbiB0aGF0IHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4gKyBwZXJmb3JtYW5jZS5ub3coKSB+PSBEYXRlLm5vdygpIGlzIGZsYXdlZCwgYnV0IHdlIGRlcGVuZCBvbiBpdCB0b1xuICAgIC8vIGludGVyYWN0IHdpdGggZGF0YSBjb21pbmcgb3V0IG9mIHBlcmZvcm1hbmNlIGVudHJpZXMuXG4gICAgLy9cbiAgICAvLyBOb3RlIHRoYXQgZGVzcGl0ZSByZWNvbW1lbmRhdGlvbnMgYWdhaW5zdCBpdCBpbiB0aGUgc3BlYywgYnJvd3NlcnMgaW1wbGVtZW50IHRoZSBQZXJmb3JtYW5jZSBBUEkgd2l0aCBhIGNsb2NrIHRoYXRcbiAgICAvLyBtaWdodCBzdG9wIHdoZW4gdGhlIGNvbXB1dGVyIGlzIGFzbGVlcCAoYW5kIHBlcmhhcHMgdW5kZXIgb3RoZXIgY2lyY3Vtc3RhbmNlcykuIFN1Y2ggYmVoYXZpb3IgY2F1c2VzXG4gICAgLy8gcGVyZm9ybWFuY2UudGltZU9yaWdpbiArIHBlcmZvcm1hbmNlLm5vdygpIHRvIGhhdmUgYW4gYXJiaXRyYXJ5IHNrZXcgb3ZlciBEYXRlLm5vdygpLiBJbiBsYXB0b3AgY29tcHV0ZXJzLCB3ZSBoYXZlXG4gICAgLy8gb2JzZXJ2ZWQgc2tld3MgdGhhdCBjYW4gYmUgYXMgbG9uZyBhcyBkYXlzLCB3ZWVrcyBvciBtb250aHMuXG4gICAgLy9cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjU5MC5cbiAgICAvL1xuICAgIC8vIEJVRzogZGVzcGl0ZSBvdXIgYmVzdCBpbnRlbnRpb25zLCB0aGlzIHdvcmthcm91bmQgaGFzIGl0cyBsaW1pdGF0aW9ucy4gSXQgbW9zdGx5IGFkZHJlc3NlcyB0aW1pbmdzIG9mIHBhZ2Vsb2FkXG4gICAgLy8gdHJhbnNhY3Rpb25zLCBidXQgaWdub3JlcyB0aGUgc2tldyBidWlsdCB1cCBvdmVyIHRpbWUgdGhhdCBjYW4gYXZlcnNlbHkgYWZmZWN0IHRpbWVzdGFtcHMgb2YgbmF2aWdhdGlvblxuICAgIC8vIHRyYW5zYWN0aW9ucyBvZiBsb25nLWxpdmVkIHdlYiBwYWdlcy5cbiAgICB2YXIgdGltZU9yaWdpbiA9IERhdGUubm93KCkgLSBwZXJmb3JtYW5jZS5ub3coKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBub3c6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHBlcmZvcm1hbmNlLm5vdygpOyB9LFxuICAgICAgICB0aW1lT3JpZ2luOiB0aW1lT3JpZ2luLFxuICAgIH07XG59XG4vKipcbiAqIFJldHVybnMgdGhlIG5hdGl2ZSBQZXJmb3JtYW5jZSBBUEkgaW1wbGVtZW50YXRpb24gZnJvbSBOb2RlLmpzLiBSZXR1cm5zIHVuZGVmaW5lZCBpbiBvbGQgTm9kZS5qcyB2ZXJzaW9ucyB0aGF0IGRvbid0XG4gKiBpbXBsZW1lbnQgdGhlIEFQSS5cbiAqL1xuZnVuY3Rpb24gZ2V0Tm9kZVBlcmZvcm1hbmNlKCkge1xuICAgIHRyeSB7XG4gICAgICAgIHZhciBwZXJmSG9va3MgPSBkeW5hbWljUmVxdWlyZShtb2R1bGUsICdwZXJmX2hvb2tzJyk7XG4gICAgICAgIHJldHVybiBwZXJmSG9va3MucGVyZm9ybWFuY2U7XG4gICAgfVxuICAgIGNhdGNoIChfKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufVxuLyoqXG4gKiBUaGUgUGVyZm9ybWFuY2UgQVBJIGltcGxlbWVudGF0aW9uIGZvciB0aGUgY3VycmVudCBwbGF0Zm9ybSwgaWYgYXZhaWxhYmxlLlxuICovXG52YXIgcGxhdGZvcm1QZXJmb3JtYW5jZSA9IGlzTm9kZUVudigpID8gZ2V0Tm9kZVBlcmZvcm1hbmNlKCkgOiBnZXRCcm93c2VyUGVyZm9ybWFuY2UoKTtcbnZhciB0aW1lc3RhbXBTb3VyY2UgPSBwbGF0Zm9ybVBlcmZvcm1hbmNlID09PSB1bmRlZmluZWRcbiAgICA/IGRhdGVUaW1lc3RhbXBTb3VyY2VcbiAgICA6IHtcbiAgICAgICAgbm93U2Vjb25kczogZnVuY3Rpb24gKCkgeyByZXR1cm4gKHBsYXRmb3JtUGVyZm9ybWFuY2UudGltZU9yaWdpbiArIHBsYXRmb3JtUGVyZm9ybWFuY2Uubm93KCkpIC8gMTAwMDsgfSxcbiAgICB9O1xuLyoqXG4gKiBSZXR1cm5zIGEgdGltZXN0YW1wIGluIHNlY29uZHMgc2luY2UgdGhlIFVOSVggZXBvY2ggdXNpbmcgdGhlIERhdGUgQVBJLlxuICovXG5leHBvcnQgdmFyIGRhdGVUaW1lc3RhbXBJblNlY29uZHMgPSBkYXRlVGltZXN0YW1wU291cmNlLm5vd1NlY29uZHMuYmluZChkYXRlVGltZXN0YW1wU291cmNlKTtcbi8qKlxuICogUmV0dXJucyBhIHRpbWVzdGFtcCBpbiBzZWNvbmRzIHNpbmNlIHRoZSBVTklYIGVwb2NoIHVzaW5nIGVpdGhlciB0aGUgUGVyZm9ybWFuY2Ugb3IgRGF0ZSBBUElzLCBkZXBlbmRpbmcgb24gdGhlXG4gKiBhdmFpbGFiaWxpdHkgb2YgdGhlIFBlcmZvcm1hbmNlIEFQSS5cbiAqXG4gKiBTZWUgYHVzaW5nUGVyZm9ybWFuY2VBUElgIHRvIHRlc3Qgd2hldGhlciB0aGUgUGVyZm9ybWFuY2UgQVBJIGlzIHVzZWQuXG4gKlxuICogQlVHOiBOb3RlIHRoYXQgYmVjYXVzZSBvZiBob3cgYnJvd3NlcnMgaW1wbGVtZW50IHRoZSBQZXJmb3JtYW5jZSBBUEksIHRoZSBjbG9jayBtaWdodCBzdG9wIHdoZW4gdGhlIGNvbXB1dGVyIGlzXG4gKiBhc2xlZXAuIFRoaXMgY3JlYXRlcyBhIHNrZXcgYmV0d2VlbiBgZGF0ZVRpbWVzdGFtcEluU2Vjb25kc2AgYW5kIGB0aW1lc3RhbXBJblNlY29uZHNgLiBUaGVcbiAqIHNrZXcgY2FuIGdyb3cgdG8gYXJiaXRyYXJ5IGFtb3VudHMgbGlrZSBkYXlzLCB3ZWVrcyBvciBtb250aHMuXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2dldHNlbnRyeS9zZW50cnktamF2YXNjcmlwdC9pc3N1ZXMvMjU5MC5cbiAqL1xuZXhwb3J0IHZhciB0aW1lc3RhbXBJblNlY29uZHMgPSB0aW1lc3RhbXBTb3VyY2Uubm93U2Vjb25kcy5iaW5kKHRpbWVzdGFtcFNvdXJjZSk7XG4vLyBSZS1leHBvcnRlZCB3aXRoIGFuIG9sZCBuYW1lIGZvciBiYWNrd2FyZHMtY29tcGF0aWJpbGl0eS5cbmV4cG9ydCB2YXIgdGltZXN0YW1wV2l0aE1zID0gdGltZXN0YW1wSW5TZWNvbmRzO1xuLyoqXG4gKiBBIGJvb2xlYW4gdGhhdCBpcyB0cnVlIHdoZW4gdGltZXN0YW1wSW5TZWNvbmRzIHVzZXMgdGhlIFBlcmZvcm1hbmNlIEFQSSB0byBwcm9kdWNlIG1vbm90b25pYyB0aW1lc3RhbXBzLlxuICovXG5leHBvcnQgdmFyIHVzaW5nUGVyZm9ybWFuY2VBUEkgPSBwbGF0Zm9ybVBlcmZvcm1hbmNlICE9PSB1bmRlZmluZWQ7XG4vKipcbiAqIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIHRoZSBVTklYIGVwb2NoLiBUaGlzIHZhbHVlIGlzIG9ubHkgdXNhYmxlIGluIGEgYnJvd3NlciwgYW5kIG9ubHkgd2hlbiB0aGVcbiAqIHBlcmZvcm1hbmNlIEFQSSBpcyBhdmFpbGFibGUuXG4gKi9cbmV4cG9ydCB2YXIgYnJvd3NlclBlcmZvcm1hbmNlVGltZU9yaWdpbiA9IChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHBlcmZvcm1hbmNlID0gZ2V0R2xvYmFsT2JqZWN0KCkucGVyZm9ybWFuY2U7XG4gICAgaWYgKCFwZXJmb3JtYW5jZSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAocGVyZm9ybWFuY2UudGltZU9yaWdpbikge1xuICAgICAgICByZXR1cm4gcGVyZm9ybWFuY2UudGltZU9yaWdpbjtcbiAgICB9XG4gICAgLy8gV2hpbGUgcGVyZm9ybWFuY2UudGltaW5nLm5hdmlnYXRpb25TdGFydCBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW4sIHBlcmZvcm1hbmNlLnRpbWVPcmlnaW5cbiAgICAvLyBpcyBub3QgYXMgd2lkZWx5IHN1cHBvcnRlZC4gTmFtZWx5LCBwZXJmb3JtYW5jZS50aW1lT3JpZ2luIGlzIHVuZGVmaW5lZCBpbiBTYWZhcmkgYXMgb2Ygd3JpdGluZy5cbiAgICAvLyBBbHNvIGFzIG9mIHdyaXRpbmcsIHBlcmZvcm1hbmNlLnRpbWluZyBpcyBub3QgYXZhaWxhYmxlIGluIFdlYiBXb3JrZXJzIGluIG1haW5zdHJlYW0gYnJvd3NlcnMsIHNvIGl0IGlzIG5vdCBhbHdheXNcbiAgICAvLyBhIHZhbGlkIGZhbGxiYWNrLiBJbiB0aGUgYWJzZW5jZSBvZiBhbiBpbml0aWFsIHRpbWUgcHJvdmlkZWQgYnkgdGhlIGJyb3dzZXIsIGZhbGxiYWNrIHRvIHRoZSBjdXJyZW50IHRpbWUgZnJvbSB0aGVcbiAgICAvLyBEYXRlIEFQSS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVwcmVjYXRpb24vZGVwcmVjYXRpb25cbiAgICByZXR1cm4gKHBlcmZvcm1hbmNlLnRpbWluZyAmJiBwZXJmb3JtYW5jZS50aW1pbmcubmF2aWdhdGlvblN0YXJ0KSB8fCBEYXRlLm5vdygpO1xufSkoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRpbWUuanMubWFwIl0sInNvdXJjZVJvb3QiOiIifQ==